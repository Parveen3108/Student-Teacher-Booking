(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var op={exports:{}},No={};var jv;function B1(){if(jv)return No;jv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return No.Fragment=e,No.jsx=i,No.jsxs=i,No}var Uv;function V1(){return Uv||(Uv=1,op.exports=B1()),op.exports}var S=V1(),up={exports:{}},_e={};var Pv;function q1(){if(Pv)return _e;Pv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),C=Symbol.iterator;function U(k){return k===null||typeof k!="object"?null:(k=C&&k[C]||k["@@iterator"],typeof k=="function"?k:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,Z={};function $(k,J,se){this.props=k,this.context=J,this.refs=Z,this.updater=se||z}$.prototype.isReactComponent={},$.prototype.setState=function(k,J){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,J,"setState")},$.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ee(){}ee.prototype=$.prototype;function re(k,J,se){this.props=k,this.context=J,this.refs=Z,this.updater=se||z}var oe=re.prototype=new ee;oe.constructor=re,Q(oe,$.prototype),oe.isPureReactComponent=!0;var me=Array.isArray;function ye(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function x(k,J,se){var ae=se.ref;return{$$typeof:s,type:k,key:J,ref:ae!==void 0?ae:null,props:se}}function L(k,J){return x(k.type,J,k.props)}function D(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function P(k){var J={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(se){return J[se]})}var N=/\/+/g;function st(k,J){return typeof k=="object"&&k!==null&&k.key!=null?P(""+k.key):J.toString(36)}function Rt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ye,ye):(k.status="pending",k.then(function(J){k.status==="pending"&&(k.status="fulfilled",k.value=J)},function(J){k.status==="pending"&&(k.status="rejected",k.reason=J)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function K(k,J,se,ae,ge){var Ee=typeof k;(Ee==="undefined"||Ee==="boolean")&&(k=null);var Me=!1;if(k===null)Me=!0;else switch(Ee){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(k.$$typeof){case s:case e:Me=!0;break;case b:return Me=k._init,K(Me(k._payload),J,se,ae,ge)}}if(Me)return ge=ge(k),Me=ae===""?"."+st(k,0):ae,me(ge)?(se="",Me!=null&&(se=Me.replace(N,"$&/")+"/"),K(ge,J,se,"",function(hr){return hr})):ge!=null&&(D(ge)&&(ge=L(ge,se+(ge.key==null||k&&k.key===ge.key?"":(""+ge.key).replace(N,"$&/")+"/")+Me)),J.push(ge)),1;Me=0;var It=ae===""?".":ae+":";if(me(k))for(var rt=0;rt<k.length;rt++)ae=k[rt],Ee=It+st(ae,rt),Me+=K(ae,J,se,Ee,ge);else if(rt=U(k),typeof rt=="function")for(k=rt.call(k),rt=0;!(ae=k.next()).done;)ae=ae.value,Ee=It+st(ae,rt++),Me+=K(ae,J,se,Ee,ge);else if(Ee==="object"){if(typeof k.then=="function")return K(Rt(k),J,se,ae,ge);throw J=String(k),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Me}function ie(k,J,se){if(k==null)return k;var ae=[],ge=0;return K(k,ae,"","",function(Ee){return J.call(se,Ee,ge++)}),ae}function he(k){if(k._status===-1){var J=k._result;J=J(),J.then(function(se){(k._status===0||k._status===-1)&&(k._status=1,k._result=se)},function(se){(k._status===0||k._status===-1)&&(k._status=2,k._result=se)}),k._status===-1&&(k._status=0,k._result=J)}if(k._status===1)return k._result.default;throw k._result}var Ue=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},qe={map:ie,forEach:function(k,J,se){ie(k,function(){J.apply(this,arguments)},se)},count:function(k){var J=0;return ie(k,function(){J++}),J},toArray:function(k){return ie(k,function(J){return J})||[]},only:function(k){if(!D(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return _e.Activity=E,_e.Children=qe,_e.Component=$,_e.Fragment=i,_e.Profiler=o,_e.PureComponent=re,_e.StrictMode=r,_e.Suspense=p,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,_e.__COMPILER_RUNTIME={__proto__:null,c:function(k){return I.H.useMemoCache(k)}},_e.cache=function(k){return function(){return k.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(k,J,se){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ae=Q({},k.props),ge=k.key;if(J!=null)for(Ee in J.key!==void 0&&(ge=""+J.key),J)!A.call(J,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&J.ref===void 0||(ae[Ee]=J[Ee]);var Ee=arguments.length-2;if(Ee===1)ae.children=se;else if(1<Ee){for(var Me=Array(Ee),It=0;It<Ee;It++)Me[It]=arguments[It+2];ae.children=Me}return x(k.type,ge,ae)},_e.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},_e.createElement=function(k,J,se){var ae,ge={},Ee=null;if(J!=null)for(ae in J.key!==void 0&&(Ee=""+J.key),J)A.call(J,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ge[ae]=J[ae]);var Me=arguments.length-2;if(Me===1)ge.children=se;else if(1<Me){for(var It=Array(Me),rt=0;rt<Me;rt++)It[rt]=arguments[rt+2];ge.children=It}if(k&&k.defaultProps)for(ae in Me=k.defaultProps,Me)ge[ae]===void 0&&(ge[ae]=Me[ae]);return x(k,Ee,ge)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(k){return{$$typeof:m,render:k}},_e.isValidElement=D,_e.lazy=function(k){return{$$typeof:b,_payload:{_status:-1,_result:k},_init:he}},_e.memo=function(k,J){return{$$typeof:_,type:k,compare:J===void 0?null:J}},_e.startTransition=function(k){var J=I.T,se={};I.T=se;try{var ae=k(),ge=I.S;ge!==null&&ge(se,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(ye,Ue)}catch(Ee){Ue(Ee)}finally{J!==null&&se.types!==null&&(J.types=se.types),I.T=J}},_e.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},_e.use=function(k){return I.H.use(k)},_e.useActionState=function(k,J,se){return I.H.useActionState(k,J,se)},_e.useCallback=function(k,J){return I.H.useCallback(k,J)},_e.useContext=function(k){return I.H.useContext(k)},_e.useDebugValue=function(){},_e.useDeferredValue=function(k,J){return I.H.useDeferredValue(k,J)},_e.useEffect=function(k,J){return I.H.useEffect(k,J)},_e.useEffectEvent=function(k){return I.H.useEffectEvent(k)},_e.useId=function(){return I.H.useId()},_e.useImperativeHandle=function(k,J,se){return I.H.useImperativeHandle(k,J,se)},_e.useInsertionEffect=function(k,J){return I.H.useInsertionEffect(k,J)},_e.useLayoutEffect=function(k,J){return I.H.useLayoutEffect(k,J)},_e.useMemo=function(k,J){return I.H.useMemo(k,J)},_e.useOptimistic=function(k,J){return I.H.useOptimistic(k,J)},_e.useReducer=function(k,J,se){return I.H.useReducer(k,J,se)},_e.useRef=function(k){return I.H.useRef(k)},_e.useState=function(k){return I.H.useState(k)},_e.useSyncExternalStore=function(k,J,se){return I.H.useSyncExternalStore(k,J,se)},_e.useTransition=function(){return I.H.useTransition()},_e.version="19.2.3",_e}var zv;function rm(){return zv||(zv=1,up.exports=q1()),up.exports}var M=rm(),cp={exports:{}},Ro={},hp={exports:{}},fp={};var Hv;function F1(){return Hv||(Hv=1,(function(s){function e(K,ie){var he=K.length;K.push(ie);e:for(;0<he;){var Ue=he-1>>>1,qe=K[Ue];if(0<o(qe,ie))K[Ue]=ie,K[he]=qe,he=Ue;else break e}}function i(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ie=K[0],he=K.pop();if(he!==ie){K[0]=he;e:for(var Ue=0,qe=K.length,k=qe>>>1;Ue<k;){var J=2*(Ue+1)-1,se=K[J],ae=J+1,ge=K[ae];if(0>o(se,he))ae<qe&&0>o(ge,se)?(K[Ue]=ge,K[ae]=he,Ue=ae):(K[Ue]=se,K[J]=he,Ue=J);else if(ae<qe&&0>o(ge,he))K[Ue]=ge,K[ae]=he,Ue=ae;else break e}}return ie}function o(K,ie){var he=K.sortIndex-ie.sortIndex;return he!==0?he:K.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var p=[],_=[],b=1,E=null,C=3,U=!1,z=!1,Q=!1,Z=!1,$=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function oe(K){for(var ie=i(_);ie!==null;){if(ie.callback===null)r(_);else if(ie.startTime<=K)r(_),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=i(_)}}function me(K){if(Q=!1,oe(K),!z)if(i(p)!==null)z=!0,ye||(ye=!0,P());else{var ie=i(_);ie!==null&&Rt(me,ie.startTime-K)}}var ye=!1,I=-1,A=5,x=-1;function L(){return Z?!0:!(s.unstable_now()-x<A)}function D(){if(Z=!1,ye){var K=s.unstable_now();x=K;var ie=!0;try{e:{z=!1,Q&&(Q=!1,ee(I),I=-1),U=!0;var he=C;try{t:{for(oe(K),E=i(p);E!==null&&!(E.expirationTime>K&&L());){var Ue=E.callback;if(typeof Ue=="function"){E.callback=null,C=E.priorityLevel;var qe=Ue(E.expirationTime<=K);if(K=s.unstable_now(),typeof qe=="function"){E.callback=qe,oe(K),ie=!0;break t}E===i(p)&&r(p),oe(K)}else r(p);E=i(p)}if(E!==null)ie=!0;else{var k=i(_);k!==null&&Rt(me,k.startTime-K),ie=!1}}break e}finally{E=null,C=he,U=!1}ie=void 0}}finally{ie?P():ye=!1}}}var P;if(typeof re=="function")P=function(){re(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,st=N.port2;N.port1.onmessage=D,P=function(){st.postMessage(null)}}else P=function(){$(D,0)};function Rt(K,ie){I=$(function(){K(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return C},s.unstable_next=function(K){switch(C){case 1:case 2:case 3:var ie=3;break;default:ie=C}var he=C;C=ie;try{return K()}finally{C=he}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(K,ie){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var he=C;C=K;try{return ie()}finally{C=he}},s.unstable_scheduleCallback=function(K,ie,he){var Ue=s.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ue+he:Ue):he=Ue,K){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=he+qe,K={id:b++,callback:ie,priorityLevel:K,startTime:he,expirationTime:qe,sortIndex:-1},he>Ue?(K.sortIndex=he,e(_,K),i(p)===null&&K===i(_)&&(Q?(ee(I),I=-1):Q=!0,Rt(me,he-Ue))):(K.sortIndex=qe,e(p,K),z||U||(z=!0,ye||(ye=!0,P()))),K},s.unstable_shouldYield=L,s.unstable_wrapCallback=function(K){var ie=C;return function(){var he=C;C=ie;try{return K.apply(this,arguments)}finally{C=he}}}})(fp)),fp}var Bv;function G1(){return Bv||(Bv=1,hp.exports=F1()),hp.exports}var dp={exports:{}},Wt={};var Vv;function Y1(){if(Vv)return Wt;Vv=1;var s=rm();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,_,b){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:_,implementation:b}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wt.createPortal=function(p,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(p,_,null,b)},Wt.flushSync=function(p){var _=f.T,b=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=_,r.p=b,r.d.f()}},Wt.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(p,_))},Wt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Wt.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var b=_.as,E=m(b,_.crossOrigin),C=typeof _.integrity=="string"?_.integrity:void 0,U=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?r.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:E,integrity:C,fetchPriority:U}):b==="script"&&r.d.X(p,{crossOrigin:E,integrity:C,fetchPriority:U,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Wt.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=m(_.as,_.crossOrigin);r.d.M(p,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(p)},Wt.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,E=m(b,_.crossOrigin);r.d.L(p,b,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Wt.preloadModule=function(p,_){if(typeof p=="string")if(_){var b=m(_.as,_.crossOrigin);r.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(p)},Wt.requestFormReset=function(p){r.d.r(p)},Wt.unstable_batchedUpdates=function(p,_){return p(_)},Wt.useFormState=function(p,_,b){return f.H.useFormState(p,_,b)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.2.3",Wt}var qv;function K1(){if(qv)return dp.exports;qv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),dp.exports=Y1(),dp.exports}var Fv;function X1(){if(Fv)return Ro;Fv=1;var s=G1(),e=rm(),i=K1();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),n;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var y=!1,T=h.child;T;){if(T===a){y=!0,a=h,l=d;break}if(T===l){y=!0,l=h,a=d;break}T=T.sibling}if(!y){for(T=d.child;T;){if(T===a){y=!0,a=d,l=h;break}if(T===l){y=!0,l=d,a=h;break}T=T.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,C=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),re=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case $:return"Profiler";case Z:return"StrictMode";case me:return"Suspense";case ye:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case re:return t.displayName||"Context";case ee:return(t._context.displayName||"Context")+".Consumer";case oe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:st(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return st(t(n))}catch{}}return null}var Rt=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Ue=[],qe=-1;function k(t){return{current:t}}function J(t){0>qe||(t.current=Ue[qe],Ue[qe]=null,qe--)}function se(t,n){qe++,Ue[qe]=t.current,t.current=n}var ae=k(null),ge=k(null),Ee=k(null),Me=k(null);function It(t,n){switch(se(Ee,n),se(ge,t),se(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?rv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=rv(n),t=av(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(ae),se(ae,t)}function rt(){J(ae),J(ge),J(Ee)}function hr(t){t.memoizedState!==null&&se(Me,t);var n=ae.current,a=av(n,t.type);n!==a&&(se(ge,t),se(ae,a))}function la(t){ge.current===t&&(J(ae),J(ge)),Me.current===t&&(J(Me),wo._currentValue=he)}var oa,ua;function ai(t){if(oa===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);oa=n&&n[1]||"",ua=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oa+t+ua}var Tl=!1;function fr(t,n){if(!t||Tl)return"";Tl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(G){var q=G}Reflect.construct(t,[],W)}else{try{W.call()}catch(G){q=G}t.call(W.prototype)}}else{try{throw Error()}catch(G){q=G}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],T=d[1];if(y&&T){var R=y.split(`
`),V=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===V.length)for(l=R.length-1,h=V.length-1;1<=l&&0<=h&&R[l]!==V[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==V[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==V[h]){var Y=`
`+R[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Tl=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ai(a):""}function wl(t,n){switch(t.tag){case 26:case 27:case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return t.child!==n&&n!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return fr(t.type,!1);case 11:return fr(t.type.render,!1);case 1:return fr(t.type,!0);case 31:return ai("Activity");default:return""}}function Cl(t){try{var n="",a=null;do n+=wl(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,Ot=s.unstable_scheduleCallback,ds=s.unstable_cancelCallback,uf=s.unstable_shouldYield,Cu=s.unstable_requestPaint,Jt=s.unstable_now,dr=s.unstable_getCurrentPriorityLevel,Al=s.unstable_ImmediatePriority,xl=s.unstable_UserBlockingPriority,ps=s.unstable_NormalPriority,cf=s.unstable_LowPriority,Au=s.unstable_IdlePriority,xu=s.log,hf=s.unstable_setDisableYieldValue,Bn=null,Ht=null;function An(t){if(typeof xu=="function"&&hf(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Bn,t)}catch{}}var yt=Math.clz32?Math.clz32:Ru,Nu=Math.log,Nl=Math.LN2;function Ru(t){return t>>>=0,t===0?32:31-(Nu(t)/Nl|0)|0}var li=256,pr=262144,vt=4194304;function oi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ui(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=oi(l):(y&=T,y!==0?h=oi(y):a||(a=T&~t,a!==0&&(h=oi(a))))):(T=l&~d,T!==0?h=oi(T):y!==0?h=oi(y):a||(a=l&~t,a!==0&&(h=oi(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function Vn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ff(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iu(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function ci(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function mr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function df(t,n,a,l,h,d){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,V=t.hiddenUpdates;for(a=y&~a;0<a;){var Y=31-yt(a),W=1<<Y;T[Y]=0,R[Y]=-1;var q=V[Y];if(q!==null)for(V[Y]=null,Y=0;Y<q.length;Y++){var G=q[Y];G!==null&&(G.lane&=-536870913)}a&=~W}l!==0&&ca(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(y&~n))}function ca(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-yt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ou(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-yt(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Rl(t,n){var a=n&-n;return a=(a&42)!==0?1:gr(a),(a&(t.suspendedLanes|n))!==0?0:a}function gr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Li(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Du(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:Rv(t.type))}function qn(t,n){var a=ie.p;try{return ie.p=t,n()}finally{ie.p=a}}var Fn=Math.random().toString(36).slice(2),St="__reactFiber$"+Fn,Lt="__reactProps$"+Fn,hi="__reactContainer$"+Fn,ha="__reactEvents$"+Fn,pf="__reactListeners$"+Fn,Mu="__reactHandles$"+Fn,ku="__reactResources$"+Fn,fi="__reactMarker$"+Fn;function fa(t){delete t[St],delete t[Lt],delete t[ha],delete t[pf],delete t[Mu]}function di(t){var n=t[St];if(n)return n;for(var a=t.parentNode;a;){if(n=a[hi]||a[St]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=dv(t);t!==null;){if(a=t[St])return a;t=dv(t)}return n}t=a,a=t.parentNode}return null}function xn(t){if(t=t[St]||t[hi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function mn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function pi(t){var n=t[ku];return n||(n=t[ku]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Et(t){t[fi]=!0}var Il=new Set,Ol={};function mi(t,n){gi(t,n),gi(t+"Capture",n)}function gi(t,n){for(Ol[t]=n,t=0;t<n.length;t++)Il.add(n[t])}var Dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ml={},kl={};function Lu(t){return _t.call(kl,t)?!0:_t.call(Ml,t)?!1:Dl.test(t)?kl[t]=!0:(Ml[t]=!0,!1)}function da(t,n,a){if(Lu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function gn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function bt(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ms(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ll(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Fe(t){if(!t._valueTracker){var n=ms(t)?"checked":"value";t._valueTracker=Ll(t,n,""+t[n])}}function _r(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=ms(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function _i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var yr=/[\n"\\]/g;function an(t){return t.replace(yr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function pa(t,n,a,l,h,d,y,T){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+jt(n)):t.value!==""+jt(n)&&(t.value=""+jt(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?jl(t,y,jt(n)):a!=null?jl(t,y,jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+jt(T):t.removeAttribute("name")}function ju(t,n,a,l,h,d,y,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Fe(t);return}a=a!=null?""+jt(a):"",n=n!=null?""+jt(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Fe(t)}function jl(t,n,a){n==="number"&&_i(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function gs(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Uu(t,n,a){if(n!=null&&(n=""+jt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+jt(a):""}function _s(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(Rt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=jt(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Fe(t)}function ln(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ul(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Pu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Pl(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Ul(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&Ul(t,d,n[d])}function ma(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(t){return ys.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var zl=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vs=null,yi=null;function vr(t){var n=xn(t);if(n&&(t=n.stateNode)){var a=t[Lt]||null;e:switch(t=n.stateNode,n.type){case"input":if(pa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(r(90));pa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&_r(l)}break e;case"textarea":Uu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&gs(t,!!a.multiple,n,!1)}}}var _a=!1;function Ss(t,n,a){if(_a)return t(n,a);_a=!0;try{var l=t(n);return l}finally{if(_a=!1,(vs!==null||yi!==null)&&(Dc(),vs&&(n=vs,t=yi,yi=vs=null,vr(n),t)))for(n=0;n<t.length;n++)vr(t[n])}}function Yn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sr=!1;if(Rn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Sr=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Sr=!1}var vi=null,Hl=null,Er=null;function Bl(){if(Er)return Er;var t,n=Hl,a=n.length,l,h="value"in vi?vi.value:vi.textContent,d=h.length;for(t=0;t<a&&n[t]===h[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===h[d-l];l++);return Er=h.slice(t,1<l?1-l:void 0)}function br(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ji(){return!0}function Kn(){return!1}function Bt(t){function n(a,l,h,d,y){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ji:Kn,this.isPropagationStopped=Kn,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Bt(Ui),Es=E({},Ui,{view:0,detail:0}),Vl=Bt(Es),bs,ya,Ei,va=E({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xt,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(bs=t.screenX-Ei.screenX,ya=t.screenY-Ei.screenY):ya=bs=0,Ei=t),bs)},movementY:function(t){return"movementY"in t?t.movementY:ya}}),ql=Bt(va),Tr=E({},va,{dataTransfer:0}),Hu=Bt(Tr),Bu=E({},Es,{relatedTarget:0}),wr=Bt(Bu),Fl=E({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),Vu=Bt(Fl),Sa=E({},Ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qu=Bt(Sa),Fu=E({},Ui,{data:0}),bi=Bt(Fu),Gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ku[t])?!!n[t]:!1}function Xt(){return Xu}var Qu=E({},Es,{key:function(t){if(t.key){var n=Gu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=br(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xt,charCode:function(t){return t.type==="keypress"?br(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?br(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wu=Bt(Qu),Ts=E({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),c=Bt(Ts),g=E({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xt}),v=Bt(g),w=E({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),H=Bt(w),F=E({},va,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=Bt(F),ve=E({},Ui,{newState:0,oldState:0}),pt=Bt(ve),Ge=[9,13,27,32],ot=Rn&&"CompositionEvent"in window,Qt=null;Rn&&"documentMode"in document&&(Qt=document.documentMode);var Pi=Rn&&"TextEvent"in window&&!Qt,Xn=Rn&&(!ot||Qt&&8<Qt&&11>=Qt),Qn=" ",Cr=!1;function Ea(t,n){switch(t){case"keyup":return Ge.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ba=!1;function hT(t,n){switch(t){case"compositionend":return mg(n);case"keypress":return n.which!==32?null:(Cr=!0,Qn);case"textInput":return t=n.data,t===Qn&&Cr?null:t;default:return null}}function fT(t,n){if(ba)return t==="compositionend"||!ot&&Ea(t,n)?(t=Bl(),Er=Hl=vi=null,ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Xn&&n.locale!=="ko"?null:n.data;default:return null}}var dT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!dT[t.type]:n==="textarea"}function _g(t,n,a,l){vs?yi?yi.push(l):yi=[l]:vs=l,n=zc(n,"onChange"),0<n.length&&(a=new Si("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Gl=null,Yl=null;function pT(t){$y(t,0)}function Ju(t){var n=mn(t);if(_r(n))return t}function yg(t,n){if(t==="change")return n}var vg=!1;if(Rn){var mf;if(Rn){var gf="oninput"in document;if(!gf){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),gf=typeof Sg.oninput=="function"}mf=gf}else mf=!1;vg=mf&&(!document.documentMode||9<document.documentMode)}function Eg(){Gl&&(Gl.detachEvent("onpropertychange",bg),Yl=Gl=null)}function bg(t){if(t.propertyName==="value"&&Ju(Yl)){var n=[];_g(n,Yl,t,Nn(t)),Ss(pT,n)}}function mT(t,n,a){t==="focusin"?(Eg(),Gl=n,Yl=a,Gl.attachEvent("onpropertychange",bg)):t==="focusout"&&Eg()}function gT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ju(Yl)}function _T(t,n){if(t==="click")return Ju(n)}function yT(t,n){if(t==="input"||t==="change")return Ju(n)}function vT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var _n=typeof Object.is=="function"?Object.is:vT;function Kl(t,n){if(_n(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_t.call(n,h)||!_n(t[h],n[h]))return!1}return!0}function Tg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wg(t,n){var a=Tg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Tg(a)}}function Cg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Cg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=_i(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=_i(t.document)}return n}function _f(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var ST=Rn&&"documentMode"in document&&11>=document.documentMode,Ta=null,yf=null,Xl=null,vf=!1;function xg(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vf||Ta==null||Ta!==_i(l)||(l=Ta,"selectionStart"in l&&_f(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xl&&Kl(Xl,l)||(Xl=l,l=zc(yf,"onSelect"),0<l.length&&(n=new Si("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ta)))}function Ar(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var wa={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionrun:Ar("Transition","TransitionRun"),transitionstart:Ar("Transition","TransitionStart"),transitioncancel:Ar("Transition","TransitionCancel"),transitionend:Ar("Transition","TransitionEnd")},Sf={},Ng={};Rn&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function xr(t){if(Sf[t])return Sf[t];if(!wa[t])return t;var n=wa[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Ng)return Sf[t]=n[a];return t}var Rg=xr("animationend"),Ig=xr("animationiteration"),Og=xr("animationstart"),ET=xr("transitionrun"),bT=xr("transitionstart"),TT=xr("transitioncancel"),Dg=xr("transitionend"),Mg=new Map,Ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ef.push("scrollEnd");function Wn(t,n){Mg.set(t,n),mi(n,[t])}var Zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},In=[],Ca=0,bf=0;function $u(){for(var t=Ca,n=bf=Ca=0;n<t;){var a=In[n];In[n++]=null;var l=In[n];In[n++]=null;var h=In[n];In[n++]=null;var d=In[n];if(In[n++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}d!==0&&kg(a,h,d)}}function ec(t,n,a,l){In[Ca++]=t,In[Ca++]=n,In[Ca++]=a,In[Ca++]=l,bf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Tf(t,n,a,l){return ec(t,n,a,l),tc(t)}function Nr(t,n){return ec(t,null,null,n),tc(t)}function kg(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-yt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),d):null}function tc(t){if(50<_o)throw _o=0,Dd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Aa={};function wT(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,n,a,l){return new wT(t,n,a,l)}function wf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zi(t,n){var a=t.alternate;return a===null?(a=yn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Lg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function nc(t,n,a,l,h,d){var y=0;if(l=t,typeof t=="function")wf(t)&&(y=1);else if(typeof t=="string")y=R1(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=yn(31,a,n,h),t.elementType=x,t.lanes=d,t;case Q:return Rr(a.children,h,d,n);case Z:y=8,h|=24;break;case $:return t=yn(12,a,n,h|2),t.elementType=$,t.lanes=d,t;case me:return t=yn(13,a,n,h),t.elementType=me,t.lanes=d,t;case ye:return t=yn(19,a,n,h),t.elementType=ye,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:y=10;break e;case ee:y=9;break e;case oe:y=11;break e;case I:y=14;break e;case A:y=16,l=null;break e}y=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=yn(y,a,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function Rr(t,n,a,l){return t=yn(7,t,l,n),t.lanes=a,t}function Cf(t,n,a){return t=yn(6,t,null,n),t.lanes=a,t}function jg(t){var n=yn(18,null,null,0);return n.stateNode=t,n}function Af(t,n,a){return n=yn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ug=new WeakMap;function On(t,n){if(typeof t=="object"&&t!==null){var a=Ug.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Cl(n)},Ug.set(t,n),n)}return{value:t,source:n,stack:Cl(n)}}var xa=[],Na=0,ic=null,Ql=0,Dn=[],Mn=0,ws=null,Ti=1,wi="";function Hi(t,n){xa[Na++]=Ql,xa[Na++]=ic,ic=t,Ql=n}function Pg(t,n,a){Dn[Mn++]=Ti,Dn[Mn++]=wi,Dn[Mn++]=ws,ws=t;var l=Ti;t=wi;var h=32-yt(l)-1;l&=~(1<<h),a+=1;var d=32-yt(n)+h;if(30<d){var y=h-h%5;d=(l&(1<<y)-1).toString(32),l>>=y,h-=y,Ti=1<<32-yt(n)+h|a<<h|l,wi=d+t}else Ti=1<<d|a<<h|l,wi=t}function xf(t){t.return!==null&&(Hi(t,1),Pg(t,1,0))}function Nf(t){for(;t===ic;)ic=xa[--Na],xa[Na]=null,Ql=xa[--Na],xa[Na]=null;for(;t===ws;)ws=Dn[--Mn],Dn[Mn]=null,wi=Dn[--Mn],Dn[Mn]=null,Ti=Dn[--Mn],Dn[Mn]=null}function zg(t,n){Dn[Mn++]=Ti,Dn[Mn++]=wi,Dn[Mn++]=ws,Ti=n.id,wi=n.overflow,ws=t}var Vt=null,nt=null,De=!1,Cs=null,kn=!1,Rf=Error(r(519));function As(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wl(On(n,t)),Rf}function Hg(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[St]=t,n[Lt]=l,a){case"dialog":Ae("cancel",n),Ae("close",n);break;case"iframe":case"object":case"embed":Ae("load",n);break;case"video":case"audio":for(a=0;a<vo.length;a++)Ae(vo[a],n);break;case"source":Ae("error",n);break;case"img":case"image":case"link":Ae("error",n),Ae("load",n);break;case"details":Ae("toggle",n);break;case"input":Ae("invalid",n),ju(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ae("invalid",n);break;case"textarea":Ae("invalid",n),_s(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||iv(n.textContent,a)?(l.popover!=null&&(Ae("beforetoggle",n),Ae("toggle",n)),l.onScroll!=null&&Ae("scroll",n),l.onScrollEnd!=null&&Ae("scrollend",n),l.onClick!=null&&(n.onclick=Gn),n=!0):n=!1,n||As(t,!0)}function Bg(t){for(Vt=t.return;Vt;)switch(Vt.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Vt=Vt.return}}function Ra(t){if(t!==Vt)return!1;if(!De)return Bg(t),De=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Kd(t.type,t.memoizedProps)),a=!a),a&&nt&&As(t),Bg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=fv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=fv(t)}else n===27?(n=nt,Hs(t.type)?(t=Zd,Zd=null,nt=t):nt=n):nt=Vt?jn(t.stateNode.nextSibling):null;return!0}function Ir(){nt=Vt=null,De=!1}function If(){var t=Cs;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Cs=null),t}function Wl(t){Cs===null?Cs=[t]:Cs.push(t)}var Of=k(null),Or=null,Bi=null;function xs(t,n,a){se(Of,n._currentValue),n._currentValue=a}function Vi(t){t._currentValue=Of.current,J(Of)}function Df(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Mf(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Df(d.return,a,t),l||(y=null);break e}d=T.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),Df(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Ia(t,n,a,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var T=h.type;_n(h.pendingProps.value,y.value)||(t!==null?t.push(T):t=[T])}}else if(h===Me.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(wo):t=[wo])}h=h.return}t!==null&&Mf(n,t,a,l),n.flags|=262144}function sc(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Dr(t){Or=t,Bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return Vg(Or,t)}function rc(t,n){return Or===null&&Dr(t),Vg(t,n)}function Vg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Bi===null){if(t===null)throw Error(r(308));Bi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Bi=Bi.next=n;return a}var CT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},AT=s.unstable_scheduleCallback,xT=s.unstable_NormalPriority,Tt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new CT,data:new Map,refCount:0}}function Jl(t){t.refCount--,t.refCount===0&&AT(xT,function(){t.controller.abort()})}var Zl=null,Lf=0,Oa=0,Da=null;function NT(t,n){if(Zl===null){var a=Zl=[];Lf=0,Oa=Pd(),Da={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Lf++,n.then(qg,qg),n}function qg(){if(--Lf===0&&Zl!==null){Da!==null&&(Da.status="fulfilled");var t=Zl;Zl=null,Oa=0,Da=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function RT(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Fg=K.S;K.S=function(t,n){xy=Jt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&NT(t,n),Fg!==null&&Fg(t,n)};var Mr=k(null);function jf(){var t=Mr.current;return t!==null?t:$e.pooledCache}function ac(t,n){n===null?se(Mr,Mr.current):se(Mr,n.pool)}function Gg(){var t=jf();return t===null?null:{parent:Tt._currentValue,pool:t}}var Ma=Error(r(460)),Uf=Error(r(474)),lc=Error(r(542)),oc={then:function(){}};function Yg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Kg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Gn,Gn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Qg(t),t;default:if(typeof n.status=="string")n.then(Gn,Gn);else{if(t=$e,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Qg(t),t}throw Lr=n,Ma}}function kr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Lr=a,Ma):a}}var Lr=null;function Xg(){if(Lr===null)throw Error(r(459));var t=Lr;return Lr=null,t}function Qg(t){if(t===Ma||t===lc)throw Error(r(483))}var ka=null,$l=0;function uc(t){var n=$l;return $l+=1,ka===null&&(ka=[]),Kg(ka,t,n)}function eo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function cc(t,n){throw n.$$typeof===C?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Wg(t){function n(j,O){if(t){var B=j.deletions;B===null?(j.deletions=[O],j.flags|=16):B.push(O)}}function a(j,O){if(!t)return null;for(;O!==null;)n(j,O),O=O.sibling;return null}function l(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function h(j,O){return j=zi(j,O),j.index=0,j.sibling=null,j}function d(j,O,B){return j.index=B,t?(B=j.alternate,B!==null?(B=B.index,B<O?(j.flags|=67108866,O):B):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function y(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,O,B,X){return O===null||O.tag!==6?(O=Cf(B,j.mode,X),O.return=j,O):(O=h(O,B),O.return=j,O)}function R(j,O,B,X){var ce=B.type;return ce===Q?Y(j,O,B.props.children,X,B.key):O!==null&&(O.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===A&&kr(ce)===O.type)?(O=h(O,B.props),eo(O,B),O.return=j,O):(O=nc(B.type,B.key,B.props,null,j.mode,X),eo(O,B),O.return=j,O)}function V(j,O,B,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=Af(B,j.mode,X),O.return=j,O):(O=h(O,B.children||[]),O.return=j,O)}function Y(j,O,B,X,ce){return O===null||O.tag!==7?(O=Rr(B,j.mode,X,ce),O.return=j,O):(O=h(O,B),O.return=j,O)}function W(j,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Cf(""+O,j.mode,B),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case U:return B=nc(O.type,O.key,O.props,null,j.mode,B),eo(B,O),B.return=j,B;case z:return O=Af(O,j.mode,B),O.return=j,O;case A:return O=kr(O),W(j,O,B)}if(Rt(O)||P(O))return O=Rr(O,j.mode,B,null),O.return=j,O;if(typeof O.then=="function")return W(j,uc(O),B);if(O.$$typeof===re)return W(j,rc(j,O),B);cc(j,O)}return null}function q(j,O,B,X){var ce=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ce!==null?null:T(j,O,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case U:return B.key===ce?R(j,O,B,X):null;case z:return B.key===ce?V(j,O,B,X):null;case A:return B=kr(B),q(j,O,B,X)}if(Rt(B)||P(B))return ce!==null?null:Y(j,O,B,X,null);if(typeof B.then=="function")return q(j,O,uc(B),X);if(B.$$typeof===re)return q(j,O,rc(j,B),X);cc(j,B)}return null}function G(j,O,B,X,ce){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return j=j.get(B)||null,T(O,j,""+X,ce);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case U:return j=j.get(X.key===null?B:X.key)||null,R(O,j,X,ce);case z:return j=j.get(X.key===null?B:X.key)||null,V(O,j,X,ce);case A:return X=kr(X),G(j,O,B,X,ce)}if(Rt(X)||P(X))return j=j.get(B)||null,Y(O,j,X,ce,null);if(typeof X.then=="function")return G(j,O,B,uc(X),ce);if(X.$$typeof===re)return G(j,O,B,rc(O,X),ce);cc(O,X)}return null}function le(j,O,B,X){for(var ce=null,Pe=null,ue=O,be=O=0,Re=null;ue!==null&&be<B.length;be++){ue.index>be?(Re=ue,ue=null):Re=ue.sibling;var ze=q(j,ue,B[be],X);if(ze===null){ue===null&&(ue=Re);break}t&&ue&&ze.alternate===null&&n(j,ue),O=d(ze,O,be),Pe===null?ce=ze:Pe.sibling=ze,Pe=ze,ue=Re}if(be===B.length)return a(j,ue),De&&Hi(j,be),ce;if(ue===null){for(;be<B.length;be++)ue=W(j,B[be],X),ue!==null&&(O=d(ue,O,be),Pe===null?ce=ue:Pe.sibling=ue,Pe=ue);return De&&Hi(j,be),ce}for(ue=l(ue);be<B.length;be++)Re=G(ue,j,be,B[be],X),Re!==null&&(t&&Re.alternate!==null&&ue.delete(Re.key===null?be:Re.key),O=d(Re,O,be),Pe===null?ce=Re:Pe.sibling=Re,Pe=Re);return t&&ue.forEach(function(Gs){return n(j,Gs)}),De&&Hi(j,be),ce}function fe(j,O,B,X){if(B==null)throw Error(r(151));for(var ce=null,Pe=null,ue=O,be=O=0,Re=null,ze=B.next();ue!==null&&!ze.done;be++,ze=B.next()){ue.index>be?(Re=ue,ue=null):Re=ue.sibling;var Gs=q(j,ue,ze.value,X);if(Gs===null){ue===null&&(ue=Re);break}t&&ue&&Gs.alternate===null&&n(j,ue),O=d(Gs,O,be),Pe===null?ce=Gs:Pe.sibling=Gs,Pe=Gs,ue=Re}if(ze.done)return a(j,ue),De&&Hi(j,be),ce;if(ue===null){for(;!ze.done;be++,ze=B.next())ze=W(j,ze.value,X),ze!==null&&(O=d(ze,O,be),Pe===null?ce=ze:Pe.sibling=ze,Pe=ze);return De&&Hi(j,be),ce}for(ue=l(ue);!ze.done;be++,ze=B.next())ze=G(ue,j,be,ze.value,X),ze!==null&&(t&&ze.alternate!==null&&ue.delete(ze.key===null?be:ze.key),O=d(ze,O,be),Pe===null?ce=ze:Pe.sibling=ze,Pe=ze);return t&&ue.forEach(function(H1){return n(j,H1)}),De&&Hi(j,be),ce}function We(j,O,B,X){if(typeof B=="object"&&B!==null&&B.type===Q&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case U:e:{for(var ce=B.key;O!==null;){if(O.key===ce){if(ce=B.type,ce===Q){if(O.tag===7){a(j,O.sibling),X=h(O,B.props.children),X.return=j,j=X;break e}}else if(O.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===A&&kr(ce)===O.type){a(j,O.sibling),X=h(O,B.props),eo(X,B),X.return=j,j=X;break e}a(j,O);break}else n(j,O);O=O.sibling}B.type===Q?(X=Rr(B.props.children,j.mode,X,B.key),X.return=j,j=X):(X=nc(B.type,B.key,B.props,null,j.mode,X),eo(X,B),X.return=j,j=X)}return y(j);case z:e:{for(ce=B.key;O!==null;){if(O.key===ce)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(j,O.sibling),X=h(O,B.children||[]),X.return=j,j=X;break e}else{a(j,O);break}else n(j,O);O=O.sibling}X=Af(B,j.mode,X),X.return=j,j=X}return y(j);case A:return B=kr(B),We(j,O,B,X)}if(Rt(B))return le(j,O,B,X);if(P(B)){if(ce=P(B),typeof ce!="function")throw Error(r(150));return B=ce.call(B),fe(j,O,B,X)}if(typeof B.then=="function")return We(j,O,uc(B),X);if(B.$$typeof===re)return We(j,O,rc(j,B),X);cc(j,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(a(j,O.sibling),X=h(O,B),X.return=j,j=X):(a(j,O),X=Cf(B,j.mode,X),X.return=j,j=X),y(j)):a(j,O)}return function(j,O,B,X){try{$l=0;var ce=We(j,O,B,X);return ka=null,ce}catch(ue){if(ue===Ma||ue===lc)throw ue;var Pe=yn(29,ue,null,j.mode);return Pe.lanes=X,Pe.return=j,Pe}}}var jr=Wg(!0),Jg=Wg(!1),Ns=!1;function Pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Rs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Is(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Be&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=tc(t),kg(t,null,a),n}return ec(t,l,n,a),tc(t)}function to(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Ou(t,a)}}function Hf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Bf=!1;function no(){if(Bf){var t=Da;if(t!==null)throw t}}function io(t,n,a,l){Bf=!1;var h=t.updateQueue;Ns=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,V=R.next;R.next=null,y===null?d=V:y.next=V,y=R;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==y&&(T===null?Y.firstBaseUpdate=V:T.next=V,Y.lastBaseUpdate=R))}if(d!==null){var W=h.baseState;y=0,Y=V=R=null,T=d;do{var q=T.lane&-536870913,G=q!==T.lane;if(G?(Ne&q)===q:(l&q)===q){q!==0&&q===Oa&&(Bf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var le=t,fe=T;q=n;var We=a;switch(fe.tag){case 1:if(le=fe.payload,typeof le=="function"){W=le.call(We,W,q);break e}W=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=fe.payload,q=typeof le=="function"?le.call(We,W,q):le,q==null)break e;W=E({},W,q);break e;case 2:Ns=!0}}q=T.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[q]:G.push(q))}else G={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(V=Y=G,R=W):Y=Y.next=G,y|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Y===null&&(R=W),h.baseState=R,h.firstBaseUpdate=V,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Ls|=y,t.lanes=y,t.memoizedState=W}}function Zg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function $g(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Zg(a[t],n)}var La=k(null),hc=k(0);function e_(t,n){t=Ji,se(hc,t),se(La,n),Ji=t|n.baseLanes}function Vf(){se(hc,Ji),se(La,La.current)}function qf(){Ji=hc.current,J(La),J(hc)}var vn=k(null),Ln=null;function Os(t){var n=t.alternate;se(mt,mt.current&1),se(vn,t),Ln===null&&(n===null||La.current!==null||n.memoizedState!==null)&&(Ln=t)}function Ff(t){se(mt,mt.current),se(vn,t),Ln===null&&(Ln=t)}function t_(t){t.tag===22?(se(mt,mt.current),se(vn,t),Ln===null&&(Ln=t)):Ds()}function Ds(){se(mt,mt.current),se(vn,vn.current)}function Sn(t){J(vn),Ln===t&&(Ln=null),J(mt)}var mt=k(0);function fc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Wd(a)||Jd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qi=0,Se=null,Xe=null,wt=null,dc=!1,ja=!1,Ur=!1,pc=0,so=0,Ua=null,IT=0;function ut(){throw Error(r(321))}function Gf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!_n(t[a],n[a]))return!1;return!0}function Yf(t,n,a,l,h,d){return qi=d,Se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?P_:ld,Ur=!1,d=a(l,h),Ur=!1,ja&&(d=i_(n,a,l,h)),n_(t),d}function n_(t){K.H=lo;var n=Xe!==null&&Xe.next!==null;if(qi=0,wt=Xe=Se=null,dc=!1,so=0,Ua=null,n)throw Error(r(300));t===null||Ct||(t=t.dependencies,t!==null&&sc(t)&&(Ct=!0))}function i_(t,n,a,l){Se=t;var h=0;do{if(ja&&(Ua=null),so=0,ja=!1,25<=h)throw Error(r(301));if(h+=1,wt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=z_,d=n(a,l)}while(ja);return d}function OT(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?ro(n):n,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Se.flags|=1024),n}function Kf(){var t=pc!==0;return pc=0,t}function Xf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Qf(t){if(dc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}dc=!1}qi=0,wt=Xe=Se=null,ja=!1,so=pc=0,Ua=null}function Zt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Se.memoizedState=wt=t:wt=wt.next=t,wt}function gt(){if(Xe===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var n=wt===null?Se.memoizedState:wt.next;if(n!==null)wt=n,Xe=t;else{if(t===null)throw Se.alternate===null?Error(r(467)):Error(r(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},wt===null?Se.memoizedState=wt=t:wt=wt.next=t}return wt}function mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ro(t){var n=so;return so+=1,Ua===null&&(Ua=[]),t=Kg(Ua,t,n),n=Se,(wt===null?n.memoizedState:wt.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?P_:ld),t}function gc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ro(t);if(t.$$typeof===re)return qt(t)}throw Error(r(438,String(t)))}function Wf(t){var n=null,a=Se.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Se.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=mc(),Se.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=L;return n.index++,a}function Fi(t,n){return typeof n=="function"?n(t):n}function _c(t){var n=gt();return Jf(n,Xe,t)}function Jf(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var T=y=null,R=null,V=n,Y=!1;do{var W=V.lane&-536870913;if(W!==V.lane?(Ne&W)===W:(qi&W)===W){var q=V.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),W===Oa&&(Y=!0);else if((qi&q)===q){V=V.next,q===Oa&&(Y=!0);continue}else W={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},R===null?(T=R=W,y=d):R=R.next=W,Se.lanes|=q,Ls|=q;W=V.action,Ur&&a(d,W),d=V.hasEagerState?V.eagerState:a(d,W)}else q={lane:W,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},R===null?(T=R=q,y=d):R=R.next=q,Se.lanes|=W,Ls|=W;V=V.next}while(V!==null&&V!==n);if(R===null?y=d:R.next=T,!_n(d,t.memoizedState)&&(Ct=!0,Y&&(a=Da,a!==null)))throw a;t.memoizedState=d,t.baseState=y,t.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Zf(t){var n=gt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do d=t(d,y.action),y=y.next;while(y!==h);_n(d,n.memoizedState)||(Ct=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function s_(t,n,a){var l=Se,h=gt(),d=De;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!_n((Xe||h).memoizedState,a);if(y&&(h.memoizedState=a,Ct=!0),h=h.queue,td(l_.bind(null,l,h,t),[t]),h.getSnapshot!==n||y||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Pa(9,{destroy:void 0},a_.bind(null,l,h,a,n),null),$e===null)throw Error(r(349));d||(qi&127)!==0||r_(l,n,a)}return a}function r_(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Se.updateQueue,n===null?(n=mc(),Se.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function a_(t,n,a,l){n.value=a,n.getSnapshot=l,o_(n)&&u_(t)}function l_(t,n,a){return a(function(){o_(n)&&u_(t)})}function o_(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!_n(t,a)}catch{return!0}}function u_(t){var n=Nr(t,2);n!==null&&fn(n,t,2)}function $f(t){var n=Zt();if(typeof t=="function"){var a=t;if(t=a(),Ur){An(!0);try{a()}finally{An(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:t},n}function c_(t,n,a,l){return t.baseState=a,Jf(t,Xe,typeof l=="function"?l:Fi)}function DT(t,n,a,l,h){if(Sc(t))throw Error(r(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,h_(n,d)):(d.next=a.next,n.pending=a.next=d)}}function h_(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=K.T,y={};K.T=y;try{var T=a(h,l),R=K.S;R!==null&&R(y,T),f_(t,n,T)}catch(V){ed(t,n,V)}finally{d!==null&&y.types!==null&&(d.types=y.types),K.T=d}}else try{d=a(h,l),f_(t,n,d)}catch(V){ed(t,n,V)}}function f_(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){d_(t,n,l)},function(l){return ed(t,n,l)}):d_(t,n,a)}function d_(t,n,a){n.status="fulfilled",n.value=a,p_(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,h_(t,a)))}function ed(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,p_(n),n=n.next;while(n!==l)}t.action=null}function p_(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function m_(t,n){return n}function g_(t,n){if(De){var a=$e.formState;if(a!==null){e:{var l=Se;if(De){if(nt){t:{for(var h=nt,d=kn;h.nodeType!==8;){if(!d){h=null;break t}if(h=jn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){nt=jn(h.nextSibling),l=h.data==="F!";break e}}As(l)}l=!1}l&&(n=a[0])}}return a=Zt(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m_,lastRenderedState:n},a.queue=l,a=L_.bind(null,Se,l),l.dispatch=a,l=$f(!1),d=ad.bind(null,Se,!1,l.queue),l=Zt(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=DT.bind(null,Se,h,d,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function __(t){var n=gt();return y_(n,Xe,t)}function y_(t,n,a){if(n=Jf(t,n,m_)[0],t=_c(Fi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ro(n)}catch(y){throw y===Ma?lc:y}else l=n;n=gt();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(Se.flags|=2048,Pa(9,{destroy:void 0},MT.bind(null,h,a),null)),[l,d,t]}function MT(t,n){t.action=n}function v_(t){var n=gt(),a=Xe;if(a!==null)return y_(n,a,t);gt(),n=n.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Pa(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Se.updateQueue,n===null&&(n=mc(),Se.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function S_(){return gt().memoizedState}function yc(t,n,a,l){var h=Zt();Se.flags|=t,h.memoizedState=Pa(1|n,{destroy:void 0},a,l===void 0?null:l)}function vc(t,n,a,l){var h=gt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&Gf(l,Xe.memoizedState.deps)?h.memoizedState=Pa(n,d,a,l):(Se.flags|=t,h.memoizedState=Pa(1|n,d,a,l))}function E_(t,n){yc(8390656,8,t,n)}function td(t,n){vc(2048,8,t,n)}function kT(t){Se.flags|=4;var n=Se.updateQueue;if(n===null)n=mc(),Se.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function b_(t){var n=gt().memoizedState;return kT({ref:n,nextImpl:t}),function(){if((Be&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function T_(t,n){return vc(4,2,t,n)}function w_(t,n){return vc(4,4,t,n)}function C_(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function A_(t,n,a){a=a!=null?a.concat([t]):null,vc(4,4,C_.bind(null,n,t),a)}function nd(){}function x_(t,n){var a=gt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Gf(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function N_(t,n){var a=gt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Gf(n,l[1]))return l[0];if(l=t(),Ur){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,n],l}function id(t,n,a){return a===void 0||(qi&1073741824)!==0&&(Ne&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Ry(),Se.lanes|=t,Ls|=t,a)}function R_(t,n,a,l){return _n(a,n)?a:La.current!==null?(t=id(t,a,l),_n(t,n)||(Ct=!0),t):(qi&42)===0||(qi&1073741824)!==0&&(Ne&261930)===0?(Ct=!0,t.memoizedState=a):(t=Ry(),Se.lanes|=t,Ls|=t,n)}function I_(t,n,a,l,h){var d=ie.p;ie.p=d!==0&&8>d?d:8;var y=K.T,T={};K.T=T,ad(t,!1,n,a);try{var R=h(),V=K.S;if(V!==null&&V(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Y=RT(R,l);ao(t,n,Y,Tn(t))}else ao(t,n,l,Tn(t))}catch(W){ao(t,n,{then:function(){},status:"rejected",reason:W},Tn())}finally{ie.p=d,y!==null&&T.types!==null&&(y.types=T.types),K.T=y}}function LT(){}function sd(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=O_(t).queue;I_(t,h,n,he,a===null?LT:function(){return D_(t),a(l)})}function O_(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:he},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function D_(t){var n=O_(t);n.next===null&&(n=t.alternate.memoizedState),ao(t,n.next.queue,{},Tn())}function rd(){return qt(wo)}function M_(){return gt().memoizedState}function k_(){return gt().memoizedState}function jT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Tn();t=Rs(a);var l=Is(n,t,a);l!==null&&(fn(l,n,a),to(l,n,a)),n={cache:kf()},t.payload=n;return}n=n.return}}function UT(t,n,a){var l=Tn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Sc(t)?j_(n,a):(a=Tf(t,n,a,l),a!==null&&(fn(a,t,l),U_(a,n,l)))}function L_(t,n,a){var l=Tn();ao(t,n,a,l)}function ao(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Sc(t))j_(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,T=d(y,a);if(h.hasEagerState=!0,h.eagerState=T,_n(T,y))return ec(t,n,h,0),$e===null&&$u(),!1}catch{}if(a=Tf(t,n,h,l),a!==null)return fn(a,t,l),U_(a,n,l),!0}return!1}function ad(t,n,a,l){if(l={lane:2,revertLane:Pd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Sc(t)){if(n)throw Error(r(479))}else n=Tf(t,a,l,2),n!==null&&fn(n,t,2)}function Sc(t){var n=t.alternate;return t===Se||n!==null&&n===Se}function j_(t,n){ja=dc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function U_(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Ou(t,a)}}var lo={readContext:qt,use:gc,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};lo.useEffectEvent=ut;var P_={readContext:qt,use:gc,useCallback:function(t,n){return Zt().memoizedState=[t,n===void 0?null:n],t},useContext:qt,useEffect:E_,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,yc(4194308,4,C_.bind(null,n,t),a)},useLayoutEffect:function(t,n){return yc(4194308,4,t,n)},useInsertionEffect:function(t,n){yc(4,2,t,n)},useMemo:function(t,n){var a=Zt();n=n===void 0?null:n;var l=t();if(Ur){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Zt();if(a!==void 0){var h=a(n);if(Ur){An(!0);try{a(n)}finally{An(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=UT.bind(null,Se,t),[l.memoizedState,t]},useRef:function(t){var n=Zt();return t={current:t},n.memoizedState=t},useState:function(t){t=$f(t);var n=t.queue,a=L_.bind(null,Se,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:nd,useDeferredValue:function(t,n){var a=Zt();return id(a,t,n)},useTransition:function(){var t=$f(!1);return t=I_.bind(null,Se,t.queue,!0,!1),Zt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Se,h=Zt();if(De){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),$e===null)throw Error(r(349));(Ne&127)!==0||r_(l,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,E_(l_.bind(null,l,d,t),[t]),l.flags|=2048,Pa(9,{destroy:void 0},a_.bind(null,l,d,a,n),null),a},useId:function(){var t=Zt(),n=$e.identifierPrefix;if(De){var a=wi,l=Ti;a=(l&~(1<<32-yt(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=pc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=IT++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:rd,useFormState:g_,useActionState:g_,useOptimistic:function(t){var n=Zt();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=ad.bind(null,Se,!0,a),a.dispatch=n,[t,n]},useMemoCache:Wf,useCacheRefresh:function(){return Zt().memoizedState=jT.bind(null,Se)},useEffectEvent:function(t){var n=Zt(),a={impl:t};return n.memoizedState=a,function(){if((Be&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},ld={readContext:qt,use:gc,useCallback:x_,useContext:qt,useEffect:td,useImperativeHandle:A_,useInsertionEffect:T_,useLayoutEffect:w_,useMemo:N_,useReducer:_c,useRef:S_,useState:function(){return _c(Fi)},useDebugValue:nd,useDeferredValue:function(t,n){var a=gt();return R_(a,Xe.memoizedState,t,n)},useTransition:function(){var t=_c(Fi)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:ro(t),n]},useSyncExternalStore:s_,useId:M_,useHostTransitionStatus:rd,useFormState:__,useActionState:__,useOptimistic:function(t,n){var a=gt();return c_(a,Xe,t,n)},useMemoCache:Wf,useCacheRefresh:k_};ld.useEffectEvent=b_;var z_={readContext:qt,use:gc,useCallback:x_,useContext:qt,useEffect:td,useImperativeHandle:A_,useInsertionEffect:T_,useLayoutEffect:w_,useMemo:N_,useReducer:Zf,useRef:S_,useState:function(){return Zf(Fi)},useDebugValue:nd,useDeferredValue:function(t,n){var a=gt();return Xe===null?id(a,t,n):R_(a,Xe.memoizedState,t,n)},useTransition:function(){var t=Zf(Fi)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:ro(t),n]},useSyncExternalStore:s_,useId:M_,useHostTransitionStatus:rd,useFormState:v_,useActionState:v_,useOptimistic:function(t,n){var a=gt();return Xe!==null?c_(a,Xe,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Wf,useCacheRefresh:k_};z_.useEffectEvent=b_;function od(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:E({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ud={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Tn(),h=Rs(l);h.payload=n,a!=null&&(h.callback=a),n=Is(t,h,l),n!==null&&(fn(n,t,l),to(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Tn(),h=Rs(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Is(t,h,l),n!==null&&(fn(n,t,l),to(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Tn(),l=Rs(a);l.tag=2,n!=null&&(l.callback=n),n=Is(t,l,a),n!==null&&(fn(n,t,a),to(n,t,a))}};function H_(t,n,a,l,h,d,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,y):n.prototype&&n.prototype.isPureReactComponent?!Kl(a,l)||!Kl(h,d):!0}function B_(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&ud.enqueueReplaceState(n,n.state,null)}function Pr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function V_(t){Zu(t)}function q_(t){console.error(t)}function F_(t){Zu(t)}function Ec(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function G_(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function cd(t,n,a){return a=Rs(a),a.tag=3,a.payload={element:null},a.callback=function(){Ec(t,n)},a}function Y_(t){return t=Rs(t),t.tag=3,t}function K_(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){G_(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){G_(n,a,l),typeof h!="function"&&(js===null?js=new Set([this]):js.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function PT(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ia(n,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?Mc():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===oc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Ld(t,l,h)),!1;case 22:return a.flags|=65536,l===oc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Ld(t,l,h)),!1}throw Error(r(435,a.tag))}return Ld(t,l,h),Mc(),!1}if(De)return n=vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Rf&&(t=Error(r(422),{cause:l}),Wl(On(t,a)))):(l!==Rf&&(n=Error(r(423),{cause:l}),Wl(On(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=On(l,a),h=cd(t.stateNode,l,h),Hf(t,h),ct!==4&&(ct=2)),!1;var d=Error(r(520),{cause:l});if(d=On(d,a),go===null?go=[d]:go.push(d),ct!==4&&(ct=2),n===null)return!0;l=On(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=cd(a.stateNode,l,t),Hf(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(js===null||!js.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Y_(h),K_(h,t,a,l),Hf(a,h),!1}a=a.return}while(a!==null);return!1}var hd=Error(r(461)),Ct=!1;function Ft(t,n,a,l){n.child=t===null?Jg(n,null,a,l):jr(n,t.child,a,l)}function X_(t,n,a,l,h){a=a.render;var d=n.ref;if("ref"in l){var y={};for(var T in l)T!=="ref"&&(y[T]=l[T])}else y=l;return Dr(n),l=Yf(t,n,a,y,d,h),T=Kf(),t!==null&&!Ct?(Xf(t,n,h),Gi(t,n,h)):(De&&T&&xf(n),n.flags|=1,Ft(t,n,l,h),n.child)}function Q_(t,n,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!wf(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,W_(t,n,d,l,h)):(t=nc(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!vd(t,h)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:Kl,a(y,l)&&t.ref===n.ref)return Gi(t,n,h)}return n.flags|=1,t=zi(d,l),t.ref=n.ref,t.return=n,n.child=t}function W_(t,n,a,l,h){if(t!==null){var d=t.memoizedProps;if(Kl(d,l)&&t.ref===n.ref)if(Ct=!1,n.pendingProps=l=d,vd(t,h))(t.flags&131072)!==0&&(Ct=!0);else return n.lanes=t.lanes,Gi(t,n,h)}return fd(t,n,a,l,h)}function J_(t,n,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return Z_(t,n,d,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ac(n,d!==null?d.cachePool:null),d!==null?e_(n,d):Vf(),t_(n);else return l=n.lanes=536870912,Z_(t,n,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ac(n,d.cachePool),e_(n,d),Ds(),n.memoizedState=null):(t!==null&&ac(n,null),Vf(),Ds());return Ft(t,n,h,a),n.child}function oo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Z_(t,n,a,l,h){var d=jf();return d=d===null?null:{parent:Tt._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},t!==null&&ac(n,null),Vf(),t_(n),t!==null&&Ia(t,n,l,!0),n.childLanes=h,null}function bc(t,n){return n=wc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function $_(t,n,a){return jr(n,t.child,null,a),t=bc(n,n.pendingProps),t.flags|=2,Sn(n),n.memoizedState=null,t}function zT(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(De){if(l.mode==="hidden")return t=bc(n,l),n.lanes=536870912,oo(null,t);if(Ff(n),(t=nt)?(t=hv(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ws!==null?{id:Ti,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=jg(t),a.return=n,n.child=a,Vt=n,nt=null)):t=null,t===null)throw As(n);return n.lanes=536870912,null}return bc(n,l)}var d=t.memoizedState;if(d!==null){var y=d.dehydrated;if(Ff(n),h)if(n.flags&256)n.flags&=-257,n=$_(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ct||Ia(t,n,a,!1),h=(a&t.childLanes)!==0,Ct||h){if(l=$e,l!==null&&(y=Rl(l,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,Nr(t,y),fn(l,t,y),hd;Mc(),n=$_(t,n,a)}else t=d.treeContext,nt=jn(y.nextSibling),Vt=n,De=!0,Cs=null,kn=!1,t!==null&&zg(n,t),n=bc(n,l),n.flags|=4096;return n}return t=zi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Tc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function fd(t,n,a,l,h){return Dr(n),a=Yf(t,n,a,l,void 0,h),l=Kf(),t!==null&&!Ct?(Xf(t,n,h),Gi(t,n,h)):(De&&l&&xf(n),n.flags|=1,Ft(t,n,a,h),n.child)}function ey(t,n,a,l,h,d){return Dr(n),n.updateQueue=null,a=i_(n,l,a,h),n_(t),l=Kf(),t!==null&&!Ct?(Xf(t,n,d),Gi(t,n,d)):(De&&l&&xf(n),n.flags|=1,Ft(t,n,a,d),n.child)}function ty(t,n,a,l,h){if(Dr(n),n.stateNode===null){var d=Aa,y=a.contextType;typeof y=="object"&&y!==null&&(d=qt(y)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ud,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Pf(n),y=a.contextType,d.context=typeof y=="object"&&y!==null?qt(y):Aa,d.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(od(n,a,y,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&ud.enqueueReplaceState(d,d.state,null),io(n,l,d,h),no(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var T=n.memoizedProps,R=Pr(a,T);d.props=R;var V=d.context,Y=a.contextType;y=Aa,typeof Y=="object"&&Y!==null&&(y=qt(Y));var W=a.getDerivedStateFromProps;Y=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||V!==y)&&B_(n,d,l,y),Ns=!1;var q=n.memoizedState;d.state=q,io(n,l,d,h),no(),V=n.memoizedState,T||q!==V||Ns?(typeof W=="function"&&(od(n,a,W,l),V=n.memoizedState),(R=Ns||H_(n,a,R,l,q,V,y))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=V),d.props=l,d.state=V,d.context=y,l=R):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,zf(t,n),y=n.memoizedProps,Y=Pr(a,y),d.props=Y,W=n.pendingProps,q=d.context,V=a.contextType,R=Aa,typeof V=="object"&&V!==null&&(R=qt(V)),T=a.getDerivedStateFromProps,(V=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==W||q!==R)&&B_(n,d,l,R),Ns=!1,q=n.memoizedState,d.state=q,io(n,l,d,h),no();var G=n.memoizedState;y!==W||q!==G||Ns||t!==null&&t.dependencies!==null&&sc(t.dependencies)?(typeof T=="function"&&(od(n,a,T,l),G=n.memoizedState),(Y=Ns||H_(n,a,Y,l,q,G,R)||t!==null&&t.dependencies!==null&&sc(t.dependencies))?(V||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,R)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),d.props=l,d.state=G,d.context=R,l=Y):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Tc(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=jr(n,t.child,null,h),n.child=jr(n,null,a,h)):Ft(t,n,a,h),n.memoizedState=d.state,t=n.child):t=Gi(t,n,h),t}function ny(t,n,a,l){return Ir(),n.flags|=256,Ft(t,n,a,l),n.child}var dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pd(t){return{baseLanes:t,cachePool:Gg()}}function md(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=bn),t}function iy(t,n,a){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,y;if((y=d)||(y=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(De){if(h?Os(n):Ds(),(t=nt)?(t=hv(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ws!==null?{id:Ti,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=jg(t),a.return=n,n.child=a,Vt=n,nt=null)):t=null,t===null)throw As(n);return Jd(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ds(),h=n.mode,T=wc({mode:"hidden",children:T},h),l=Rr(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=pd(a),l.childLanes=md(t,y,a),n.memoizedState=dd,oo(null,l)):(Os(n),gd(n,T))}var R=t.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(d)n.flags&256?(Os(n),n.flags&=-257,n=_d(t,n,a)):n.memoizedState!==null?(Ds(),n.child=t.child,n.flags|=128,n=null):(Ds(),T=l.fallback,h=n.mode,l=wc({mode:"visible",children:l.children},h),T=Rr(T,h,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,jr(n,t.child,null,a),l=n.child,l.memoizedState=pd(a),l.childLanes=md(t,y,a),n.memoizedState=dd,n=oo(null,l));else if(Os(n),Jd(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var V=y.dgst;y=V,l=Error(r(419)),l.stack="",l.digest=y,Wl({value:l,source:null,stack:null}),n=_d(t,n,a)}else if(Ct||Ia(t,n,a,!1),y=(a&t.childLanes)!==0,Ct||y){if(y=$e,y!==null&&(l=Rl(y,a),l!==0&&l!==R.retryLane))throw R.retryLane=l,Nr(t,l),fn(y,t,l),hd;Wd(T)||Mc(),n=_d(t,n,a)}else Wd(T)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,nt=jn(T.nextSibling),Vt=n,De=!0,Cs=null,kn=!1,t!==null&&zg(n,t),n=gd(n,l.children),n.flags|=4096);return n}return h?(Ds(),T=l.fallback,h=n.mode,R=t.child,V=R.sibling,l=zi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,V!==null?T=zi(V,T):(T=Rr(T,h,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,oo(null,l),l=n.child,T=t.child.memoizedState,T===null?T=pd(a):(h=T.cachePool,h!==null?(R=Tt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Gg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=md(t,y,a),n.memoizedState=dd,oo(t.child,l)):(Os(n),a=t.child,t=a.sibling,a=zi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function gd(t,n){return n=wc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function wc(t,n){return t=yn(22,t,null,n),t.lanes=0,t}function _d(t,n,a){return jr(n,t.child,null,a),t=gd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function sy(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Df(t.return,n,a)}function yd(t,n,a,l,h,d){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=h,y.treeForkCount=d)}function ry(t,n,a){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var y=mt.current,T=(y&2)!==0;if(T?(y=y&1|2,n.flags|=128):y&=1,se(mt,y),Ft(t,n,l,a),l=De?Ql:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sy(t,a,n);else if(t.tag===19)sy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&fc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),yd(n,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&fc(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}yd(n,!0,a,null,d,l);break;case"together":yd(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Gi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ls|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ia(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=zi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=zi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function vd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&sc(t)))}function HT(t,n,a){switch(n.tag){case 3:It(n,n.stateNode.containerInfo),xs(n,Tt,t.memoizedState.cache),Ir();break;case 27:case 5:hr(n);break;case 4:It(n,n.stateNode.containerInfo);break;case 10:xs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ff(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Os(n),n.flags|=128,null):(a&n.child.childLanes)!==0?iy(t,n,a):(Os(n),t=Gi(t,n,a),t!==null?t.sibling:null);Os(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ia(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return ry(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(mt,mt.current),l)break;return null;case 22:return n.lanes=0,J_(t,n,a,n.pendingProps);case 24:xs(n,Tt,t.memoizedState.cache)}return Gi(t,n,a)}function ay(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ct=!0;else{if(!vd(t,a)&&(n.flags&128)===0)return Ct=!1,HT(t,n,a);Ct=(t.flags&131072)!==0}else Ct=!1,De&&(n.flags&1048576)!==0&&Pg(n,Ql,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=kr(n.elementType),n.type=t,typeof t=="function")wf(t)?(l=Pr(t,l),n.tag=1,n=ty(null,n,t,l,a)):(n.tag=0,n=fd(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===oe){n.tag=11,n=X_(null,n,t,l,a);break e}else if(h===I){n.tag=14,n=Q_(null,n,t,l,a);break e}}throw n=st(t)||t,Error(r(306,n,""))}}return n;case 0:return fd(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Pr(l,n.pendingProps),ty(t,n,l,h,a);case 3:e:{if(It(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,zf(t,n),io(n,l,null,a);var y=n.memoizedState;if(l=y.cache,xs(n,Tt,l),l!==d.cache&&Mf(n,[Tt],a,!0),no(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=ny(t,n,l,a);break e}else if(l!==h){h=On(Error(r(424)),n),Wl(h),n=ny(t,n,l,a);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,nt=jn(t.firstChild),Vt=n,De=!0,Cs=null,kn=!0,a=Jg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ir(),l===h){n=Gi(t,n,a);break e}Ft(t,n,l,a)}n=n.child}return n;case 26:return Tc(t,n),t===null?(a=_v(n.type,null,n.pendingProps,null))?n.memoizedState=a:De||(a=n.type,t=n.pendingProps,l=Hc(Ee.current).createElement(a),l[St]=n,l[Lt]=t,Gt(l,a,t),Et(l),n.stateNode=l):n.memoizedState=_v(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return hr(n),t===null&&De&&(l=n.stateNode=pv(n.type,n.pendingProps,Ee.current),Vt=n,kn=!0,h=nt,Hs(n.type)?(Zd=h,nt=jn(l.firstChild)):nt=h),Ft(t,n,n.pendingProps.children,a),Tc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&De&&((h=l=nt)&&(l=g1(l,n.type,n.pendingProps,kn),l!==null?(n.stateNode=l,Vt=n,nt=jn(l.firstChild),kn=!1,h=!0):h=!1),h||As(n)),hr(n),h=n.type,d=n.pendingProps,y=t!==null?t.memoizedProps:null,l=d.children,Kd(h,d)?l=null:y!==null&&Kd(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Yf(t,n,OT,null,null,a),wo._currentValue=h),Tc(t,n),Ft(t,n,l,a),n.child;case 6:return t===null&&De&&((t=a=nt)&&(a=_1(a,n.pendingProps,kn),a!==null?(n.stateNode=a,Vt=n,nt=null,t=!0):t=!1),t||As(n)),null;case 13:return iy(t,n,a);case 4:return It(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=jr(n,null,l,a):Ft(t,n,l,a),n.child;case 11:return X_(t,n,n.type,n.pendingProps,a);case 7:return Ft(t,n,n.pendingProps,a),n.child;case 8:return Ft(t,n,n.pendingProps.children,a),n.child;case 12:return Ft(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,xs(n,n.type,l.value),Ft(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Dr(n),h=qt(h),l=l(h),n.flags|=1,Ft(t,n,l,a),n.child;case 14:return Q_(t,n,n.type,n.pendingProps,a);case 15:return W_(t,n,n.type,n.pendingProps,a);case 19:return ry(t,n,a);case 31:return zT(t,n,a);case 22:return J_(t,n,a,n.pendingProps);case 24:return Dr(n),l=qt(Tt),t===null?(h=jf(),h===null&&(h=$e,d=kf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:l,cache:h},Pf(n),xs(n,Tt,h)):((t.lanes&a)!==0&&(zf(t,n),io(n,null,null,a),no()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),xs(n,Tt,l)):(l=d.cache,xs(n,Tt,l),l!==h.cache&&Mf(n,[Tt],a,!0))),Ft(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Yi(t){t.flags|=4}function Sd(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(My())t.flags|=8192;else throw Lr=oc,Uf}else t.flags&=-16777217}function ly(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!bv(n))if(My())t.flags|=8192;else throw Lr=oc,Uf}function Cc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Iu():536870912,t.lanes|=n,Va|=n)}function uo(t,n){if(!De)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function BT(t,n,a){var l=n.pendingProps;switch(Nf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(n),null;case 1:return it(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Vi(Tt),rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ra(n)?Yi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,If())),it(n),null;case 26:var h=n.type,d=n.memoizedState;return t===null?(Yi(n),d!==null?(it(n),ly(n,d)):(it(n),Sd(n,h,null,l,a))):d?d!==t.memoizedState?(Yi(n),it(n),ly(n,d)):(it(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Yi(n),it(n),Sd(n,h,t,l,a)),null;case 27:if(la(n),a=Ee.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Yi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return it(n),null}t=ae.current,Ra(n)?Hg(n):(t=pv(h,l,a),n.stateNode=t,Yi(n))}return it(n),null;case 5:if(la(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Yi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return it(n),null}if(d=ae.current,Ra(n))Hg(n);else{var y=Hc(Ee.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}d[St]=n,d[Lt]=l;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Yi(n)}}return it(n),Sd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Yi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=Ee.current,Ra(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=Vt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||iv(t.nodeValue,a)),t||As(n,!0)}else t=Hc(t).createTextNode(l),t[St]=n,n.stateNode=t}return it(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ra(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[St]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),t=!1}else a=If(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Sn(n),n):(Sn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return it(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ra(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[St]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),h=!1}else h=If(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Sn(n),n):(Sn(n),null)}return Sn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Cc(n,n.updateQueue),it(n),null);case 4:return rt(),t===null&&Vd(n.stateNode.containerInfo),it(n),null;case 10:return Vi(n.type),it(n),null;case 19:if(J(mt),l=n.memoizedState,l===null)return it(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)uo(l,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=fc(t),d!==null){for(n.flags|=128,uo(l,!1),t=d.updateQueue,n.updateQueue=t,Cc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Lg(a,t),a=a.sibling;return se(mt,mt.current&1|2),De&&Hi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Jt()>Ic&&(n.flags|=128,h=!0,uo(l,!1),n.lanes=4194304)}else{if(!h)if(t=fc(d),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Cc(n,t),uo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!De)return it(n),null}else 2*Jt()-l.renderingStartTime>Ic&&a!==536870912&&(n.flags|=128,h=!0,uo(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(t=l.last,t!==null?t.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Jt(),t.sibling=null,a=mt.current,se(mt,h?a&1|2:a&1),De&&Hi(n,l.treeForkCount),t):(it(n),null);case 22:case 23:return Sn(n),qf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(it(n),n.subtreeFlags&6&&(n.flags|=8192)):it(n),a=n.updateQueue,a!==null&&Cc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&J(Mr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Vi(Tt),it(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function VT(t,n){switch(Nf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Vi(Tt),rt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return la(n),null;case 31:if(n.memoizedState!==null){if(Sn(n),n.alternate===null)throw Error(r(340));Ir()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Sn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ir()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return J(mt),null;case 4:return rt(),null;case 10:return Vi(n.type),null;case 22:case 23:return Sn(n),qf(),t!==null&&J(Mr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Vi(Tt),null;case 25:return null;default:return null}}function oy(t,n){switch(Nf(n),n.tag){case 3:Vi(Tt),rt();break;case 26:case 27:case 5:la(n);break;case 4:rt();break;case 31:n.memoizedState!==null&&Sn(n);break;case 13:Sn(n);break;case 19:J(mt);break;case 10:Vi(n.type);break;case 22:case 23:Sn(n),qf(),t!==null&&J(Mr);break;case 24:Vi(Tt)}}function co(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,y=a.inst;l=d(),y.destroy=l}a=a.next}while(a!==h)}}catch(T){Ke(n,n.return,T)}}function Ms(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var y=l.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,h=n;var R=a,V=T;try{V()}catch(Y){Ke(h,R,Y)}}}l=l.next}while(l!==d)}}catch(Y){Ke(n,n.return,Y)}}function uy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{$g(n,a)}catch(l){Ke(t,t.return,l)}}}function cy(t,n,a){a.props=Pr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ke(t,n,l)}}function ho(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ke(t,n,h)}}function Ci(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ke(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ke(t,n,h)}else a.current=null}function hy(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ke(t,t.return,h)}}function Ed(t,n,a){try{var l=t.stateNode;c1(l,t.type,a,n),l[Lt]=n}catch(h){Ke(t,t.return,h)}}function fy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Hs(t.type)||t.tag===4}function bd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Hs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Td(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Gn));else if(l!==4&&(l===27&&Hs(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Td(t,n,a),t=t.sibling;t!==null;)Td(t,n,a),t=t.sibling}function Ac(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Hs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ac(t,n,a),t=t.sibling;t!==null;)Ac(t,n,a),t=t.sibling}function dy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Gt(n,l,a),n[St]=t,n[Lt]=a}catch(d){Ke(t,t.return,d)}}var Ki=!1,At=!1,wd=!1,py=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function qT(t,n){if(t=t.containerInfo,Gd=Kc,t=Ag(t),_f(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var y=0,T=-1,R=-1,V=0,Y=0,W=t,q=null;t:for(;;){for(var G;W!==a||h!==0&&W.nodeType!==3||(T=y+h),W!==d||l!==0&&W.nodeType!==3||(R=y+l),W.nodeType===3&&(y+=W.nodeValue.length),(G=W.firstChild)!==null;)q=W,W=G;for(;;){if(W===t)break t;if(q===a&&++V===h&&(T=y),q===d&&++Y===l&&(R=y),(G=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=G}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yd={focusedElem:t,selectionRange:a},Kc=!1,Ut=n;Ut!==null;)if(n=Ut,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ut=t;else for(;Ut!==null;){switch(n=Ut,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var le=Pr(a.type,h);t=l.getSnapshotBeforeUpdate(le,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(fe){Ke(a,a.return,fe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Qd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ut=t;break}Ut=n.return}}function my(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(t,a),l&4&&co(5,a);break;case 1:if(Qi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Ke(a,a.return,y)}else{var h=Pr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Ke(a,a.return,y)}}l&64&&uy(a),l&512&&ho(a,a.return);break;case 3:if(Qi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{$g(t,n)}catch(y){Ke(a,a.return,y)}}break;case 27:n===null&&l&4&&dy(a);case 26:case 5:Qi(t,a),n===null&&l&4&&hy(a),l&512&&ho(a,a.return);break;case 12:Qi(t,a);break;case 31:Qi(t,a),l&4&&yy(t,a);break;case 13:Qi(t,a),l&4&&vy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=ZT.bind(null,a),y1(t,a))));break;case 22:if(l=a.memoizedState!==null||Ki,!l){n=n!==null&&n.memoizedState!==null||At,h=Ki;var d=At;Ki=l,(At=n)&&!d?Wi(t,a,(a.subtreeFlags&8772)!==0):Qi(t,a),Ki=h,At=d}break;case 30:break;default:Qi(t,a)}}function gy(t){var n=t.alternate;n!==null&&(t.alternate=null,gy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&fa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,on=!1;function Xi(t,n,a){for(a=a.child;a!==null;)_y(t,n,a),a=a.sibling}function _y(t,n,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:At||Ci(a,n),Xi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:At||Ci(a,n);var l=at,h=on;Hs(a.type)&&(at=a.stateNode,on=!1),Xi(t,n,a),Eo(a.stateNode),at=l,on=h;break;case 5:At||Ci(a,n);case 6:if(l=at,h=on,at=null,Xi(t,n,a),at=l,on=h,at!==null)if(on)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(d){Ke(a,n,d)}else try{at.removeChild(a.stateNode)}catch(d){Ke(a,n,d)}break;case 18:at!==null&&(on?(t=at,uv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Wa(t)):uv(at,a.stateNode));break;case 4:l=at,h=on,at=a.stateNode.containerInfo,on=!0,Xi(t,n,a),at=l,on=h;break;case 0:case 11:case 14:case 15:Ms(2,a,n),At||Ms(4,a,n),Xi(t,n,a);break;case 1:At||(Ci(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&cy(a,n,l)),Xi(t,n,a);break;case 21:Xi(t,n,a);break;case 22:At=(l=At)||a.memoizedState!==null,Xi(t,n,a),At=l;break;default:Xi(t,n,a)}}function yy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Wa(t)}catch(a){Ke(n,n.return,a)}}}function vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wa(t)}catch(a){Ke(n,n.return,a)}}function FT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new py),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new py),n;default:throw Error(r(435,t.tag))}}function xc(t,n){var a=FT(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=$T.bind(null,t,l);l.then(h,h)}})}function un(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,y=n,T=y;e:for(;T!==null;){switch(T.tag){case 27:if(Hs(T.type)){at=T.stateNode,on=!1;break e}break;case 5:at=T.stateNode,on=!1;break e;case 3:case 4:at=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(at===null)throw Error(r(160));_y(d,y,h),at=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Sy(n,t),n=n.sibling}var Jn=null;function Sy(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),l&4&&(Ms(3,t,t.return),co(3,t),Ms(5,t,t.return));break;case 1:un(n,t),cn(t),l&512&&(At||a===null||Ci(a,a.return)),l&64&&Ki&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Jn;if(un(n,t),cn(t),l&512&&(At||a===null||Ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[fi]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[St]=t,Et(d),l=d;break e;case"link":var y=Sv("link","href",h).get(l+(a.href||""));if(y){for(var T=0;T<y.length;T++)if(d=y[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(T,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(y=Sv("meta","content",h).get(l+(a.content||""))){for(T=0;T<y.length;T++)if(d=y[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(T,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[St]=t,Et(d),l=d}t.stateNode=l}else Ev(h,t.type,t.stateNode);else t.stateNode=vv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Ev(h,t.type,t.stateNode):vv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ed(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(n,t),cn(t),l&512&&(At||a===null||Ci(a,a.return)),a!==null&&l&4&&Ed(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(n,t),cn(t),l&512&&(At||a===null||Ci(a,a.return)),t.flags&32){h=t.stateNode;try{ln(h,"")}catch(le){Ke(t,t.return,le)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ed(t,h,a!==null?a.memoizedProps:h)),l&1024&&(wd=!0);break;case 6:if(un(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(le){Ke(t,t.return,le)}}break;case 3:if(qc=null,h=Jn,Jn=Bc(n.containerInfo),un(n,t),Jn=h,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Wa(n.containerInfo)}catch(le){Ke(t,t.return,le)}wd&&(wd=!1,Ey(t));break;case 4:l=Jn,Jn=Bc(t.stateNode.containerInfo),un(n,t),cn(t),Jn=l;break;case 12:un(n,t),cn(t);break;case 31:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xc(t,l)));break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rc=Jt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xc(t,l)));break;case 22:h=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,V=Ki,Y=At;if(Ki=V||h,At=Y||R,un(n,t),At=Y,Ki=V,cn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||Ki||At||zr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(d=R.stateNode,h)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=R.stateNode;var W=R.memoizedProps.style,q=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(le){Ke(R,R.return,le)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(le){Ke(R,R.return,le)}}}else if(n.tag===18){if(a===null){R=n;try{var G=R.stateNode;h?cv(G,!0):cv(R.stateNode,!1)}catch(le){Ke(R,R.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,xc(t,a))));break;case 19:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xc(t,l)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(fy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=bd(t);Ac(t,d,h);break;case 5:var y=a.stateNode;a.flags&32&&(ln(y,""),a.flags&=-33);var T=bd(t);Ac(t,T,y);break;case 3:case 4:var R=a.stateNode.containerInfo,V=bd(t);Td(t,V,R);break;default:throw Error(r(161))}}catch(Y){Ke(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ey(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ey(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Qi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)my(t,n.alternate,n),n=n.sibling}function zr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ms(4,n,n.return),zr(n);break;case 1:Ci(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&cy(n,n.return,a),zr(n);break;case 27:Eo(n.stateNode);case 26:case 5:Ci(n,n.return),zr(n);break;case 22:n.memoizedState===null&&zr(n);break;case 30:zr(n);break;default:zr(n)}t=t.sibling}}function Wi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,y=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(h,d,a),co(4,d);break;case 1:if(Wi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(V){Ke(l,l.return,V)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Zg(R[h],T)}catch(V){Ke(l,l.return,V)}}a&&y&64&&uy(d),ho(d,d.return);break;case 27:dy(d);case 26:case 5:Wi(h,d,a),a&&l===null&&y&4&&hy(d),ho(d,d.return);break;case 12:Wi(h,d,a);break;case 31:Wi(h,d,a),a&&y&4&&yy(h,d);break;case 13:Wi(h,d,a),a&&y&4&&vy(h,d);break;case 22:d.memoizedState===null&&Wi(h,d,a),ho(d,d.return);break;case 30:break;default:Wi(h,d,a)}n=n.sibling}}function Cd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Jl(a))}function Ad(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Jl(t))}function Zn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)by(t,n,a,l),n=n.sibling}function by(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(t,n,a,l),h&2048&&co(9,n);break;case 1:Zn(t,n,a,l);break;case 3:Zn(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Jl(t)));break;case 12:if(h&2048){Zn(t,n,a,l),t=n.stateNode;try{var d=n.memoizedProps,y=d.id,T=d.onPostCommit;typeof T=="function"&&T(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Ke(n,n.return,R)}}else Zn(t,n,a,l);break;case 31:Zn(t,n,a,l);break;case 13:Zn(t,n,a,l);break;case 23:break;case 22:d=n.stateNode,y=n.alternate,n.memoizedState!==null?d._visibility&2?Zn(t,n,a,l):fo(t,n):d._visibility&2?Zn(t,n,a,l):(d._visibility|=2,za(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Cd(y,n);break;case 24:Zn(t,n,a,l),h&2048&&Ad(n.alternate,n);break;default:Zn(t,n,a,l)}}function za(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,y=n,T=a,R=l,V=y.flags;switch(y.tag){case 0:case 11:case 15:za(d,y,T,R,h),co(8,y);break;case 23:break;case 22:var Y=y.stateNode;y.memoizedState!==null?Y._visibility&2?za(d,y,T,R,h):fo(d,y):(Y._visibility|=2,za(d,y,T,R,h)),h&&V&2048&&Cd(y.alternate,y);break;case 24:za(d,y,T,R,h),h&&V&2048&&Ad(y.alternate,y);break;default:za(d,y,T,R,h)}n=n.sibling}}function fo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:fo(a,l),h&2048&&Cd(l.alternate,l);break;case 24:fo(a,l),h&2048&&Ad(l.alternate,l);break;default:fo(a,l)}n=n.sibling}}var po=8192;function Ha(t,n,a){if(t.subtreeFlags&po)for(t=t.child;t!==null;)Ty(t,n,a),t=t.sibling}function Ty(t,n,a){switch(t.tag){case 26:Ha(t,n,a),t.flags&po&&t.memoizedState!==null&&I1(a,Jn,t.memoizedState,t.memoizedProps);break;case 5:Ha(t,n,a);break;case 3:case 4:var l=Jn;Jn=Bc(t.stateNode.containerInfo),Ha(t,n,a),Jn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=po,po=16777216,Ha(t,n,a),po=l):Ha(t,n,a));break;default:Ha(t,n,a)}}function wy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function mo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ut=l,Ay(l,t)}wy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cy(t),t=t.sibling}function Cy(t){switch(t.tag){case 0:case 11:case 15:mo(t),t.flags&2048&&Ms(9,t,t.return);break;case 3:mo(t);break;case 12:mo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Nc(t)):mo(t);break;default:mo(t)}}function Nc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ut=l,Ay(l,t)}wy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ms(8,n,n.return),Nc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Nc(n));break;default:Nc(n)}t=t.sibling}}function Ay(t,n){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Ms(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(gy(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var GT={getCacheForType:function(t){var n=qt(Tt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qt(Tt).controller.signal}},YT=typeof WeakMap=="function"?WeakMap:Map,Be=0,$e=null,Ce=null,Ne=0,Ye=0,En=null,ks=!1,Ba=!1,xd=!1,Ji=0,ct=0,Ls=0,Hr=0,Nd=0,bn=0,Va=0,go=null,hn=null,Rd=!1,Rc=0,xy=0,Ic=1/0,Oc=null,js=null,Dt=0,Us=null,qa=null,Zi=0,Id=0,Od=null,Ny=null,_o=0,Dd=null;function Tn(){return(Be&2)!==0&&Ne!==0?Ne&-Ne:K.T!==null?Pd():Du()}function Ry(){if(bn===0)if((Ne&536870912)===0||De){var t=pr;pr<<=1,(pr&3932160)===0&&(pr=262144),bn=t}else bn=536870912;return t=vn.current,t!==null&&(t.flags|=32),bn}function fn(t,n,a){(t===$e&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Fa(t,0),Ps(t,Ne,bn,!1)),mr(t,a),((Be&2)===0||t!==$e)&&(t===$e&&((Be&2)===0&&(Hr|=a),ct===4&&Ps(t,Ne,bn,!1)),Ai(t))}function Iy(t,n,a){if((Be&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Vn(t,n),h=l?QT(t,n):kd(t,n,!0),d=l;do{if(h===0){Ba&&!l&&Ps(t,n,0,!1);break}else{if(a=t.current.alternate,d&&!KT(a)){h=kd(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var T=t;h=go;var R=T.current.memoizedState.isDehydrated;if(R&&(Fa(T,y).flags|=256),y=kd(T,y,!1),y!==2){if(xd&&!R){T.errorRecoveryDisabledLanes|=d,Hr|=d,h=4;break e}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=y}if(d=!1,h!==2)continue}}if(h===1){Fa(t,0),Ps(t,n,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ps(l,n,bn,!ks);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Rc+300-Jt(),10<h)){if(Ps(l,n,bn,!ks),ui(l,0,!0)!==0)break e;Zi=n,l.timeoutHandle=lv(Oy.bind(null,l,a,hn,Oc,Rd,n,bn,Hr,Va,ks,d,"Throttled",-0,0),h);break e}Oy(l,a,hn,Oc,Rd,n,bn,Hr,Va,ks,d,null,-0,0)}}break}while(!0);Ai(t)}function Oy(t,n,a,l,h,d,y,T,R,V,Y,W,q,G){if(t.timeoutHandle=-1,W=n.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},Ty(n,d,W);var le=(d&62914560)===d?Rc-Jt():(d&4194048)===d?xy-Jt():0;if(le=O1(W,le),le!==null){Zi=d,t.cancelPendingCommit=le(zy.bind(null,t,n,d,a,l,h,y,T,R,Y,W,null,q,G)),Ps(t,d,y,!V);return}}zy(t,n,d,a,l,h,y,T,R)}function KT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ps(t,n,a,l){n&=~Nd,n&=~Hr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-yt(h),y=1<<d;l[d]=-1,h&=~y}a!==0&&ca(t,a,n)}function Dc(){return(Be&6)===0?(yo(0),!1):!0}function Md(){if(Ce!==null){if(Ye===0)var t=Ce.return;else t=Ce,Bi=Or=null,Qf(t),ka=null,$l=0,t=Ce;for(;t!==null;)oy(t.alternate,t),t=t.return;Ce=null}}function Fa(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,d1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Zi=0,Md(),$e=t,Ce=a=zi(t.current,null),Ne=n,Ye=0,En=null,ks=!1,Ba=Vn(t,n),xd=!1,Va=bn=Nd=Hr=Ls=ct=0,hn=go=null,Rd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-yt(l),d=1<<h;n|=t[h],l&=~d}return Ji=n,$u(),a}function Dy(t,n){Se=null,K.H=lo,n===Ma||n===lc?(n=Xg(),Ye=3):n===Uf?(n=Xg(),Ye=4):Ye=n===hd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Ce===null&&(ct=1,Ec(t,On(n,t.current)))}function My(){var t=vn.current;return t===null?!0:(Ne&4194048)===Ne?Ln===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?t===Ln:!1}function ky(){var t=K.H;return K.H=lo,t===null?lo:t}function Ly(){var t=K.A;return K.A=GT,t}function Mc(){ct=4,ks||(Ne&4194048)!==Ne&&vn.current!==null||(Ba=!0),(Ls&134217727)===0&&(Hr&134217727)===0||$e===null||Ps($e,Ne,bn,!1)}function kd(t,n,a){var l=Be;Be|=2;var h=ky(),d=Ly();($e!==t||Ne!==n)&&(Oc=null,Fa(t,n)),n=!1;var y=ct;e:do try{if(Ye!==0&&Ce!==null){var T=Ce,R=En;switch(Ye){case 8:Md(),y=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(n=!0);var V=Ye;if(Ye=0,En=null,Ga(t,T,R,V),a&&Ba){y=0;break e}break;default:V=Ye,Ye=0,En=null,Ga(t,T,R,V)}}XT(),y=ct;break}catch(Y){Dy(t,Y)}while(!0);return n&&t.shellSuspendCounter++,Bi=Or=null,Be=l,K.H=h,K.A=d,Ce===null&&($e=null,Ne=0,$u()),y}function XT(){for(;Ce!==null;)jy(Ce)}function QT(t,n){var a=Be;Be|=2;var l=ky(),h=Ly();$e!==t||Ne!==n?(Oc=null,Ic=Jt()+500,Fa(t,n)):Ba=Vn(t,n);e:do try{if(Ye!==0&&Ce!==null){n=Ce;var d=En;t:switch(Ye){case 1:Ye=0,En=null,Ga(t,n,d,1);break;case 2:case 9:if(Yg(d)){Ye=0,En=null,Uy(n);break}n=function(){Ye!==2&&Ye!==9||$e!==t||(Ye=7),Ai(t)},d.then(n,n);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Yg(d)?(Ye=0,En=null,Uy(n)):(Ye=0,En=null,Ga(t,n,d,7));break;case 5:var y=null;switch(Ce.tag){case 26:y=Ce.memoizedState;case 5:case 27:var T=Ce;if(y?bv(y):T.stateNode.complete){Ye=0,En=null;var R=T.sibling;if(R!==null)Ce=R;else{var V=T.return;V!==null?(Ce=V,kc(V)):Ce=null}break t}}Ye=0,En=null,Ga(t,n,d,5);break;case 6:Ye=0,En=null,Ga(t,n,d,6);break;case 8:Md(),ct=6;break e;default:throw Error(r(462))}}WT();break}catch(Y){Dy(t,Y)}while(!0);return Bi=Or=null,K.H=l,K.A=h,Be=a,Ce!==null?0:($e=null,Ne=0,$u(),ct)}function WT(){for(;Ce!==null&&!uf();)jy(Ce)}function jy(t){var n=ay(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,n===null?kc(t):Ce=n}function Uy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=ey(a,n,n.pendingProps,n.type,void 0,Ne);break;case 11:n=ey(a,n,n.pendingProps,n.type.render,n.ref,Ne);break;case 5:Qf(n);default:oy(a,n),n=Ce=Lg(n,Ji),n=ay(a,n,Ji)}t.memoizedProps=t.pendingProps,n===null?kc(t):Ce=n}function Ga(t,n,a,l){Bi=Or=null,Qf(n),ka=null,$l=0;var h=n.return;try{if(PT(t,h,n,a,Ne)){ct=1,Ec(t,On(a,t.current)),Ce=null;return}}catch(d){if(h!==null)throw Ce=h,d;ct=1,Ec(t,On(a,t.current)),Ce=null;return}n.flags&32768?(De||l===1?t=!0:Ba||(Ne&536870912)!==0?t=!1:(ks=t=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Py(n,t)):kc(n)}function kc(t){var n=t;do{if((n.flags&32768)!==0){Py(n,ks);return}t=n.return;var a=BT(n.alternate,n,Ji);if(a!==null){Ce=a;return}if(n=n.sibling,n!==null){Ce=n;return}Ce=n=t}while(n!==null);ct===0&&(ct=5)}function Py(t,n){do{var a=VT(t.alternate,t);if(a!==null){a.flags&=32767,Ce=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=a}while(t!==null);ct=6,Ce=null}function zy(t,n,a,l,h,d,y,T,R){t.cancelPendingCommit=null;do Lc();while(Dt!==0);if((Be&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=bf,df(t,a,d,y,T,R),t===$e&&(Ce=$e=null,Ne=0),qa=n,Us=t,Zi=a,Id=d,Od=h,Ny=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,e1(ps,function(){return Fy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ie.p,ie.p=2,y=Be,Be|=4;try{qT(t,n,a)}finally{Be=y,ie.p=h,K.T=l}}Dt=1,Hy(),By(),Vy()}}function Hy(){if(Dt===1){Dt=0;var t=Us,n=qa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ie.p;ie.p=2;var h=Be;Be|=4;try{Sy(n,t);var d=Yd,y=Ag(t.containerInfo),T=d.focusedElem,R=d.selectionRange;if(y!==T&&T&&T.ownerDocument&&Cg(T.ownerDocument.documentElement,T)){if(R!==null&&_f(T)){var V=R.start,Y=R.end;if(Y===void 0&&(Y=V),"selectionStart"in T)T.selectionStart=V,T.selectionEnd=Math.min(Y,T.value.length);else{var W=T.ownerDocument||document,q=W&&W.defaultView||window;if(q.getSelection){var G=q.getSelection(),le=T.textContent.length,fe=Math.min(R.start,le),We=R.end===void 0?fe:Math.min(R.end,le);!G.extend&&fe>We&&(y=We,We=fe,fe=y);var j=wg(T,fe),O=wg(T,We);if(j&&O&&(G.rangeCount!==1||G.anchorNode!==j.node||G.anchorOffset!==j.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var B=W.createRange();B.setStart(j.node,j.offset),G.removeAllRanges(),fe>We?(G.addRange(B),G.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),G.addRange(B))}}}}for(W=[],G=T;G=G.parentNode;)G.nodeType===1&&W.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var X=W[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Kc=!!Gd,Yd=Gd=null}finally{Be=h,ie.p=l,K.T=a}}t.current=n,Dt=2}}function By(){if(Dt===2){Dt=0;var t=Us,n=qa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ie.p;ie.p=2;var h=Be;Be|=4;try{my(t,n.alternate,n)}finally{Be=h,ie.p=l,K.T=a}}Dt=3}}function Vy(){if(Dt===4||Dt===3){Dt=0,Cu();var t=Us,n=qa,a=Zi,l=Ny;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Dt=5:(Dt=0,qa=Us=null,qy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(js=null),Li(a),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Bn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=K.T,h=ie.p,ie.p=2,K.T=null;try{for(var d=t.onRecoverableError,y=0;y<l.length;y++){var T=l[y];d(T.value,{componentStack:T.stack})}}finally{K.T=n,ie.p=h}}(Zi&3)!==0&&Lc(),Ai(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Dd?_o++:(_o=0,Dd=t):_o=0,yo(0)}}function qy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Jl(n)))}function Lc(){return Hy(),By(),Vy(),Fy()}function Fy(){if(Dt!==5)return!1;var t=Us,n=Id;Id=0;var a=Li(Zi),l=K.T,h=ie.p;try{ie.p=32>a?32:a,K.T=null,a=Od,Od=null;var d=Us,y=Zi;if(Dt=0,qa=Us=null,Zi=0,(Be&6)!==0)throw Error(r(331));var T=Be;if(Be|=4,Cy(d.current),by(d,d.current,y,a),Be=T,yo(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Bn,d)}catch{}return!0}finally{ie.p=h,K.T=l,qy(t,n)}}function Gy(t,n,a){n=On(a,n),n=cd(t.stateNode,n,2),t=Is(t,n,2),t!==null&&(mr(t,2),Ai(t))}function Ke(t,n,a){if(t.tag===3)Gy(t,t,a);else for(;n!==null;){if(n.tag===3){Gy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(js===null||!js.has(l))){t=On(a,t),a=Y_(2),l=Is(n,a,2),l!==null&&(K_(a,l,n,t),mr(l,2),Ai(l));break}}n=n.return}}function Ld(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new YT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(xd=!0,h.add(a),t=JT.bind(null,t,n,a),n.then(t,t))}function JT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$e===t&&(Ne&a)===a&&(ct===4||ct===3&&(Ne&62914560)===Ne&&300>Jt()-Rc?(Be&2)===0&&Fa(t,0):Nd|=a,Va===Ne&&(Va=0)),Ai(t)}function Yy(t,n){n===0&&(n=Iu()),t=Nr(t,n),t!==null&&(mr(t,n),Ai(t))}function ZT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Yy(t,a)}function $T(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Yy(t,a)}function e1(t,n){return Ot(t,n)}var jc=null,Ya=null,jd=!1,Uc=!1,Ud=!1,zs=0;function Ai(t){t!==Ya&&t.next===null&&(Ya===null?jc=Ya=t:Ya=Ya.next=t),Uc=!0,jd||(jd=!0,n1())}function yo(t,n){if(!Ud&&Uc){Ud=!0;do for(var a=!1,l=jc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var y=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-yt(42|t)+1)-1,d&=h&~(y&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Wy(l,d))}else d=Ne,d=ui(l,l===$e?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Vn(l,d)||(a=!0,Wy(l,d));l=l.next}while(a);Ud=!1}}function t1(){Ky()}function Ky(){Uc=jd=!1;var t=0;zs!==0&&f1()&&(t=zs);for(var n=Jt(),a=null,l=jc;l!==null;){var h=l.next,d=Xy(l,n);d===0?(l.next=null,a===null?jc=h:a.next=h,h===null&&(Ya=a)):(a=l,(t!==0||(d&3)!==0)&&(Uc=!0)),l=h}Dt!==0&&Dt!==5||yo(t),zs!==0&&(zs=0)}function Xy(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var y=31-yt(d),T=1<<y,R=h[y];R===-1?((T&a)===0||(T&l)!==0)&&(h[y]=ff(T,n)):R<=n&&(t.expiredLanes|=T),d&=~T}if(n=$e,a=Ne,a=ui(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ds(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Vn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&ds(l),Li(a)){case 2:case 8:a=xl;break;case 32:a=ps;break;case 268435456:a=Au;break;default:a=ps}return l=Qy.bind(null,t),a=Ot(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&ds(l),t.callbackPriority=2,t.callbackNode=null,2}function Qy(t,n){if(Dt!==0&&Dt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Lc()&&t.callbackNode!==a)return null;var l=Ne;return l=ui(t,t===$e?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Iy(t,l,n),Xy(t,Jt()),t.callbackNode!=null&&t.callbackNode===a?Qy.bind(null,t):null)}function Wy(t,n){if(Lc())return null;Iy(t,n,!0)}function n1(){p1(function(){(Be&6)!==0?Ot(Al,t1):Ky()})}function Pd(){if(zs===0){var t=Oa;t===0&&(t=li,li<<=1,(li&261888)===0&&(li=256)),zs=t}return zs}function Jy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ga(""+t)}function Zy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function i1(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var d=Jy((h[Lt]||null).action),y=l.submitter;y&&(n=(n=y[Lt]||null)?Jy(n.formAction):y.getAttribute("formAction"),n!==null&&(d=n,y=null));var T=new Si("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zs!==0){var R=y?Zy(h,y):new FormData(h);sd(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(T.preventDefault(),R=y?Zy(h,y):new FormData(h),sd(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var zd=0;zd<Ef.length;zd++){var Hd=Ef[zd],s1=Hd.toLowerCase(),r1=Hd[0].toUpperCase()+Hd.slice(1);Wn(s1,"on"+r1)}Wn(Rg,"onAnimationEnd"),Wn(Ig,"onAnimationIteration"),Wn(Og,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(ET,"onTransitionRun"),Wn(bT,"onTransitionStart"),Wn(TT,"onTransitionCancel"),Wn(Dg,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vo));function $y(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var y=l.length-1;0<=y;y--){var T=l[y],R=T.instance,V=T.currentTarget;if(T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=V;try{d(h)}catch(Y){Zu(Y)}h.currentTarget=null,d=R}else for(y=0;y<l.length;y++){if(T=l[y],R=T.instance,V=T.currentTarget,T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=V;try{d(h)}catch(Y){Zu(Y)}h.currentTarget=null,d=R}}}}function Ae(t,n){var a=n[ha];a===void 0&&(a=n[ha]=new Set);var l=t+"__bubble";a.has(l)||(ev(n,t,2,!1),a.add(l))}function Bd(t,n,a){var l=0;n&&(l|=4),ev(a,t,l,n)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Vd(t){if(!t[Pc]){t[Pc]=!0,Il.forEach(function(a){a!=="selectionchange"&&(a1.has(a)||Bd(a,!1,t),Bd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Pc]||(n[Pc]=!0,Bd("selectionchange",!1,n))}}function ev(t,n,a,l){switch(Rv(n)){case 2:var h=k1;break;case 8:h=L1;break;default:h=ip}a=h.bind(null,n,a,t),h=void 0,!Sr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function qd(t,n,a,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var T=l.stateNode.containerInfo;if(T===h)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;T!==null;){if(y=di(T),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=d=y;continue e}T=T.parentNode}}l=l.return}Ss(function(){var V=d,Y=Nn(a),W=[];e:{var q=Mg.get(t);if(q!==void 0){var G=Si,le=t;switch(t){case"keypress":if(br(a)===0)break e;case"keydown":case"keyup":G=Wu;break;case"focusin":le="focus",G=wr;break;case"focusout":le="blur",G=wr;break;case"beforeblur":case"afterblur":G=wr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=v;break;case Rg:case Ig:case Og:G=Vu;break;case Dg:G=H;break;case"scroll":case"scrollend":G=Vl;break;case"wheel":G=ne;break;case"copy":case"cut":case"paste":G=qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=c;break;case"toggle":case"beforetoggle":G=pt}var fe=(n&4)!==0,We=!fe&&(t==="scroll"||t==="scrollend"),j=fe?q!==null?q+"Capture":null:q;fe=[];for(var O=V,B;O!==null;){var X=O;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||j===null||(X=Yn(O,j),X!=null&&fe.push(So(O,X,B))),We)break;O=O.return}0<fe.length&&(q=new G(q,le,null,a,Y),W.push({event:q,listeners:fe}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&a!==zl&&(le=a.relatedTarget||a.fromElement)&&(di(le)||le[hi]))break e;if((G||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,G?(le=a.relatedTarget||a.toElement,G=V,le=le?di(le):null,le!==null&&(We=u(le),fe=le.tag,le!==We||fe!==5&&fe!==27&&fe!==6)&&(le=null)):(G=null,le=V),G!==le)){if(fe=ql,X="onMouseLeave",j="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(fe=c,X="onPointerLeave",j="onPointerEnter",O="pointer"),We=G==null?q:mn(G),B=le==null?q:mn(le),q=new fe(X,O+"leave",G,a,Y),q.target=We,q.relatedTarget=B,X=null,di(Y)===V&&(fe=new fe(j,O+"enter",le,a,Y),fe.target=B,fe.relatedTarget=We,X=fe),We=X,G&&le)t:{for(fe=l1,j=G,O=le,B=0,X=j;X;X=fe(X))B++;X=0;for(var ce=O;ce;ce=fe(ce))X++;for(;0<B-X;)j=fe(j),B--;for(;0<X-B;)O=fe(O),X--;for(;B--;){if(j===O||O!==null&&j===O.alternate){fe=j;break t}j=fe(j),O=fe(O)}fe=null}else fe=null;G!==null&&tv(W,q,G,fe,!1),le!==null&&We!==null&&tv(W,We,le,fe,!0)}}e:{if(q=V?mn(V):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var Pe=yg;else if(gg(q))if(vg)Pe=yT;else{Pe=gT;var ue=mT}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?V&&ma(V.elementType)&&(Pe=yg):Pe=_T;if(Pe&&(Pe=Pe(t,V))){_g(W,Pe,a,Y);break e}ue&&ue(t,q,V),t==="focusout"&&V&&q.type==="number"&&V.memoizedProps.value!=null&&jl(q,"number",q.value)}switch(ue=V?mn(V):window,t){case"focusin":(gg(ue)||ue.contentEditable==="true")&&(Ta=ue,yf=V,Xl=null);break;case"focusout":Xl=yf=Ta=null;break;case"mousedown":vf=!0;break;case"contextmenu":case"mouseup":case"dragend":vf=!1,xg(W,a,Y);break;case"selectionchange":if(ST)break;case"keydown":case"keyup":xg(W,a,Y)}var be;if(ot)e:{switch(t){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else ba?Ea(t,a)&&(Re="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Re="onCompositionStart");Re&&(Xn&&a.locale!=="ko"&&(ba||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&ba&&(be=Bl()):(vi=Y,Hl="value"in vi?vi.value:vi.textContent,ba=!0)),ue=zc(V,Re),0<ue.length&&(Re=new bi(Re,t,null,a,Y),W.push({event:Re,listeners:ue}),be?Re.data=be:(be=mg(a),be!==null&&(Re.data=be)))),(be=Pi?hT(t,a):fT(t,a))&&(Re=zc(V,"onBeforeInput"),0<Re.length&&(ue=new bi("onBeforeInput","beforeinput",null,a,Y),W.push({event:ue,listeners:Re}),ue.data=be)),i1(W,t,V,a,Y)}$y(W,n)})}function So(t,n,a){return{instance:t,listener:n,currentTarget:a}}function zc(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Yn(t,a),h!=null&&l.unshift(So(t,h,d)),h=Yn(t,n),h!=null&&l.push(So(t,h,d))),t.tag===3)return l;t=t.return}return[]}function l1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function tv(t,n,a,l,h){for(var d=n._reactName,y=[];a!==null&&a!==l;){var T=a,R=T.alternate,V=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||V===null||(R=V,h?(V=Yn(a,d),V!=null&&y.unshift(So(a,V,R))):h||(V=Yn(a,d),V!=null&&y.push(So(a,V,R)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var o1=/\r\n?/g,u1=/\u0000|\uFFFD/g;function nv(t){return(typeof t=="string"?t:""+t).replace(o1,`
`).replace(u1,"")}function iv(t,n){return n=nv(n),nv(t)===n}function Qe(t,n,a,l,h,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||ln(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&ln(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,l);break;case"style":Pl(t,l,d);break;case"data":if(n!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Qe(t,n,"name",h.name,h,null),Qe(t,n,"formEncType",h.formEncType,h,null),Qe(t,n,"formMethod",h.formMethod,h,null),Qe(t,n,"formTarget",h.formTarget,h,null)):(Qe(t,n,"encType",h.encType,h,null),Qe(t,n,"method",h.method,h,null),Qe(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"onScroll":l!=null&&Ae("scroll",t);break;case"onScrollEnd":l!=null&&Ae("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ga(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ae("beforetoggle",t),Ae("toggle",t),da(t,"popover",l);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":da(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zu.get(a)||a,da(t,a,l))}}function Fd(t,n,a,l,h,d){switch(a){case"style":Pl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?ln(t,l):(typeof l=="number"||typeof l=="bigint")&&ln(t,""+l);break;case"onScroll":l!=null&&Ae("scroll",t);break;case"onScrollEnd":l!=null&&Ae("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ol.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):da(t,a,l)}}}function Gt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",t),Ae("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Qe(t,n,d,y,a,null)}}h&&Qe(t,n,"srcSet",a.srcSet,a,null),l&&Qe(t,n,"src",a.src,a,null);return;case"input":Ae("invalid",t);var T=d=y=h=null,R=null,V=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":y=Y;break;case"checked":R=Y;break;case"defaultChecked":V=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:Qe(t,n,l,Y,a,null)}}ju(t,d,T,R,V,y,h,!1);return;case"select":Ae("invalid",t),l=y=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":y=T;break;case"multiple":l=T;default:Qe(t,n,h,T,a,null)}n=d,a=y,t.multiple=!!l,n!=null?gs(t,!!l,n,!1):a!=null&&gs(t,!!l,a,!0);return;case"textarea":Ae("invalid",t),d=h=l=null;for(y in a)if(a.hasOwnProperty(y)&&(T=a[y],T!=null))switch(y){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Qe(t,n,y,T,a,null)}_s(t,l,h,d);return;case"option":for(R in a)a.hasOwnProperty(R)&&(l=a[R],l!=null)&&(R==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Qe(t,n,R,l,a,null));return;case"dialog":Ae("beforetoggle",t),Ae("toggle",t),Ae("cancel",t),Ae("close",t);break;case"iframe":case"object":Ae("load",t);break;case"video":case"audio":for(l=0;l<vo.length;l++)Ae(vo[l],t);break;case"image":Ae("error",t),Ae("load",t);break;case"details":Ae("toggle",t);break;case"embed":case"source":case"link":Ae("error",t),Ae("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in a)if(a.hasOwnProperty(V)&&(l=a[V],l!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Qe(t,n,V,l,a,null)}return;default:if(ma(n)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Fd(t,n,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Qe(t,n,T,l,a,null))}function c1(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,T=null,R=null,V=null,Y=null;for(G in a){var W=a[G];if(a.hasOwnProperty(G)&&W!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":R=W;default:l.hasOwnProperty(G)||Qe(t,n,G,null,l,W)}}for(var q in l){var G=l[q];if(W=a[q],l.hasOwnProperty(q)&&(G!=null||W!=null))switch(q){case"type":d=G;break;case"name":h=G;break;case"checked":V=G;break;case"defaultChecked":Y=G;break;case"value":y=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:G!==W&&Qe(t,n,q,G,l,W)}}pa(t,y,T,R,V,Y,d,h);return;case"select":G=y=T=q=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":G=R;default:l.hasOwnProperty(d)||Qe(t,n,d,null,l,R)}for(h in l)if(d=l[h],R=a[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":y=d;default:d!==R&&Qe(t,n,h,d,l,R)}n=T,a=y,l=G,q!=null?gs(t,!!a,q,!1):!!l!=!!a&&(n!=null?gs(t,!!a,n,!0):gs(t,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Qe(t,n,T,null,l,h)}for(y in l)if(h=l[y],d=a[y],l.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":q=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Qe(t,n,y,h,l,d)}Uu(t,q,G);return;case"option":for(var le in a)q=a[le],a.hasOwnProperty(le)&&q!=null&&!l.hasOwnProperty(le)&&(le==="selected"?t.selected=!1:Qe(t,n,le,null,l,q));for(R in l)q=l[R],G=a[R],l.hasOwnProperty(R)&&q!==G&&(q!=null||G!=null)&&(R==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":Qe(t,n,R,q,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in a)q=a[fe],a.hasOwnProperty(fe)&&q!=null&&!l.hasOwnProperty(fe)&&Qe(t,n,fe,null,l,q);for(V in l)if(q=l[V],G=a[V],l.hasOwnProperty(V)&&q!==G&&(q!=null||G!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:Qe(t,n,V,q,l,G)}return;default:if(ma(n)){for(var We in a)q=a[We],a.hasOwnProperty(We)&&q!==void 0&&!l.hasOwnProperty(We)&&Fd(t,n,We,void 0,l,q);for(Y in l)q=l[Y],G=a[Y],!l.hasOwnProperty(Y)||q===G||q===void 0&&G===void 0||Fd(t,n,Y,q,l,G);return}}for(var j in a)q=a[j],a.hasOwnProperty(j)&&q!=null&&!l.hasOwnProperty(j)&&Qe(t,n,j,null,l,q);for(W in l)q=l[W],G=a[W],!l.hasOwnProperty(W)||q===G||q==null&&G==null||Qe(t,n,W,q,l,G)}function sv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function h1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,y=h.initiatorType,T=h.duration;if(d&&T&&sv(y)){for(y=0,T=h.responseEnd,l+=1;l<a.length;l++){var R=a[l],V=R.startTime;if(V>T)break;var Y=R.transferSize,W=R.initiatorType;Y&&sv(W)&&(R=R.responseEnd,y+=Y*(R<T?1:(T-V)/(R-V)))}if(--l,n+=8*(d+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Gd=null,Yd=null;function Hc(t){return t.nodeType===9?t:t.ownerDocument}function rv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function av(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Kd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Xd=null;function f1(){var t=window.event;return t&&t.type==="popstate"?t===Xd?!1:(Xd=t,!0):(Xd=null,!1)}var lv=typeof setTimeout=="function"?setTimeout:void 0,d1=typeof clearTimeout=="function"?clearTimeout:void 0,ov=typeof Promise=="function"?Promise:void 0,p1=typeof queueMicrotask=="function"?queueMicrotask:typeof ov<"u"?function(t){return ov.resolve(null).then(t).catch(m1)}:lv;function m1(t){setTimeout(function(){throw t})}function Hs(t){return t==="head"}function uv(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Wa(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Eo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Eo(a);for(var d=a.firstChild;d;){var y=d.nextSibling,T=d.nodeName;d[fi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&Eo(t.ownerDocument.body);a=h}while(a);Wa(n)}function cv(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Qd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qd(a),fa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function g1(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[fi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function _1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=jn(t.nextSibling),t===null))return null;return t}function hv(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=jn(t.nextSibling),t===null))return null;return t}function Wd(t){return t.data==="$?"||t.data==="$~"}function Jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function y1(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Zd=null;function fv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return jn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function dv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function pv(t,n,a){switch(n=Hc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Eo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);fa(t)}var Un=new Map,mv=new Set;function Bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $i=ie.d;ie.d={f:v1,r:S1,D:E1,C:b1,L:T1,m:w1,X:A1,S:C1,M:x1};function v1(){var t=$i.f(),n=Dc();return t||n}function S1(t){var n=xn(t);n!==null&&n.tag===5&&n.type==="form"?D_(n):$i.r(t)}var Ka=typeof document>"u"?null:document;function gv(t,n,a){var l=Ka;if(l&&typeof n=="string"&&n){var h=an(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),mv.has(h)||(mv.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Gt(n,"link",t),Et(n),l.head.appendChild(n)))}}function E1(t){$i.D(t),gv("dns-prefetch",t,null)}function b1(t,n){$i.C(t,n),gv("preconnect",t,n)}function T1(t,n,a){$i.L(t,n,a);var l=Ka;if(l&&t&&n){var h='link[rel="preload"][as="'+an(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var d=h;switch(n){case"style":d=Xa(t);break;case"script":d=Qa(t)}Un.has(d)||(t=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Un.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(bo(d))||n==="script"&&l.querySelector(To(d))||(n=l.createElement("link"),Gt(n,"link",t),Et(n),l.head.appendChild(n)))}}function w1(t,n){$i.m(t,n);var a=Ka;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Qa(t)}if(!Un.has(d)&&(t=E({rel:"modulepreload",href:t},n),Un.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(To(d)))return}l=a.createElement("link"),Gt(l,"link",t),Et(l),a.head.appendChild(l)}}}function C1(t,n,a){$i.S(t,n,a);var l=Ka;if(l&&t){var h=pi(l).hoistableStyles,d=Xa(t);n=n||"default";var y=h.get(d);if(!y){var T={loading:0,preload:null};if(y=l.querySelector(bo(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Un.get(d))&&$d(t,a);var R=y=l.createElement("link");Et(R),Gt(R,"link",t),R._p=new Promise(function(V,Y){R.onload=V,R.onerror=Y}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Vc(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:T},h.set(d,y)}}}function A1(t,n){$i.X(t,n);var a=Ka;if(a&&t){var l=pi(a).hoistableScripts,h=Qa(t),d=l.get(h);d||(d=a.querySelector(To(h)),d||(t=E({src:t,async:!0},n),(n=Un.get(h))&&ep(t,n),d=a.createElement("script"),Et(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function x1(t,n){$i.M(t,n);var a=Ka;if(a&&t){var l=pi(a).hoistableScripts,h=Qa(t),d=l.get(h);d||(d=a.querySelector(To(h)),d||(t=E({src:t,async:!0,type:"module"},n),(n=Un.get(h))&&ep(t,n),d=a.createElement("script"),Et(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function _v(t,n,a,l){var h=(h=Ee.current)?Bc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Xa(a.href),a=pi(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Xa(a.href);var d=pi(h).hoistableStyles,y=d.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,y),(d=h.querySelector(bo(t)))&&!d._p&&(y.instance=d,y.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),d||N1(h,t,a,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Qa(a),a=pi(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Xa(t){return'href="'+an(t)+'"'}function bo(t){return'link[rel="stylesheet"]['+t+"]"}function yv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function N1(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Gt(n,"link",a),Et(n),t.head.appendChild(n))}function Qa(t){return'[src="'+an(t)+'"]'}function To(t){return"script[async]"+t}function vv(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return n.instance=l,Et(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Et(l),Gt(l,"style",h),Vc(l,a.precedence,t),n.instance=l;case"stylesheet":h=Xa(a.href);var d=t.querySelector(bo(h));if(d)return n.state.loading|=4,n.instance=d,Et(d),d;l=yv(a),(h=Un.get(h))&&$d(l,h),d=(t.ownerDocument||t).createElement("link"),Et(d);var y=d;return y._p=new Promise(function(T,R){y.onload=T,y.onerror=R}),Gt(d,"link",l),n.state.loading|=4,Vc(d,a.precedence,t),n.instance=d;case"script":return d=Qa(a.src),(h=t.querySelector(To(d)))?(n.instance=h,Et(h),h):(l=a,(h=Un.get(d))&&(l=E({},a),ep(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),Gt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Vc(l,a.precedence,t));return n.instance}function Vc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,y=0;y<l.length;y++){var T=l[y];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function $d(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function ep(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var qc=null;function Sv(t,n,a){if(qc===null){var l=new Map,h=qc=new Map;h.set(a,l)}else h=qc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[fi]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(n)||"";y=t+y;var T=l.get(y);T?T.push(d):l.set(y,[d])}}return l}function Ev(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function R1(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function bv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function I1(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Xa(l.href),d=n.querySelector(bo(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Fc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=d,Et(d);return}d=n.ownerDocument||n,l=yv(l),(h=Un.get(h))&&$d(l,h),d=d.createElement("link"),Et(d);var y=d;y._p=new Promise(function(T,R){y.onload=T,y.onerror=R}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Fc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var tp=0;function O1(t,n){return t.stylesheets&&t.count===0&&Yc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Yc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&tp===0&&(tp=62500*h1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Yc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>tp?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gc=null;function Yc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gc=new Map,n.forEach(D1,t),Gc=null,Fc.call(t))}function D1(t,n){if(!(n.state.loading&4)){var a=Gc.get(t);if(a)var l=a.get(null);else{a=new Map,Gc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}h=n.instance,y=h.getAttribute("data-precedence"),d=a.get(y)||l,d===l&&a.set(null,h),a.set(y,h),this.count++,l=Fc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var wo={$$typeof:re,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function M1(t,n,a,l,h,d,y,T,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Tv(t,n,a,l,h,d,y,T,R,V,Y,W){return t=new M1(t,n,a,y,R,V,Y,W,T),n=1,d===!0&&(n|=24),d=yn(3,null,null,n),t.current=d,d.stateNode=t,n=kf(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},Pf(d),t}function wv(t){return t?(t=Aa,t):Aa}function Cv(t,n,a,l,h,d){h=wv(h),l.context===null?l.context=h:l.pendingContext=h,l=Rs(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Is(t,l,n),a!==null&&(fn(a,t,n),to(a,t,n))}function Av(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function np(t,n){Av(t,n),(t=t.alternate)&&Av(t,n)}function xv(t){if(t.tag===13||t.tag===31){var n=Nr(t,67108864);n!==null&&fn(n,t,67108864),np(t,67108864)}}function Nv(t){if(t.tag===13||t.tag===31){var n=Tn();n=gr(n);var a=Nr(t,n);a!==null&&fn(a,t,n),np(t,n)}}var Kc=!0;function k1(t,n,a,l){var h=K.T;K.T=null;var d=ie.p;try{ie.p=2,ip(t,n,a,l)}finally{ie.p=d,K.T=h}}function L1(t,n,a,l){var h=K.T;K.T=null;var d=ie.p;try{ie.p=8,ip(t,n,a,l)}finally{ie.p=d,K.T=h}}function ip(t,n,a,l){if(Kc){var h=sp(l);if(h===null)qd(t,n,l,Xc,a),Iv(t,l);else if(U1(h,t,n,a,l))l.stopPropagation();else if(Iv(t,l),n&4&&-1<j1.indexOf(t)){for(;h!==null;){var d=xn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=oi(d.pendingLanes);if(y!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var R=1<<31-yt(y);T.entanglements[1]|=R,y&=~R}Ai(d),(Be&6)===0&&(Ic=Jt()+500,yo(0))}}break;case 31:case 13:T=Nr(d,2),T!==null&&fn(T,d,2),Dc(),np(d,2)}if(d=sp(l),d===null&&qd(t,n,l,Xc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else qd(t,n,l,null,a)}}function sp(t){return t=Nn(t),rp(t)}var Xc=null;function rp(t){if(Xc=null,t=di(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===31){if(t=m(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Xc=t,null}function Rv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dr()){case Al:return 2;case xl:return 8;case ps:case cf:return 32;case Au:return 268435456;default:return 32}default:return 32}}var ap=!1,Bs=null,Vs=null,qs=null,Co=new Map,Ao=new Map,Fs=[],j1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iv(t,n){switch(t){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":Co.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(n.pointerId)}}function xo(t,n,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=xn(n),n!==null&&xv(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function U1(t,n,a,l,h){switch(n){case"focusin":return Bs=xo(Bs,t,n,a,l,h),!0;case"dragenter":return Vs=xo(Vs,t,n,a,l,h),!0;case"mouseover":return qs=xo(qs,t,n,a,l,h),!0;case"pointerover":var d=h.pointerId;return Co.set(d,xo(Co.get(d)||null,t,n,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ao.set(d,xo(Ao.get(d)||null,t,n,a,l,h)),!0}return!1}function Ov(t){var n=di(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,qn(t.priority,function(){Nv(a)});return}}else if(n===31){if(n=m(a),n!==null){t.blockedOn=n,qn(t.priority,function(){Nv(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=sp(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);zl=l,a.target.dispatchEvent(l),zl=null}else return n=xn(a),n!==null&&xv(n),t.blockedOn=a,!1;n.shift()}return!0}function Dv(t,n,a){Qc(t)&&a.delete(n)}function P1(){ap=!1,Bs!==null&&Qc(Bs)&&(Bs=null),Vs!==null&&Qc(Vs)&&(Vs=null),qs!==null&&Qc(qs)&&(qs=null),Co.forEach(Dv),Ao.forEach(Dv)}function Wc(t,n){t.blockedOn===n&&(t.blockedOn=null,ap||(ap=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,P1)))}var Jc=null;function Mv(t){Jc!==t&&(Jc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Jc===t&&(Jc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(rp(l||a)===null)continue;break}var d=xn(a);d!==null&&(t.splice(n,3),n-=3,sd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Wa(t){function n(R){return Wc(R,t)}Bs!==null&&Wc(Bs,t),Vs!==null&&Wc(Vs,t),qs!==null&&Wc(qs,t),Co.forEach(n),Ao.forEach(n);for(var a=0;a<Fs.length;a++){var l=Fs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Fs.length&&(a=Fs[0],a.blockedOn===null);)Ov(a),a.blockedOn===null&&Fs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],y=h[Lt]||null;if(typeof d=="function")y||Mv(a);else if(y){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[Lt]||null)T=y.formAction;else if(rp(h)!==null)continue}else T=y.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Mv(a)}}}function kv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function lp(t){this._internalRoot=t}Zc.prototype.render=lp.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Tn();Cv(a,l,t,n,null,null)},Zc.prototype.unmount=lp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Cv(t.current,2,null,t,null,null),Dc(),n[hi]=null}};function Zc(t){this._internalRoot=t}Zc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Du();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Fs.length&&n!==0&&n<Fs[a].priority;a++);Fs.splice(a,0,t),a===0&&Ov(t)}};var Lv=e.version;if(Lv!=="19.2.3")throw Error(r(527,Lv,"19.2.3"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var z1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{Bn=$c.inject(z1),Ht=$c}catch{}}return Ro.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=V_,d=q_,y=F_;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=Tv(t,1,!1,null,null,a,l,null,h,d,y,kv),t[hi]=n.current,Vd(t),new lp(n)},Ro.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=V_,y=q_,T=F_,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=Tv(t,1,!0,n,a??null,l,h,R,d,y,T,kv),n.context=wv(null),a=n.current,l=Tn(),l=gr(l),h=Rs(l),h.callback=null,Is(a,h,l),a=l,n.current.lanes=a,mr(n,a),Ai(n),t[hi]=n.current,Vd(t),new Zc(n)},Ro.version="19.2.3",Ro}var Gv;function Q1(){if(Gv)return cp.exports;Gv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),cp.exports=X1(),cp.exports}var W1=Q1();var Yv="popstate";function J1(s={}){function e(r,o){let{pathname:u,search:f,hash:m}=r.location;return Mp("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:Ko(o)}return $1(e,i,null,s)}function lt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function zn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z1(){return Math.random().toString(36).substring(2,10)}function Kv(s,e){return{usr:s.state,key:s.key,idx:e}}function Mp(s,e,i=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?pl(e):e,state:i,key:e&&e.key||r||Z1()}}function Ko({pathname:s="/",search:e="",hash:i=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function pl(s){let e={};if(s){let i=s.indexOf("#");i>=0&&(e.hash=s.substring(i),s=s.substring(0,i));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function $1(s,e,i,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,f=o.history,m="POP",p=null,_=b();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function b(){return(f.state||{idx:null}).idx}function E(){m="POP";let Z=b(),$=Z==null?null:Z-_;_=Z,p&&p({action:m,location:Q.location,delta:$})}function C(Z,$){m="PUSH";let ee=Mp(Q.location,Z,$);_=b()+1;let re=Kv(ee,_),oe=Q.createHref(ee);try{f.pushState(re,"",oe)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;o.location.assign(oe)}u&&p&&p({action:m,location:Q.location,delta:1})}function U(Z,$){m="REPLACE";let ee=Mp(Q.location,Z,$);_=b();let re=Kv(ee,_),oe=Q.createHref(ee);f.replaceState(re,"",oe),u&&p&&p({action:m,location:Q.location,delta:0})}function z(Z){return ew(Z)}let Q={get action(){return m},get location(){return s(o,f)},listen(Z){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Yv,E),p=Z,()=>{o.removeEventListener(Yv,E),p=null}},createHref(Z){return e(o,Z)},createURL:z,encodeLocation(Z){let $=z(Z);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:C,replace:U,go(Z){return f.go(Z)}};return Q}function ew(s,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),lt(i,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:Ko(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function RS(s,e,i="/"){return tw(s,e,i,!1)}function tw(s,e,i,r){let o=typeof e=="string"?pl(e):e,u=ls(o.pathname||"/",i);if(u==null)return null;let f=IS(s);nw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let _=dw(u);m=hw(f[p],_,r)}return m}function IS(s,e=[],i=[],r="",o=!1){let u=(f,m,p=o,_)=>{let b={relativePath:_===void 0?f.path||"":_,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(r)&&p)return;lt(b.relativePath.startsWith(r),`Absolute route path "${b.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(r.length)}let E=ss([r,b.relativePath]),C=i.concat(b);f.children&&f.children.length>0&&(lt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),IS(f.children,e,C,E,p)),!(f.path==null&&!f.index)&&e.push({path:E,score:uw(E,f.index),routesMeta:C})};return s.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of OS(f.path))u(f,m,!0,p)}),e}function OS(s){let e=s.split("/");if(e.length===0)return[];let[i,...r]=e,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let f=OS(r.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function nw(s){s.sort((e,i)=>e.score!==i.score?i.score-e.score:cw(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var iw=/^:[\w-]+$/,sw=3,rw=2,aw=1,lw=10,ow=-2,Xv=s=>s==="*";function uw(s,e){let i=s.split("/"),r=i.length;return i.some(Xv)&&(r+=ow),e&&(r+=rw),i.filter(o=>!Xv(o)).reduce((o,u)=>o+(iw.test(u)?sw:u===""?aw:lw),r)}function cw(s,e){return s.length===e.length&&s.slice(0,-1).every((r,o)=>r===e[o])?s[s.length-1]-e[e.length-1]:0}function hw(s,e,i=!1){let{routesMeta:r}=s,o={},u="/",f=[];for(let m=0;m<r.length;++m){let p=r[m],_=m===r.length-1,b=u==="/"?e:e.slice(u.length)||"/",E=ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},b),C=p.route;if(!E&&_&&i&&!r[r.length-1].route.index&&(E=ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!E)return null;Object.assign(o,E.params),f.push({params:o,pathname:ss([u,E.pathname]),pathnameBase:_w(ss([u,E.pathnameBase])),route:C}),E.pathnameBase!=="/"&&(u=ss([u,E.pathnameBase]))}return f}function ph(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,r]=fw(s.path,s.caseSensitive,s.end),o=e.match(i);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((_,{paramName:b,isOptional:E},C)=>{if(b==="*"){let z=m[C]||"";f=u.slice(0,u.length-z.length).replace(/(.)\/+$/,"$1")}const U=m[C];return E&&!U?_[b]=void 0:_[b]=(U||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:f,pattern:s}}function fw(s,e=!1,i=!0){zn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(r.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function dw(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function ls(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=s.charAt(i);return r&&r!=="/"?null:s.slice(i)||"/"}var DS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pw=s=>DS.test(s);function mw(s,e="/"){let{pathname:i,search:r="",hash:o=""}=typeof s=="string"?pl(s):s,u;if(i)if(pw(i))u=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),zn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${i}`)}i.startsWith("/")?u=Qv(i.substring(1),"/"):u=Qv(i,e)}else u=e;return{pathname:u,search:yw(r),hash:vw(o)}}function Qv(s,e){let i=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function pp(s,e,i,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gw(s){return s.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function am(s){let e=gw(s);return e.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase)}function lm(s,e,i,r=!1){let o;typeof s=="string"?o=pl(s):(o={...s},lt(!o.pathname||!o.pathname.includes("?"),pp("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),pp("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),pp("#","search","hash",o)));let u=s===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=i;else{let E=e.length-1;if(!r&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),E-=1;o.pathname=C.join("/")}m=E>=0?e[E]:"/"}let p=mw(o,m),_=f&&f!=="/"&&f.endsWith("/"),b=(u||f===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(_||b)&&(p.pathname+="/"),p}var ss=s=>s.join("/").replace(/\/\/+/g,"/"),_w=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),yw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,vw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,Sw=class{constructor(s,e,i,r=!1){this.status=s,this.statusText=e||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function Ew(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function bw(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var MS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function kS(s,e){let i=s;if(typeof i!="string"||!DS.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let r=i,o=!1;if(MS)try{let u=new URL(window.location.href),f=i.startsWith("//")?new URL(u.protocol+i):new URL(i),m=ls(f.pathname,e);f.origin===u.origin&&m!=null?i=m+f.search+f.hash:o=!0}catch{zn(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var LS=["POST","PUT","PATCH","DELETE"];new Set(LS);var Tw=["GET",...LS];new Set(Tw);var ml=M.createContext(null);ml.displayName="DataRouter";var Hh=M.createContext(null);Hh.displayName="DataRouterState";var ww=M.createContext(!1),jS=M.createContext({isTransitioning:!1});jS.displayName="ViewTransition";var Cw=M.createContext(new Map);Cw.displayName="Fetchers";var Aw=M.createContext(null);Aw.displayName="Await";var Cn=M.createContext(null);Cn.displayName="Navigation";var uu=M.createContext(null);uu.displayName="Location";var Mi=M.createContext({outlet:null,matches:[],isDataRoute:!1});Mi.displayName="Route";var om=M.createContext(null);om.displayName="RouteError";var US="REACT_ROUTER_ERROR",xw="REDIRECT",Nw="ROUTE_ERROR_RESPONSE";function Rw(s){if(s.startsWith(`${US}:${xw}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Iw(s){if(s.startsWith(`${US}:${Nw}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Sw(e.status,e.statusText,e.data)}catch{}}function Ow(s,{relative:e}={}){lt(gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=M.useContext(Cn),{hash:o,pathname:u,search:f}=cu(s,{relative:e}),m=u;return i!=="/"&&(m=u==="/"?i:ss([i,u])),r.createHref({pathname:m,search:f,hash:o})}function gl(){return M.useContext(uu)!=null}function or(){return lt(gl(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(uu).location}var PS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zS(s){M.useContext(Cn).static||M.useLayoutEffect(s)}function ta(){let{isDataRoute:s}=M.useContext(Mi);return s?Fw():Dw()}function Dw(){lt(gl(),"useNavigate() may be used only in the context of a <Router> component.");let s=M.useContext(ml),{basename:e,navigator:i}=M.useContext(Cn),{matches:r}=M.useContext(Mi),{pathname:o}=or(),u=JSON.stringify(am(r)),f=M.useRef(!1);return zS(()=>{f.current=!0}),M.useCallback((p,_={})=>{if(zn(f.current,PS),!f.current)return;if(typeof p=="number"){i.go(p);return}let b=lm(p,JSON.parse(u),o,_.relative==="path");s==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:ss([e,b.pathname])),(_.replace?i.replace:i.push)(b,_.state,_)},[e,i,u,o,s])}M.createContext(null);function cu(s,{relative:e}={}){let{matches:i}=M.useContext(Mi),{pathname:r}=or(),o=JSON.stringify(am(i));return M.useMemo(()=>lm(s,JSON.parse(o),r,e==="path"),[s,o,r,e])}function Mw(s,e){return HS(s,e)}function HS(s,e,i,r,o){lt(gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=M.useContext(Cn),{matches:f}=M.useContext(Mi),m=f[f.length-1],p=m?m.params:{},_=m?m.pathname:"/",b=m?m.pathnameBase:"/",E=m&&m.route;{let ee=E&&E.path||"";VS(_,!E||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let C=or(),U;if(e){let ee=typeof e=="string"?pl(e):e;lt(b==="/"||ee.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),U=ee}else U=C;let z=U.pathname||"/",Q=z;if(b!=="/"){let ee=b.replace(/^\//,"").split("/");Q="/"+z.replace(/^\//,"").split("/").slice(ee.length).join("/")}let Z=RS(s,{pathname:Q});zn(E||Z!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),zn(Z==null||Z[Z.length-1].route.element!==void 0||Z[Z.length-1].route.Component!==void 0||Z[Z.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=Pw(Z&&Z.map(ee=>Object.assign({},ee,{params:Object.assign({},p,ee.params),pathname:ss([b,u.encodeLocation?u.encodeLocation(ee.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?b:ss([b,u.encodeLocation?u.encodeLocation(ee.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathnameBase])})),f,i,r,o);return e&&$?M.createElement(uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},$):$}function kw(){let s=qw(),e=Ew(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:u},"ErrorBoundary")," or"," ",M.createElement("code",{style:u},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),i?M.createElement("pre",{style:o},i):null,f)}var Lw=M.createElement(kw,null),BS=class extends M.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const i=Iw(s.digest);i&&(s=i)}let e=s!==void 0?M.createElement(Mi.Provider,{value:this.props.routeContext},M.createElement(om.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?M.createElement(jw,{error:s},e):e}};BS.contextType=ww;var mp=new WeakMap;function jw({children:s,error:e}){let{basename:i}=M.useContext(Cn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Rw(e.digest);if(r){let o=mp.get(e);if(o)throw o;let u=kS(r.location,i);if(MS&&!mp.get(e))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw mp.set(e,f),f}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function Uw({routeContext:s,match:e,children:i}){let r=M.useContext(ml);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Mi.Provider,{value:s},i)}function Pw(s,e=[],i=null,r=null,o=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let u=s,f=i?.errors;if(f!=null){let b=u.findIndex(E=>E.route.id&&f?.[E.route.id]!==void 0);lt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let m=!1,p=-1;if(i)for(let b=0;b<u.length;b++){let E=u[b];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=b),E.route.id){let{loaderData:C,errors:U}=i,z=E.route.loader&&!C.hasOwnProperty(E.route.id)&&(!U||U[E.route.id]===void 0);if(E.route.lazy||z){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let _=i&&r?(b,E)=>{r(b,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:bw(i.matches),errorInfo:E})}:void 0;return u.reduceRight((b,E,C)=>{let U,z=!1,Q=null,Z=null;i&&(U=f&&E.route.id?f[E.route.id]:void 0,Q=E.route.errorElement||Lw,m&&(p<0&&C===0?(VS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),z=!0,Z=null):p===C&&(z=!0,Z=E.route.hydrateFallbackElement||null)));let $=e.concat(u.slice(0,C+1)),ee=()=>{let re;return U?re=Q:z?re=Z:E.route.Component?re=M.createElement(E.route.Component,null):E.route.element?re=E.route.element:re=b,M.createElement(Uw,{match:E,routeContext:{outlet:b,matches:$,isDataRoute:i!=null},children:re})};return i&&(E.route.ErrorBoundary||E.route.errorElement||C===0)?M.createElement(BS,{location:i.location,revalidation:i.revalidation,component:Q,error:U,children:ee(),routeContext:{outlet:null,matches:$,isDataRoute:!0},onError:_}):ee()},null)}function um(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zw(s){let e=M.useContext(ml);return lt(e,um(s)),e}function Hw(s){let e=M.useContext(Hh);return lt(e,um(s)),e}function Bw(s){let e=M.useContext(Mi);return lt(e,um(s)),e}function cm(s){let e=Bw(s),i=e.matches[e.matches.length-1];return lt(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function Vw(){return cm("useRouteId")}function qw(){let s=M.useContext(om),e=Hw("useRouteError"),i=cm("useRouteError");return s!==void 0?s:e.errors?.[i]}function Fw(){let{router:s}=zw("useNavigate"),e=cm("useNavigate"),i=M.useRef(!1);return zS(()=>{i.current=!0}),M.useCallback(async(o,u={})=>{zn(i.current,PS),i.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:e,...u}))},[s,e])}var Wv={};function VS(s,e,i){!e&&!Wv[s]&&(Wv[s]=!0,zn(!1,i))}M.memo(Gw);function Gw({routes:s,future:e,state:i,onError:r}){return HS(s,void 0,i,r,e)}function Jv({to:s,replace:e,state:i,relative:r}){lt(gl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=M.useContext(Cn);zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=M.useContext(Mi),{pathname:f}=or(),m=ta(),p=lm(s,am(u),f,r==="path"),_=JSON.stringify(p);return M.useEffect(()=>{m(JSON.parse(_),{replace:e,state:i,relative:r})},[m,_,r,e,i]),null}function xt(s){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Yw({basename:s="/",children:e=null,location:i,navigationType:r="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){lt(!gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),p=M.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof i=="string"&&(i=pl(i));let{pathname:_="/",search:b="",hash:E="",state:C=null,key:U="default"}=i,z=M.useMemo(()=>{let Q=ls(_,m);return Q==null?null:{location:{pathname:Q,search:b,hash:E,state:C,key:U},navigationType:r}},[m,_,b,E,C,U,r]);return zn(z!=null,`<Router basename="${m}"> is not able to match the URL "${_}${b}${E}" because it does not start with the basename, so the <Router> won't render anything.`),z==null?null:M.createElement(Cn.Provider,{value:p},M.createElement(uu.Provider,{children:e,value:z}))}function Kw({children:s,location:e}){return Mw(kp(s),e)}function kp(s,e=[]){let i=[];return M.Children.forEach(s,(r,o)=>{if(!M.isValidElement(r))return;let u=[...e,o];if(r.type===M.Fragment){i.push.apply(i,kp(r.props.children,u));return}lt(r.type===xt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=kp(r.props.children,u)),i.push(f)}),i}var ah="get",lh="application/x-www-form-urlencoded";function Bh(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function Xw(s){return Bh(s)&&s.tagName.toLowerCase()==="button"}function Qw(s){return Bh(s)&&s.tagName.toLowerCase()==="form"}function Ww(s){return Bh(s)&&s.tagName.toLowerCase()==="input"}function Jw(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Zw(s,e){return s.button===0&&(!e||e==="_self")&&!Jw(s)}var eh=null;function $w(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var eC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gp(s){return s!=null&&!eC.has(s)?(zn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lh}"`),null):s}function tC(s,e){let i,r,o,u,f;if(Qw(s)){let m=s.getAttribute("action");r=m?ls(m,e):null,i=s.getAttribute("method")||ah,o=gp(s.getAttribute("enctype"))||lh,u=new FormData(s)}else if(Xw(s)||Ww(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||m.getAttribute("action");if(r=p?ls(p,e):null,i=s.getAttribute("formmethod")||m.getAttribute("method")||ah,o=gp(s.getAttribute("formenctype"))||gp(m.getAttribute("enctype"))||lh,u=new FormData(m,s),!$w()){let{name:_,type:b,value:E}=s;if(b==="image"){let C=_?`${_}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else _&&u.append(_,E)}}else{if(Bh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=ah,r=null,o=lh,f=s}return u&&o==="text/plain"&&(f=u,u=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hm(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function nC(s,e,i){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname=`_root.${i}`:e&&ls(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function iC(s,e){if(s.id in e)return e[s.id];try{let i=await import(s.module);return e[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sC(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function rC(s,e,i){let r=await Promise.all(s.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await iC(u,i);return f.links?f.links():[]}return[]}));return uC(r.flat(1).filter(sC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Zv(s,e,i,r,o,u){let f=(p,_)=>i[_]?p.route.id!==i[_].route.id:!0,m=(p,_)=>i[_].pathname!==p.pathname||i[_].route.path?.endsWith("*")&&i[_].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,_)=>f(p,_)||m(p,_)):u==="data"?e.filter((p,_)=>{let b=r.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(f(p,_)||m(p,_))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function aC(s,e,{includeHydrateFallback:i}={}){return lC(s.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function lC(s){return[...new Set(s)]}function oC(s){let e={},i=Object.keys(s).sort();for(let r of i)e[r]=s[r];return e}function uC(s,e){let i=new Set;return new Set(e),s.reduce((r,o)=>{let u=JSON.stringify(oC(o));return i.has(u)||(i.add(u),r.push({key:u,link:o})),r},[])}function qS(){let s=M.useContext(ml);return hm(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function cC(){let s=M.useContext(Hh);return hm(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var fm=M.createContext(void 0);fm.displayName="FrameworkContext";function FS(){let s=M.useContext(fm);return hm(s,"You must render this element inside a <HydratedRouter> element"),s}function hC(s,e){let i=M.useContext(fm),[r,o]=M.useState(!1),[u,f]=M.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:_,onMouseLeave:b,onTouchStart:E}=e,C=M.useRef(null);M.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let Q=$=>{$.forEach(ee=>{f(ee.isIntersecting)})},Z=new IntersectionObserver(Q,{threshold:.5});return C.current&&Z.observe(C.current),()=>{Z.disconnect()}}},[s]),M.useEffect(()=>{if(r){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[r]);let U=()=>{o(!0)},z=()=>{o(!1),f(!1)};return i?s!=="intent"?[u,C,{}]:[u,C,{onFocus:Io(m,U),onBlur:Io(p,z),onMouseEnter:Io(_,U),onMouseLeave:Io(b,z),onTouchStart:Io(E,U)}]:[!1,C,{}]}function Io(s,e){return i=>{s&&s(i),i.defaultPrevented||e(i)}}function fC({page:s,...e}){let{router:i}=qS(),r=M.useMemo(()=>RS(i.routes,s,i.basename),[i.routes,s,i.basename]);return r?M.createElement(pC,{page:s,matches:r,...e}):null}function dC(s){let{manifest:e,routeModules:i}=FS(),[r,o]=M.useState([]);return M.useEffect(()=>{let u=!1;return rC(s,e,i).then(f=>{u||o(f)}),()=>{u=!0}},[s,e,i]),r}function pC({page:s,matches:e,...i}){let r=or(),{manifest:o,routeModules:u}=FS(),{basename:f}=qS(),{loaderData:m,matches:p}=cC(),_=M.useMemo(()=>Zv(s,e,p,o,r,"data"),[s,e,p,o,r]),b=M.useMemo(()=>Zv(s,e,p,o,r,"assets"),[s,e,p,o,r]),E=M.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let z=new Set,Q=!1;if(e.forEach($=>{let ee=o.routes[$.route.id];!ee||!ee.hasLoader||(!_.some(re=>re.route.id===$.route.id)&&$.route.id in m&&u[$.route.id]?.shouldRevalidate||ee.hasClientLoader?Q=!0:z.add($.route.id))}),z.size===0)return[];let Z=nC(s,f,"data");return Q&&z.size>0&&Z.searchParams.set("_routes",e.filter($=>z.has($.route.id)).map($=>$.route.id).join(",")),[Z.pathname+Z.search]},[f,m,r,o,_,e,s,u]),C=M.useMemo(()=>aC(b,o),[b,o]),U=dC(b);return M.createElement(M.Fragment,null,E.map(z=>M.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...i})),C.map(z=>M.createElement("link",{key:z,rel:"modulepreload",href:z,...i})),U.map(({key:z,link:Q})=>M.createElement("link",{key:z,nonce:i.nonce,...Q})))}function mC(...s){return e=>{s.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var gC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gC&&(window.__reactRouterVersion="7.11.0")}catch{}function _C({basename:s,children:e,unstable_useTransitions:i,window:r}){let o=M.useRef();o.current==null&&(o.current=J1({window:r,v5Compat:!0}));let u=o.current,[f,m]=M.useState({action:u.action,location:u.location}),p=M.useCallback(_=>{i===!1?m(_):M.startTransition(()=>m(_))},[i]);return M.useLayoutEffect(()=>u.listen(p),[u,p]),M.createElement(Yw,{basename:s,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:i})}var GS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$t=M.forwardRef(function({onClick:e,discover:i="render",prefetch:r="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:_,preventScrollReset:b,viewTransition:E,unstable_defaultShouldRevalidate:C,...U},z){let{basename:Q,unstable_useTransitions:Z}=M.useContext(Cn),$=typeof _=="string"&&GS.test(_),ee=kS(_,Q);_=ee.to;let re=Ow(_,{relative:o}),[oe,me,ye]=hC(r,U),I=EC(_,{replace:f,state:m,target:p,preventScrollReset:b,relative:o,viewTransition:E,unstable_defaultShouldRevalidate:C,unstable_useTransitions:Z});function A(L){e&&e(L),L.defaultPrevented||I(L)}let x=M.createElement("a",{...U,...ye,href:ee.absoluteURL||re,onClick:ee.isExternal||u?e:A,ref:mC(z,me),target:p,"data-discover":!$&&i==="render"?"true":void 0});return oe&&!$?M.createElement(M.Fragment,null,x,M.createElement(fC,{page:re})):x});$t.displayName="Link";var yC=M.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:r="",end:o=!1,style:u,to:f,viewTransition:m,children:p,..._},b){let E=cu(f,{relative:_.relative}),C=or(),U=M.useContext(Hh),{navigator:z,basename:Q}=M.useContext(Cn),Z=U!=null&&AC(E)&&m===!0,$=z.encodeLocation?z.encodeLocation(E).pathname:E.pathname,ee=C.pathname,re=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;i||(ee=ee.toLowerCase(),re=re?re.toLowerCase():null,$=$.toLowerCase()),re&&Q&&(re=ls(re,Q)||re);const oe=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let me=ee===$||!o&&ee.startsWith($)&&ee.charAt(oe)==="/",ye=re!=null&&(re===$||!o&&re.startsWith($)&&re.charAt($.length)==="/"),I={isActive:me,isPending:ye,isTransitioning:Z},A=me?e:void 0,x;typeof r=="function"?x=r(I):x=[r,me?"active":null,ye?"pending":null,Z?"transitioning":null].filter(Boolean).join(" ");let L=typeof u=="function"?u(I):u;return M.createElement($t,{..._,"aria-current":A,className:x,ref:b,style:L,to:f,viewTransition:m},typeof p=="function"?p(I):p)});yC.displayName="NavLink";var vC=M.forwardRef(({discover:s="render",fetcherKey:e,navigate:i,reloadDocument:r,replace:o,state:u,method:f=ah,action:m,onSubmit:p,relative:_,preventScrollReset:b,viewTransition:E,unstable_defaultShouldRevalidate:C,...U},z)=>{let{unstable_useTransitions:Q}=M.useContext(Cn),Z=wC(),$=CC(m,{relative:_}),ee=f.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&GS.test(m),oe=me=>{if(p&&p(me),me.defaultPrevented)return;me.preventDefault();let ye=me.nativeEvent.submitter,I=ye?.getAttribute("formmethod")||f,A=()=>Z(ye||me.currentTarget,{fetcherKey:e,method:I,navigate:i,replace:o,state:u,relative:_,preventScrollReset:b,viewTransition:E,unstable_defaultShouldRevalidate:C});Q&&i!==!1?M.startTransition(()=>A()):A()};return M.createElement("form",{ref:z,method:ee,action:$,onSubmit:r?p:oe,...U,"data-discover":!re&&s==="render"?"true":void 0})});vC.displayName="Form";function SC(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YS(s){let e=M.useContext(ml);return lt(e,SC(s)),e}function EC(s,{target:e,replace:i,state:r,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let _=ta(),b=or(),E=cu(s,{relative:u});return M.useCallback(C=>{if(Zw(C,e)){C.preventDefault();let U=i!==void 0?i:Ko(b)===Ko(E),z=()=>_(s,{replace:U,state:r,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?M.startTransition(()=>z()):z()}},[b,_,E,i,r,e,s,o,u,f,m,p])}var bC=0,TC=()=>`__${String(++bC)}__`;function wC(){let{router:s}=YS("useSubmit"),{basename:e}=M.useContext(Cn),i=Vw(),r=s.fetch,o=s.navigate;return M.useCallback(async(u,f={})=>{let{action:m,method:p,encType:_,formData:b,body:E}=tC(u,e);if(f.navigate===!1){let C=f.fetcherKey||TC();await r(C,i,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:E,formMethod:f.method||p,formEncType:f.encType||_,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:E,formMethod:f.method||p,formEncType:f.encType||_,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[r,o,e,i])}function CC(s,{relative:e}={}){let{basename:i}=M.useContext(Cn),r=M.useContext(Mi);lt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...cu(s||".",{relative:e})},f=or();if(s==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(b=>b==="")){m.delete("index"),p.filter(E=>E).forEach(E=>m.append("index",E));let b=m.toString();u.search=b?`?${b}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:ss([i,u.pathname])),Ko(u)}function AC(s,{relative:e}={}){let i=M.useContext(jS);lt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=YS("useViewTransitionState"),o=cu(s,{relative:e});if(!i.isTransitioning)return!1;let u=ls(i.currentLocation.pathname,r)||i.currentLocation.pathname,f=ls(i.nextLocation.pathname,r)||i.nextLocation.pathname;return ph(o.pathname,f)!=null||ph(o.pathname,u)!=null}const xC=()=>{};var $v={};const KS={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const te=function(s,e){if(!s)throw _l(e)},_l=function(s){return new Error("Firebase Database ("+KS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};const XS=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},NC=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[i++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[i++],f=s[i++],m=s[i++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=s[i++],f=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},dm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,m=f?s[o+1]:0,p=o+2<s.length,_=p?s[o+2]:0,b=u>>2,E=(u&3)<<4|m>>4;let C=(m&15)<<2|_>>6,U=_&63;p||(U=64,f||(C=64)),r.push(i[b],i[E],i[C],i[U])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(XS(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):NC(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=i[s.charAt(o++)],m=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const E=o<s.length?i[s.charAt(o)]:64;if(++o,u==null||m==null||_==null||E==null)throw new RC;const C=u<<2|m>>4;if(r.push(C),_!==64){const U=m<<4&240|_>>2;if(r.push(U),E!==64){const z=_<<6&192|E;r.push(z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class RC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QS=function(s){const e=XS(s);return dm.encodeByteArray(e,!0)},mh=function(s){return QS(s).replace(/\./g,"")},gh=function(s){try{return dm.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function IC(s){return WS(void 0,s)}function WS(s,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!OC(i)||(s[i]=WS(s[i],e[i]));return s}function OC(s){return s!=="__proto__"}function DC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const MC=()=>DC().__FIREBASE_DEFAULTS__,kC=()=>{if(typeof process>"u"||typeof $v>"u")return;const s=$v.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},LC=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&gh(s[1]);return e&&JSON.parse(e)},pm=()=>{try{return xC()||MC()||kC()||LC()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},JS=s=>pm()?.emulatorHosts?.[s],ZS=s=>{const e=JS(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},$S=()=>pm()?.config,eE=s=>pm()?.[`_${s}`];class hu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function na(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mm(s){return(await fetch(s,{credentials:"include"})).ok}function tE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[mh(JSON.stringify(i)),mh(JSON.stringify(f)),""].join(".")}const Uo={};function jC(){const s={prod:[],emulator:[]};for(const e of Object.keys(Uo))Uo[e]?s.emulator.push(e):s.prod.push(e);return s}function UC(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let e0=!1;function gm(s,e){if(typeof window>"u"||typeof document>"u"||!na(window.location.host)||Uo[s]===e||Uo[s]||e0)return;Uo[s]=e;function i(C){return`__firebase__banner__${C}`}const r="__firebase__banner",u=jC().prod.length>0;function f(){const C=document.getElementById(r);C&&C.remove()}function m(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,U){C.setAttribute("width","24"),C.setAttribute("id",U),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function _(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{e0=!0,f()},C}function b(C,U){C.setAttribute("id",U),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function E(){const C=UC(r),U=i("text"),z=document.getElementById(U)||document.createElement("span"),Q=i("learnmore"),Z=document.getElementById(Q)||document.createElement("a"),$=i("preprendIcon"),ee=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const re=C.element;m(re),b(Z,Q);const oe=_();p(ee,$),re.append(ee,z,Z,oe),document.body.appendChild(re)}u?(z.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _m(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function PC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zC(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function nE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HC(){const s=sn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function BC(){return KS.NODE_ADMIN===!0}function VC(){try{return typeof indexedDB=="object"}catch{return!1}}function qC(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const FC="FirebaseError";class hs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=FC,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?GC(u,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new hs(o,m,r)}}function GC(s,e){return s.replace(YC,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const YC=/\{\$([^}]+)}/g;function Xo(s){return JSON.parse(s)}function kt(s){return JSON.stringify(s)}const iE=function(s){let e={},i={},r={},o="";try{const u=s.split(".");e=Xo(gh(u[0])||""),i=Xo(gh(u[1])||""),o=u[2],r=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:r,signature:o}},KC=function(s){const e=iE(s),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},XC=function(s){const e=iE(s).claims;return typeof e=="object"&&e.admin===!0};function ki(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function al(s,e){if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}function Lp(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function _h(s,e,i){const r={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=e.call(i,s[o],o,s));return r}function nr(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const u=s[o],f=e[o];if(t0(u)&&t0(f)){if(!nr(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function t0(s){return s!==null&&typeof s=="object"}function yl(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lo(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function jo(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}class QC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const r=this.W_;if(typeof e=="string")for(let E=0;E<16;E++)r[E]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let E=0;E<16;E++)r[E]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let E=16;E<80;E++){const C=r[E-3]^r[E-8]^r[E-14]^r[E-16];r[E]=(C<<1|C>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],f=this.chain_[2],m=this.chain_[3],p=this.chain_[4],_,b;for(let E=0;E<80;E++){E<40?E<20?(_=m^u&(f^m),b=1518500249):(_=u^f^m,b=1859775393):E<60?(_=u&f|m&(u|f),b=2400959708):(_=u^f^m,b=3395469782);const C=(o<<5|o>>>27)+_+p+b+r[E]&4294967295;p=m,m=f,f=(u<<30|u>>>2)&4294967295,u=o,o=C}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const r=i-this.blockSize;let o=0;const u=this.buf_;let f=this.inbuf_;for(;o<i;){if(f===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<i;)if(u[f]=e.charCodeAt(o),++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}else for(;o<i;)if(u[f]=e[o],++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[r]=this.chain_[o]>>u&255,++r;return e}}function WC(s,e){const i=new JC(s,e);return i.subscribe.bind(i)}class JC{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");ZC(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=_p),o.error===void 0&&(o.error=_p),o.complete===void 0&&(o.complete=_p);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZC(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function _p(){}function Vh(s,e){return`${s} failed: ${e} argument `}const $C=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);if(o>=55296&&o<=56319){const u=o-55296;r++,te(r<s.length,"Surrogate pair missing trail surrogate.");const f=s.charCodeAt(r)-56320;o=65536+(u<<10)+f}o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):o<65536?(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},qh=function(s){let e=0;for(let i=0;i<s.length;i++){const r=s.charCodeAt(i);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,i++):e+=3}return e};function rn(s){return s&&s._delegate?s._delegate:s}class ir{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Br="[DEFAULT]";class eA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new hu;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nA(e))try{this.getOrInitializeService({instanceIdentifier:Br})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Br){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Br){return this.instances.has(e)}getOptions(e=Br){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tA(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Br){return this.component?this.component.multipleInstances?e:Br:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tA(s){return s===Br?void 0:s}function nA(s){return s.instantiationMode==="EAGER"}class iA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new eA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ve||(Ve={}));const sA={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},rA=Ve.INFO,aA={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},lA=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=aA[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fh{constructor(e){this.name=e,this._logLevel=rA,this._logHandler=lA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const oA=(s,e)=>e.some(i=>s instanceof i);let n0,i0;function uA(){return n0||(n0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cA(){return i0||(i0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sE=new WeakMap,jp=new WeakMap,rE=new WeakMap,yp=new WeakMap,ym=new WeakMap;function hA(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{i(Zs(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&sE.set(i,s)}).catch(()=>{}),ym.set(e,s),e}function fA(s){if(jp.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});jp.set(s,e)}let Up={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return jp.get(s);if(e==="objectStoreNames")return s.objectStoreNames||rE.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Zs(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function dA(s){Up=s(Up)}function pA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(vp(this),e,...i);return rE.set(r,e.sort?e.sort():[e]),Zs(r)}:cA().includes(s)?function(...e){return s.apply(vp(this),e),Zs(sE.get(this))}:function(...e){return Zs(s.apply(vp(this),e))}}function mA(s){return typeof s=="function"?pA(s):(s instanceof IDBTransaction&&fA(s),oA(s,uA())?new Proxy(s,Up):s)}function Zs(s){if(s instanceof IDBRequest)return hA(s);if(yp.has(s))return yp.get(s);const e=mA(s);return e!==s&&(yp.set(s,e),ym.set(e,s)),e}const vp=s=>ym.get(s);function gA(s,e,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,e),m=Zs(f);return r&&f.addEventListener("upgradeneeded",p=>{r(Zs(f.result),p.oldVersion,p.newVersion,Zs(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const _A=["get","getKey","getAll","getAllKeys","count"],yA=["put","add","delete","clear"],Sp=new Map;function s0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Sp.get(e))return Sp.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=yA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||_A.includes(i)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let _=p.store;return r&&(_=_.index(m.shift())),(await Promise.all([_[i](...m),o&&p.done]))[0]};return Sp.set(e,u),u}dA(s=>({...s,get:(e,i,r)=>s0(e,i)||s.get(e,i,r),has:(e,i)=>!!s0(e,i)||s.has(e,i)}));class vA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(SA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function SA(s){return s.getComponent()?.type==="VERSION"}const Pp="@firebase/app",r0="0.14.6";const os=new Fh("@firebase/app"),EA="@firebase/app-compat",bA="@firebase/analytics-compat",TA="@firebase/analytics",wA="@firebase/app-check-compat",CA="@firebase/app-check",AA="@firebase/auth",xA="@firebase/auth-compat",NA="@firebase/database",RA="@firebase/data-connect",IA="@firebase/database-compat",OA="@firebase/functions",DA="@firebase/functions-compat",MA="@firebase/installations",kA="@firebase/installations-compat",LA="@firebase/messaging",jA="@firebase/messaging-compat",UA="@firebase/performance",PA="@firebase/performance-compat",zA="@firebase/remote-config",HA="@firebase/remote-config-compat",BA="@firebase/storage",VA="@firebase/storage-compat",qA="@firebase/firestore",FA="@firebase/ai",GA="@firebase/firestore-compat",YA="firebase",KA="12.6.0";const zp="[DEFAULT]",XA={[Pp]:"fire-core",[EA]:"fire-core-compat",[TA]:"fire-analytics",[bA]:"fire-analytics-compat",[CA]:"fire-app-check",[wA]:"fire-app-check-compat",[AA]:"fire-auth",[xA]:"fire-auth-compat",[NA]:"fire-rtdb",[RA]:"fire-data-connect",[IA]:"fire-rtdb-compat",[OA]:"fire-fn",[DA]:"fire-fn-compat",[MA]:"fire-iid",[kA]:"fire-iid-compat",[LA]:"fire-fcm",[jA]:"fire-fcm-compat",[UA]:"fire-perf",[PA]:"fire-perf-compat",[zA]:"fire-rc",[HA]:"fire-rc-compat",[BA]:"fire-gcs",[VA]:"fire-gcs-compat",[qA]:"fire-fst",[GA]:"fire-fst-compat",[FA]:"fire-vertex","fire-js":"fire-js",[YA]:"fire-js-all"};const Qo=new Map,QA=new Map,Hp=new Map;function a0(s,e){try{s.container.addComponent(e)}catch(i){os.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Xr(s){const e=s.name;if(Hp.has(e))return os.debug(`There were multiple attempts to register component ${e}.`),!1;Hp.set(e,s);for(const i of Qo.values())a0(i,s);for(const i of QA.values())a0(i,s);return!0}function Gh(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function wn(s){return s==null?!1:s.settings!==void 0}const WA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$s=new fu("app","Firebase",WA);class JA{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ir("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $s.create("app-deleted",{appName:this._name})}}const ia=KA;function aE(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:zp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw $s.create("bad-app-name",{appName:String(o)});if(i||(i=$S()),!i)throw $s.create("no-options");const u=Qo.get(o);if(u){if(nr(i,u.options)&&nr(r,u.config))return u;throw $s.create("duplicate-app",{appName:o})}const f=new iA(o);for(const p of Hp.values())f.addComponent(p);const m=new JA(i,r,f);return Qo.set(o,m),m}function vm(s=zp){const e=Qo.get(s);if(!e&&s===zp&&$S())return aE();if(!e)throw $s.create("no-app",{appName:s});return e}function l0(){return Array.from(Qo.values())}function Ii(s,e,i){let r=XA[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),os.warn(f.join(" "));return}Xr(new ir(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const ZA="firebase-heartbeat-database",$A=1,Wo="firebase-heartbeat-store";let Ep=null;function lE(){return Ep||(Ep=gA(ZA,$A,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Wo)}catch(i){console.warn(i)}}}}).catch(s=>{throw $s.create("idb-open",{originalErrorMessage:s.message})})),Ep}async function ex(s){try{const i=(await lE()).transaction(Wo),r=await i.objectStore(Wo).get(oE(s));return await i.done,r}catch(e){if(e instanceof hs)os.warn(e.message);else{const i=$s.create("idb-get",{originalErrorMessage:e?.message});os.warn(i.message)}}}async function o0(s,e){try{const r=(await lE()).transaction(Wo,"readwrite");await r.objectStore(Wo).put(e,oE(s)),await r.done}catch(i){if(i instanceof hs)os.warn(i.message);else{const r=$s.create("idb-set",{originalErrorMessage:i?.message});os.warn(r.message)}}}function oE(s){return`${s.name}!${s.options.appId}`}const tx=1024,nx=30;class ix{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new rx(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=u0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>nx){const o=ax(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){os.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=u0(),{heartbeatsToSend:i,unsentEntries:r}=sx(this._heartbeatsCache.heartbeats),o=mh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return os.warn(e),""}}}function u0(){return new Date().toISOString().substring(0,10)}function sx(s,e=tx){const i=[];let r=s.slice();for(const o of s){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),c0(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),c0(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class rx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VC()?qC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ex(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return o0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return o0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function c0(s){return mh(JSON.stringify({version:2,heartbeats:s})).length}function ax(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function lx(s){Xr(new ir("platform-logger",e=>new vA(e),"PRIVATE")),Xr(new ir("heartbeat",e=>new ix(e),"PRIVATE")),Ii(Pp,r0,s),Ii(Pp,r0,"esm2020"),Ii("fire-js","")}lx("");function uE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ox=uE,cE=new fu("auth","Firebase",uE());const yh=new Fh("@firebase/auth");function ux(s,...e){yh.logLevel<=Ve.WARN&&yh.warn(`Auth (${ia}): ${s}`,...e)}function oh(s,...e){yh.logLevel<=Ve.ERROR&&yh.error(`Auth (${ia}): ${s}`,...e)}function ri(s,...e){throw Sm(s,...e)}function Oi(s,...e){return Sm(s,...e)}function hE(s,e,i){const r={...ox(),[e]:i};return new fu("auth","Firebase",r).create(e,{appName:s.name})}function rs(s){return hE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sm(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return cE.create(s,...e)}function de(s,e,...i){if(!s)throw Sm(e,...i)}function ts(s){const e="INTERNAL ASSERTION FAILED: "+s;throw oh(e),new Error(e)}function us(s,e){s||ts(e)}function Bp(){return typeof self<"u"&&self.location?.href||""}function cx(){return h0()==="http:"||h0()==="https:"}function h0(){return typeof self<"u"&&self.location?.protocol||null}function hx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cx()||zC()||"connection"in navigator)?navigator.onLine:!0}function fx(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class du{constructor(e,i){this.shortDelay=e,this.longDelay=i,us(i>e,"Short delay should be less than long delay!"),this.isMobile=_m()||nE()}get(){return hx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Em(s,e){us(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class fE{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const px=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mx=new du(3e4,6e4);function ur(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function cr(s,e,i,r,o={}){return dE(s,o,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const m=yl({key:s.config.apiKey,...f}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:p,...u};return PC()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&na(s.emulatorConfig.host)&&(_.credentials="include"),fE.fetch()(await pE(s,s.config.apiHost,i,m),_)})}async function dE(s,e,i){s._canInitEmulator=!1;const r={...dx,...e};try{const o=new _x(s),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw th(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,_]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(s,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw th(s,"email-already-in-use",f);if(p==="USER_DISABLED")throw th(s,"user-disabled",f);const b=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw hE(s,b,_);ri(s,b)}}catch(o){if(o instanceof hs)throw o;ri(s,"network-request-failed",{message:String(o)})}}async function pu(s,e,i,r,o={}){const u=await cr(s,e,i,r,o);return"mfaPendingCredential"in u&&ri(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function pE(s,e,i,r){const o=`${e}${i}?${r}`,u=s,f=u.config.emulator?Em(s.config,o):`${s.config.apiScheme}://${o}`;return px.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function gx(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _x{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Oi(this.auth,"network-request-failed")),mx.get())})}}function th(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=Oi(s,e,r);return o.customData._tokenResponse=i,o}function f0(s){return s!==void 0&&s.enterprise!==void 0}class yx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return gx(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vx(s,e){return cr(s,"GET","/v2/recaptchaConfig",ur(s,e))}async function Sx(s,e){return cr(s,"POST","/v1/accounts:delete",e)}async function vh(s,e){return cr(s,"POST","/v1/accounts:lookup",e)}function Po(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ex(s,e=!1){const i=rn(s),r=await i.getIdToken(e),o=bm(r);de(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:Po(bp(o.auth_time)),issuedAtTime:Po(bp(o.iat)),expirationTime:Po(bp(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function bp(s){return Number(s)*1e3}function bm(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=gh(i);return o?JSON.parse(o):(oh("Failed to decode base64 JWT payload"),null)}catch(o){return oh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function d0(s){const e=bm(s);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Jo(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof hs&&bx(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function bx({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Tx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Vp{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Po(this.lastLoginAt),this.creationTime=Po(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Sh(s){const e=s.auth,i=await s.getIdToken(),r=await Jo(s,vh(e,{idToken:i}));de(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?mE(o.providerUserInfo):[],f=Cx(s.providerData,u),m=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!f?.length,_=m?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Vp(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,b)}async function wx(s){const e=rn(s);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Cx(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function mE(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Ax(s,e){const i=await dE(s,{},async()=>{const r=yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await pE(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return s.emulatorConfig&&na(s.emulatorConfig.host)&&(p.credentials="include"),fE.fetch()(f,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function xx(s,e){return cr(s,"POST","/v2/accounts:revokeToken",ur(s,e))}class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){de(e.length!==0,"internal-error");const i=d0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:u}=await Ax(e,i);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:u}=i,f=new el;return r&&(de(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(de(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(de(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return ts("not implemented")}}function Ys(s,e){de(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ti{constructor({uid:e,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new Tx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Jo(this,this.stsTokenManager.getToken(this.auth,e));return de(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Ex(this,e)}reload(){return wx(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await Sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await Jo(this,Sx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,o=i.email??void 0,u=i.phoneNumber??void 0,f=i.photoURL??void 0,m=i.tenantId??void 0,p=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:E,emailVerified:C,isAnonymous:U,providerData:z,stsTokenManager:Q}=i;de(E&&Q,e,"internal-error");const Z=el.fromJSON(this.name,Q);de(typeof E=="string",e,"internal-error"),Ys(r,e.name),Ys(o,e.name),de(typeof C=="boolean",e,"internal-error"),de(typeof U=="boolean",e,"internal-error"),Ys(u,e.name),Ys(f,e.name),Ys(m,e.name),Ys(p,e.name),Ys(_,e.name),Ys(b,e.name);const $=new ti({uid:E,auth:e,email:o,emailVerified:C,displayName:r,isAnonymous:U,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:Z,createdAt:_,lastLoginAt:b});return z&&Array.isArray(z)&&($.providerData=z.map(ee=>({...ee}))),p&&($._redirectEventId=p),$}static async _fromIdTokenResponse(e,i,r=!1){const o=new el;o.updateFromServerResponse(i);const u=new ti({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Sh(u),u}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];de(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?mE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new el;m.updateFromIdToken(r);const p=new ti({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Vp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,_),p}}const p0=new Map;function ns(s){us(s instanceof Function,"Expected a class definition");let e=p0.get(s);return e?(us(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,p0.set(s,e),e)}class gE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}gE.type="NONE";const m0=gE;function uh(s,e,i){return`firebase:${s}:${e}:${i}`}class tl{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=uh(this.userKey,o.apiKey,u),this.fullPersistenceKey=uh("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await vh(this.auth,{idToken:e}).catch(()=>{});return i?ti._fromGetAccountInfoResponse(this.auth,i,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new tl(ns(m0),e,r);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||ns(m0);const f=uh(r,e.config.apiKey,e.name);let m=null;for(const _ of i)try{const b=await _._get(f);if(b){let E;if(typeof b=="string"){const C=await vh(e,{idToken:b}).catch(()=>{});if(!C)break;E=await ti._fromGetAccountInfoResponse(e,C,b)}else E=ti._fromJSON(e,b);_!==u&&(m=E),u=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new tl(u,e,r):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(i.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new tl(u,e,r))}}function g0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_E(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bE(e))return"Blackberry";if(TE(e))return"Webos";if(yE(e))return"Safari";if((e.includes("chrome/")||vE(e))&&!e.includes("edge/"))return"Chrome";if(EE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function _E(s=sn()){return/firefox\//i.test(s)}function yE(s=sn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vE(s=sn()){return/crios\//i.test(s)}function SE(s=sn()){return/iemobile/i.test(s)}function EE(s=sn()){return/android/i.test(s)}function bE(s=sn()){return/blackberry/i.test(s)}function TE(s=sn()){return/webos/i.test(s)}function Tm(s=sn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Nx(s=sn()){return Tm(s)&&!!window.navigator?.standalone}function Rx(){return HC()&&document.documentMode===10}function wE(s=sn()){return Tm(s)||EE(s)||TE(s)||bE(s)||/windows phone/i.test(s)||SE(s)}function CE(s,e=[]){let i;switch(s){case"Browser":i=g0(sn());break;case"Worker":i=`${g0(sn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${ia}/${r}`}class Ix{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Ox(s,e={}){return cr(s,"GET","/v2/passwordPolicy",ur(s,e))}const Dx=6;class Mx{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Dx,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class kx{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _0(this),this.idTokenSubscription=new _0(this),this.beforeStateQueue=new Ix(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ns(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await tl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await vh(this,{idToken:e}),r=await ti._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(wn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(rs(this));const i=e?rn(e):null;return i&&de(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ox(this),i=new Mx(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await xx(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ns(e)||this._popupRedirectResolver;de(i,this,"argument-error"),this.redirectPersistenceManager=await tl.create(this,[ns(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,r,o);return()=>{f=!0,p()}}else{const p=e.addObserver(i);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ux(`Error while retrieving App Check token: ${e.error}`),e?.token}}function sa(s){return rn(s)}class _0{constructor(e){this.auth=e,this.observer=null,this.addObserver=WC(i=>this.observer=i)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Lx(s){Yh=s}function AE(s){return Yh.loadJS(s)}function jx(){return Yh.recaptchaEnterpriseScript}function Ux(){return Yh.gapiScript}function Px(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class zx{constructor(){this.enterprise=new Hx}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class Hx{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const Bx="recaptcha-enterprise",xE="NO_RECAPTCHA";class Vx{constructor(e){this.type=Bx,this.auth=sa(e)}async verify(e="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{vx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new yx(p);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;f0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(_=>{f(_)}).catch(()=>{f(xE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zx().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(m=>{if(!i&&f0(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=jx();p.length!==0&&(p+=m),AE(p).then(()=>{o(m,u,f)}).catch(_=>{f(_)})}}).catch(m=>{f(m)})})}}async function y0(s,e,i,r=!1,o=!1){const u=new Vx(s);let f;if(o)f=xE;else try{f=await u.verify(i)}catch{f=await u.verify(i,!0)}const m={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function qp(s,e,i,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await y0(s,e,i,i==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await y0(s,e,i,i==="getOobCode");return r(s,f)}else return Promise.reject(u)})}function qx(s,e){const i=Gh(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(nr(u,e??{}))return o;ri(o,"already-initialized")}return i.initialize({options:e})}function Fx(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ns);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function Gx(s,e,i){const r=sa(s);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=NE(e),{host:f,port:m}=Yx(e),p=m===null?"":`:${m}`,_={url:`${u}//${f}${p}/`},b=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(nr(_,r.config.emulator)&&nr(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,na(f)?(mm(`${u}//${f}${p}`),gm("Auth",!0)):Kx()}function NE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Yx(s){const e=NE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:v0(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:v0(f)}}}function v0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Kx(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class wm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,i){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}}async function Xx(s,e){return cr(s,"POST","/v1/accounts:signUp",e)}async function Qx(s,e){return pu(s,"POST","/v1/accounts:signInWithPassword",ur(s,e))}async function Wx(s,e){return pu(s,"POST","/v1/accounts:signInWithEmailLink",ur(s,e))}async function Jx(s,e){return pu(s,"POST","/v1/accounts:signInWithEmailLink",ur(s,e))}class Zo extends wm{constructor(e,i,r,o=null){super("password",r),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new Zo(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new Zo(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qp(e,i,"signInWithPassword",Qx);case"emailLink":return Wx(e,{email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qp(e,r,"signUpPassword",Xx);case"emailLink":return Jx(e,{idToken:i,email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function nl(s,e){return pu(s,"POST","/v1/accounts:signInWithIdp",ur(s,e))}const Zx="http://localhost";class Qr extends wm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Qr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ri("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=i;if(!r||!o)return null;const f=new Qr(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return nl(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,nl(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,nl(e,i)}buildRequest(){const e={requestUri:Zx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=yl(i)}return e}}function $x(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eN(s){const e=Lo(jo(s)).link,i=e?Lo(jo(e)).deep_link_id:null,r=Lo(jo(s)).deep_link_id;return(r?Lo(jo(r)).link:null)||r||i||e||s}class Cm{constructor(e){const i=Lo(jo(e)),r=i.apiKey??null,o=i.oobCode??null,u=$x(i.mode??null);de(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=eN(e);try{return new Cm(i)}catch{return null}}}class vl{constructor(){this.providerId=vl.PROVIDER_ID}static credential(e,i){return Zo._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Cm.parseLink(i);return de(r,"argument-error"),Zo._fromEmailAndCode(e,r.code,r.tenantId)}}vl.PROVIDER_ID="password";vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class RE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class mu extends RE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ks extends mu{constructor(){super("facebook.com")}static credential(e){return Qr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ks.PROVIDER_ID="facebook.com";class Xs extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Qr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Xs.credential(i,r)}catch{return null}}}Xs.GOOGLE_SIGN_IN_METHOD="google.com";Xs.PROVIDER_ID="google.com";class Qs extends mu{constructor(){super("github.com")}static credential(e){return Qr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";class Ws extends mu{constructor(){super("twitter.com")}static credential(e,i){return Qr._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Ws.credential(i,r)}catch{return null}}}Ws.TWITTER_SIGN_IN_METHOD="twitter.com";Ws.PROVIDER_ID="twitter.com";async function tN(s,e){return pu(s,"POST","/v1/accounts:signUp",ur(s,e))}class Wr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const u=await ti._fromIdTokenResponse(e,r,o),f=S0(r);return new Wr({user:u,providerId:f,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=S0(r);return new Wr({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function S0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Eh extends hs{constructor(e,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new Eh(e,i,r,o)}}function IE(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(s,u,e,r):u})}async function nN(s,e,i=!1){const r=await Jo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Wr._forOperation(s,"link",r)}async function iN(s,e,i=!1){const{auth:r}=s;if(wn(r.app))return Promise.reject(rs(r));const o="reauthenticate";try{const u=await Jo(s,IE(r,o,e,s),i);de(u.idToken,r,"internal-error");const f=bm(u.idToken);de(f,r,"internal-error");const{sub:m}=f;return de(s.uid===m,r,"user-mismatch"),Wr._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ri(r,"user-mismatch"),u}}async function OE(s,e,i=!1){if(wn(s.app))return Promise.reject(rs(s));const r="signIn",o=await IE(s,r,e),u=await Wr._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(u.user),u}async function sN(s,e){return OE(sa(s),e)}async function DE(s){const e=sa(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ME(s,e,i){if(wn(s.app))return Promise.reject(rs(s));const r=sa(s),f=await qp(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&DE(s),p}),m=await Wr._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(m.user),m}function rN(s,e,i){return wn(s.app)?Promise.reject(rs(s)):sN(rn(s),vl.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&DE(s),r})}function aN(s,e,i,r){return rn(s).onIdTokenChanged(e,i,r)}function lN(s,e,i){return rn(s).beforeAuthStateChanged(e,i)}function oN(s){return rn(s).signOut()}const bh="__sak";class kE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const uN=1e3,cN=10;class LE extends kE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!i&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);Rx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,cN):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},uN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}LE.type="LOCAL";const hN=LE;class jE extends kE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}jE.type="SESSION";const UE=jE;function fN(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new Kh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:u}=i.data,f=this.handlersMap[o];if(!f?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async _=>_(i.origin,u)),p=await fN(m);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kh.receivers=[];function Am(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class dN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const _=Am("",20);o.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(E){const C=E;if(C.data.eventId===_)switch(C.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(b),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Di(){return window}function pN(s){Di().location.href=s}function PE(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function mN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gN(){return navigator?.serviceWorker?.controller||null}function _N(){return PE()?self:null}const zE="firebaseLocalStorageDb",yN=1,Th="firebaseLocalStorage",HE="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Xh(s,e){return s.transaction([Th],e?"readwrite":"readonly").objectStore(Th)}function vN(){const s=indexedDB.deleteDatabase(zE);return new gu(s).toPromise()}function Fp(){const s=indexedDB.open(zE,yN);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Th,{keyPath:HE})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Th)?e(r):(r.close(),await vN(),e(await Fp()))})})}async function E0(s,e,i){const r=Xh(s,!0).put({[HE]:e,value:i});return new gu(r).toPromise()}async function SN(s,e){const i=Xh(s,!1).get(e),r=await new gu(i).toPromise();return r===void 0?null:r.value}function b0(s,e){const i=Xh(s,!0).delete(e);return new gu(i).toPromise()}const EN=800,bN=3;class BE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fp(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>bN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kh._getInstance(_N()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mN(),!this.activeServiceWorker)return;this.sender=new dN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fp();return await E0(e,bh,"1"),await b0(e,bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>E0(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>SN(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>b0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Xh(o,!1).getAll();return new gu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BE.type="LOCAL";const TN=BE;new du(3e4,6e4);function wN(s,e){return e?ns(e):(de(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class xm extends wm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return nl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function CN(s){return OE(s.auth,new xm(s),s.bypassAuthState)}function AN(s){const{auth:e,user:i}=s;return de(i,e,"internal-error"),iN(i,new xm(s),s.bypassAuthState)}async function xN(s){const{auth:e,user:i}=s;return de(i,e,"internal-error"),nN(i,new xm(s),s.bypassAuthState)}class VE{constructor(e,i,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CN;case"linkViaPopup":case"linkViaRedirect":return xN;case"reauthViaPopup":case"reauthViaRedirect":return AN;default:ri(this.auth,"internal-error")}}resolve(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const NN=new du(2e3,1e4);class Za extends VE{constructor(e,i,r,o,u){super(e,i,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const e=Am();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NN.get())};e()}}Za.currentPopupAction=null;const RN="pendingRedirect",ch=new Map;class IN extends VE{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const r=await ON(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ON(s,e){const i=kN(e),r=MN(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function DN(s,e){ch.set(s._key(),e)}function MN(s){return ns(s._redirectPersistence)}function kN(s){return uh(RN,s.config.apiKey,s.name)}async function LN(s,e,i=!1){if(wn(s.app))return Promise.reject(rs(s));const r=sa(s),o=wN(r,e),f=await new IN(r,o,i).execute();return f&&!i&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const jN=600*1e3;class UN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PN(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!qE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Oi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jN&&this.cachedEventUids.clear(),this.cachedEventUids.has(T0(e))}saveEventToCache(e){this.cachedEventUids.add(T0(e)),this.lastProcessedEventTime=Date.now()}}function T0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function qE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function PN(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qE(s);default:return!1}}async function zN(s,e={}){return cr(s,"GET","/v1/projects",e)}const HN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BN=/^https?/;async function VN(s){if(s.config.emulator)return;const{authorizedDomains:e}=await zN(s);for(const i of e)try{if(qN(i))return}catch{}ri(s,"unauthorized-domain")}function qN(s){const e=Bp(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===r}if(!BN.test(i))return!1;if(HN.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const FN=new du(3e4,6e4);function w0(){const s=Di().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function GN(s){return new Promise((e,i)=>{function r(){w0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w0(),i(Oi(s,"network-request-failed"))},timeout:FN.get()})}if(Di().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Di().gapi?.load)r();else{const o=Px("iframefcb");return Di()[o]=()=>{gapi.load?r():i(Oi(s,"network-request-failed"))},AE(`${Ux()}?onload=${o}`).catch(u=>i(u))}}).catch(e=>{throw hh=null,e})}let hh=null;function YN(s){return hh=hh||GN(s),hh}const KN=new du(5e3,15e3),XN="__/auth/iframe",QN="emulator/auth/iframe",WN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZN(s){const e=s.config;de(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Em(e,QN):`https://${s.config.authDomain}/${XN}`,r={apiKey:e.apiKey,appName:s.name,v:ia},o=JN.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${yl(r).slice(1)}`}async function $N(s){const e=await YN(s),i=Di().gapi;return de(i,s,"internal-error"),e.open({where:document.body,url:ZN(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WN,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=Oi(s,"network-request-failed"),m=Di().setTimeout(()=>{u(f)},KN.get());function p(){Di().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(f)})}))}const eR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tR=500,nR=600,iR="_blank",sR="http://localhost";class C0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rR(s,e,i,r=tR,o=nR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...eR,width:r.toString(),height:o.toString(),top:u,left:f},_=sn().toLowerCase();i&&(m=vE(_)?iR:i),_E(_)&&(e=e||sR,p.scrollbars="yes");const b=Object.entries(p).reduce((C,[U,z])=>`${C}${U}=${z},`,"");if(Nx(_)&&m!=="_self")return aR(e||"",m),new C0(null);const E=window.open(e||"",m,b);de(E,s,"popup-blocked");try{E.focus()}catch{}return new C0(E)}function aR(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const lR="__/auth/handler",oR="emulator/auth/handler",uR=encodeURIComponent("fac");async function A0(s,e,i,r,o,u){de(s.config.authDomain,s,"auth-domain-config-required"),de(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:ia,eventId:o};if(e instanceof RE){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",Lp(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,E]of Object.entries({}))f[b]=E}if(e instanceof mu){const b=e.getScopes().filter(E=>E!=="");b.length>0&&(f.scopes=b.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const p=await s._getAppCheckToken(),_=p?`#${uR}=${encodeURIComponent(p)}`:"";return`${cR(s)}?${yl(m).slice(1)}${_}`}function cR({config:s}){return s.emulator?Em(s,oR):`https://${s.authDomain}/${lR}`}const Tp="webStorageSupport";class hR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UE,this._completeRedirectFn=LN,this._overrideRedirectResult=DN}async _openPopup(e,i,r,o){us(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await A0(e,i,r,Bp(),o);return rR(e,u,Am())}async _openRedirect(e,i,r,o){await this._originValidation(e);const u=await A0(e,i,r,Bp(),o);return pN(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(us(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await $N(e),r=new UN(e);return i.register("authEvent",o=>(de(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Tp,{type:Tp},o=>{const u=o?.[0]?.[Tp];u!==void 0&&i(!!u),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=VN(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return wE()||yE()||Tm()}}const fR=hR;var x0="@firebase/auth",N0="1.12.0";class dR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mR(s){Xr(new ir("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;de(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CE(s)},_=new kx(r,o,u,p);return Fx(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Xr(new ir("auth-internal",e=>{const i=sa(e.getProvider("auth").getImmediate());return(r=>new dR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ii(x0,N0,pR(s)),Ii(x0,N0,"esm2020")}const gR=300,_R=eE("authIdTokenMaxAge")||gR;let R0=null;const yR=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>_R)return;const o=i?.token;R0!==o&&(R0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function vR(s=vm()){const e=Gh(s,"auth");if(e.isInitialized())return e.getImmediate();const i=qx(s,{popupRedirectResolver:fR,persistence:[TN,hN,UE]}),r=eE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=yR(u.toString());lN(i,f,()=>f(i.currentUser)),aN(i,m=>f(m))}}const o=JS("auth");return o&&Gx(i,`http://${o}`),i}function SR(){return document.getElementsByTagName("head")?.[0]??document}Lx({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=Oi("internal-error");u.customData=o,i(u)},r.type="text/javascript",r.charset="UTF-8",SR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mR("Browser");var ER="firebase",bR="12.7.0";Ii(ER,bR,"app");var I0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Nm;(function(){var s;function e(I,A){function x(){}x.prototype=A.prototype,I.F=A.prototype,I.prototype=new x,I.prototype.constructor=I,I.D=function(L,D,P){for(var N=Array(arguments.length-2),st=2;st<arguments.length;st++)N[st-2]=arguments[st];return A.prototype[D].apply(L,N)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,x){x||(x=0);const L=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)L[D]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(D=0;D<16;++D)L[D]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=I.g[0],x=I.g[1],D=I.g[2];let P=I.g[3],N;N=A+(P^x&(D^P))+L[0]+3614090360&4294967295,A=x+(N<<7&4294967295|N>>>25),N=P+(D^A&(x^D))+L[1]+3905402710&4294967295,P=A+(N<<12&4294967295|N>>>20),N=D+(x^P&(A^x))+L[2]+606105819&4294967295,D=P+(N<<17&4294967295|N>>>15),N=x+(A^D&(P^A))+L[3]+3250441966&4294967295,x=D+(N<<22&4294967295|N>>>10),N=A+(P^x&(D^P))+L[4]+4118548399&4294967295,A=x+(N<<7&4294967295|N>>>25),N=P+(D^A&(x^D))+L[5]+1200080426&4294967295,P=A+(N<<12&4294967295|N>>>20),N=D+(x^P&(A^x))+L[6]+2821735955&4294967295,D=P+(N<<17&4294967295|N>>>15),N=x+(A^D&(P^A))+L[7]+4249261313&4294967295,x=D+(N<<22&4294967295|N>>>10),N=A+(P^x&(D^P))+L[8]+1770035416&4294967295,A=x+(N<<7&4294967295|N>>>25),N=P+(D^A&(x^D))+L[9]+2336552879&4294967295,P=A+(N<<12&4294967295|N>>>20),N=D+(x^P&(A^x))+L[10]+4294925233&4294967295,D=P+(N<<17&4294967295|N>>>15),N=x+(A^D&(P^A))+L[11]+2304563134&4294967295,x=D+(N<<22&4294967295|N>>>10),N=A+(P^x&(D^P))+L[12]+1804603682&4294967295,A=x+(N<<7&4294967295|N>>>25),N=P+(D^A&(x^D))+L[13]+4254626195&4294967295,P=A+(N<<12&4294967295|N>>>20),N=D+(x^P&(A^x))+L[14]+2792965006&4294967295,D=P+(N<<17&4294967295|N>>>15),N=x+(A^D&(P^A))+L[15]+1236535329&4294967295,x=D+(N<<22&4294967295|N>>>10),N=A+(D^P&(x^D))+L[1]+4129170786&4294967295,A=x+(N<<5&4294967295|N>>>27),N=P+(x^D&(A^x))+L[6]+3225465664&4294967295,P=A+(N<<9&4294967295|N>>>23),N=D+(A^x&(P^A))+L[11]+643717713&4294967295,D=P+(N<<14&4294967295|N>>>18),N=x+(P^A&(D^P))+L[0]+3921069994&4294967295,x=D+(N<<20&4294967295|N>>>12),N=A+(D^P&(x^D))+L[5]+3593408605&4294967295,A=x+(N<<5&4294967295|N>>>27),N=P+(x^D&(A^x))+L[10]+38016083&4294967295,P=A+(N<<9&4294967295|N>>>23),N=D+(A^x&(P^A))+L[15]+3634488961&4294967295,D=P+(N<<14&4294967295|N>>>18),N=x+(P^A&(D^P))+L[4]+3889429448&4294967295,x=D+(N<<20&4294967295|N>>>12),N=A+(D^P&(x^D))+L[9]+568446438&4294967295,A=x+(N<<5&4294967295|N>>>27),N=P+(x^D&(A^x))+L[14]+3275163606&4294967295,P=A+(N<<9&4294967295|N>>>23),N=D+(A^x&(P^A))+L[3]+4107603335&4294967295,D=P+(N<<14&4294967295|N>>>18),N=x+(P^A&(D^P))+L[8]+1163531501&4294967295,x=D+(N<<20&4294967295|N>>>12),N=A+(D^P&(x^D))+L[13]+2850285829&4294967295,A=x+(N<<5&4294967295|N>>>27),N=P+(x^D&(A^x))+L[2]+4243563512&4294967295,P=A+(N<<9&4294967295|N>>>23),N=D+(A^x&(P^A))+L[7]+1735328473&4294967295,D=P+(N<<14&4294967295|N>>>18),N=x+(P^A&(D^P))+L[12]+2368359562&4294967295,x=D+(N<<20&4294967295|N>>>12),N=A+(x^D^P)+L[5]+4294588738&4294967295,A=x+(N<<4&4294967295|N>>>28),N=P+(A^x^D)+L[8]+2272392833&4294967295,P=A+(N<<11&4294967295|N>>>21),N=D+(P^A^x)+L[11]+1839030562&4294967295,D=P+(N<<16&4294967295|N>>>16),N=x+(D^P^A)+L[14]+4259657740&4294967295,x=D+(N<<23&4294967295|N>>>9),N=A+(x^D^P)+L[1]+2763975236&4294967295,A=x+(N<<4&4294967295|N>>>28),N=P+(A^x^D)+L[4]+1272893353&4294967295,P=A+(N<<11&4294967295|N>>>21),N=D+(P^A^x)+L[7]+4139469664&4294967295,D=P+(N<<16&4294967295|N>>>16),N=x+(D^P^A)+L[10]+3200236656&4294967295,x=D+(N<<23&4294967295|N>>>9),N=A+(x^D^P)+L[13]+681279174&4294967295,A=x+(N<<4&4294967295|N>>>28),N=P+(A^x^D)+L[0]+3936430074&4294967295,P=A+(N<<11&4294967295|N>>>21),N=D+(P^A^x)+L[3]+3572445317&4294967295,D=P+(N<<16&4294967295|N>>>16),N=x+(D^P^A)+L[6]+76029189&4294967295,x=D+(N<<23&4294967295|N>>>9),N=A+(x^D^P)+L[9]+3654602809&4294967295,A=x+(N<<4&4294967295|N>>>28),N=P+(A^x^D)+L[12]+3873151461&4294967295,P=A+(N<<11&4294967295|N>>>21),N=D+(P^A^x)+L[15]+530742520&4294967295,D=P+(N<<16&4294967295|N>>>16),N=x+(D^P^A)+L[2]+3299628645&4294967295,x=D+(N<<23&4294967295|N>>>9),N=A+(D^(x|~P))+L[0]+4096336452&4294967295,A=x+(N<<6&4294967295|N>>>26),N=P+(x^(A|~D))+L[7]+1126891415&4294967295,P=A+(N<<10&4294967295|N>>>22),N=D+(A^(P|~x))+L[14]+2878612391&4294967295,D=P+(N<<15&4294967295|N>>>17),N=x+(P^(D|~A))+L[5]+4237533241&4294967295,x=D+(N<<21&4294967295|N>>>11),N=A+(D^(x|~P))+L[12]+1700485571&4294967295,A=x+(N<<6&4294967295|N>>>26),N=P+(x^(A|~D))+L[3]+2399980690&4294967295,P=A+(N<<10&4294967295|N>>>22),N=D+(A^(P|~x))+L[10]+4293915773&4294967295,D=P+(N<<15&4294967295|N>>>17),N=x+(P^(D|~A))+L[1]+2240044497&4294967295,x=D+(N<<21&4294967295|N>>>11),N=A+(D^(x|~P))+L[8]+1873313359&4294967295,A=x+(N<<6&4294967295|N>>>26),N=P+(x^(A|~D))+L[15]+4264355552&4294967295,P=A+(N<<10&4294967295|N>>>22),N=D+(A^(P|~x))+L[6]+2734768916&4294967295,D=P+(N<<15&4294967295|N>>>17),N=x+(P^(D|~A))+L[13]+1309151649&4294967295,x=D+(N<<21&4294967295|N>>>11),N=A+(D^(x|~P))+L[4]+4149444226&4294967295,A=x+(N<<6&4294967295|N>>>26),N=P+(x^(A|~D))+L[11]+3174756917&4294967295,P=A+(N<<10&4294967295|N>>>22),N=D+(A^(P|~x))+L[2]+718787259&4294967295,D=P+(N<<15&4294967295|N>>>17),N=x+(P^(D|~A))+L[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+P&4294967295}r.prototype.v=function(I,A){A===void 0&&(A=I.length);const x=A-this.blockSize,L=this.C;let D=this.h,P=0;for(;P<A;){if(D==0)for(;P<=x;)o(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<A;)if(L[D++]=I.charCodeAt(P++),D==this.blockSize){o(this,L),D=0;break}}else for(;P<A;)if(L[D++]=I[P++],D==this.blockSize){o(this,L),D=0;break}}this.h=D,this.o+=A},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var x=I.length-8;x<I.length;++x)I[x]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,x=0;x<4;++x)for(let L=0;L<32;L+=8)I[A++]=this.g[x]>>>L&255;return I};function u(I,A){var x=m;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=A(I)}function f(I,A){this.h=A;const x=[];let L=!0;for(let D=I.length-1;D>=0;D--){const P=I[D]|0;L&&P==A||(x[D]=P,L=!1)}this.g=x}var m={};function p(I){return-128<=I&&I<128?u(I,function(A){return new f([A|0],A<0?-1:0)}):new f([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return E;if(I<0)return Z(_(-I));const A=[];let x=1;for(let L=0;I>=x;L++)A[L]=I/x|0,x*=4294967296;return new f(A,0)}function b(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return Z(b(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=_(Math.pow(A,8));let L=E;for(let P=0;P<I.length;P+=8){var D=Math.min(8,I.length-P);const N=parseInt(I.substring(P,P+D),A);D<8?(D=_(Math.pow(A,D)),L=L.j(D).add(_(N))):(L=L.j(x),L=L.add(_(N)))}return L}var E=p(0),C=p(1),U=p(16777216);s=f.prototype,s.m=function(){if(Q(this))return-Z(this).m();let I=0,A=1;for(let x=0;x<this.g.length;x++){const L=this.i(x);I+=(L>=0?L:4294967296+L)*A,A*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(z(this))return"0";if(Q(this))return"-"+Z(this).toString(I);const A=_(Math.pow(I,6));var x=this;let L="";for(;;){const D=oe(x,A).g;x=$(x,D.j(A));let P=((x.g.length>0?x.g[0]:x.h)>>>0).toString(I);if(x=D,z(x))return P+L;for(;P.length<6;)P="0"+P;L=P+L}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function z(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function Q(I){return I.h==-1}s.l=function(I){return I=$(this,I),Q(I)?-1:z(I)?0:1};function Z(I){const A=I.g.length,x=[];for(let L=0;L<A;L++)x[L]=~I.g[L];return new f(x,~I.h).add(C)}s.abs=function(){return Q(this)?Z(this):this},s.add=function(I){const A=Math.max(this.g.length,I.g.length),x=[];let L=0;for(let D=0;D<=A;D++){let P=L+(this.i(D)&65535)+(I.i(D)&65535),N=(P>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);L=N>>>16,P&=65535,N&=65535,x[D]=N<<16|P}return new f(x,x[x.length-1]&-2147483648?-1:0)};function $(I,A){return I.add(Z(A))}s.j=function(I){if(z(this)||z(I))return E;if(Q(this))return Q(I)?Z(this).j(Z(I)):Z(Z(this).j(I));if(Q(I))return Z(this.j(Z(I)));if(this.l(U)<0&&I.l(U)<0)return _(this.m()*I.m());const A=this.g.length+I.g.length,x=[];for(var L=0;L<2*A;L++)x[L]=0;for(L=0;L<this.g.length;L++)for(let D=0;D<I.g.length;D++){const P=this.i(L)>>>16,N=this.i(L)&65535,st=I.i(D)>>>16,Rt=I.i(D)&65535;x[2*L+2*D]+=N*Rt,ee(x,2*L+2*D),x[2*L+2*D+1]+=P*Rt,ee(x,2*L+2*D+1),x[2*L+2*D+1]+=N*st,ee(x,2*L+2*D+1),x[2*L+2*D+2]+=P*st,ee(x,2*L+2*D+2)}for(I=0;I<A;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=A;I<2*A;I++)x[I]=0;return new f(x,0)};function ee(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function re(I,A){this.g=I,this.h=A}function oe(I,A){if(z(A))throw Error("division by zero");if(z(I))return new re(E,E);if(Q(I))return A=oe(Z(I),A),new re(Z(A.g),Z(A.h));if(Q(A))return A=oe(I,Z(A)),new re(Z(A.g),A.h);if(I.g.length>30){if(Q(I)||Q(A))throw Error("slowDivide_ only works with positive integers.");for(var x=C,L=A;L.l(I)<=0;)x=me(x),L=me(L);var D=ye(x,1),P=ye(L,1);for(L=ye(L,2),x=ye(x,2);!z(L);){var N=P.add(L);N.l(I)<=0&&(D=D.add(x),P=N),L=ye(L,1),x=ye(x,1)}return A=$(I,D.j(A)),new re(D,A)}for(D=E;I.l(A)>=0;){for(x=Math.max(1,Math.floor(I.m()/A.m())),L=Math.ceil(Math.log(x)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),P=_(x),N=P.j(A);Q(N)||N.l(I)>0;)x-=L,P=_(x),N=P.j(A);z(P)&&(P=C),D=D.add(P),I=$(I,N)}return new re(D,I)}s.B=function(I){return oe(this,I).h},s.and=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let L=0;L<A;L++)x[L]=this.i(L)&I.i(L);return new f(x,this.h&I.h)},s.or=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let L=0;L<A;L++)x[L]=this.i(L)|I.i(L);return new f(x,this.h|I.h)},s.xor=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let L=0;L<A;L++)x[L]=this.i(L)^I.i(L);return new f(x,this.h^I.h)};function me(I){const A=I.g.length+1,x=[];for(let L=0;L<A;L++)x[L]=I.i(L)<<1|I.i(L-1)>>>31;return new f(x,I.h)}function ye(I,A){const x=A>>5;A%=32;const L=I.g.length-x,D=[];for(let P=0;P<L;P++)D[P]=A>0?I.i(P+x)>>>A|I.i(P+x+1)<<32-A:I.i(P+x);return new f(D,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=b,Nm=f}).apply(typeof I0<"u"?I0:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var s,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function o(c,g){if(g)e:{var v=r;c=c.split(".");for(var w=0;w<c.length-1;w++){var H=c[w];if(!(H in v))break e;v=v[H]}c=c[c.length-1],w=v[c],g=g(w),g!=w&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],w;for(w in g)Object.prototype.hasOwnProperty.call(g,w)&&v.push([w,g[w]]);return v}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function _(c,g,v){return _=p,_.apply(null,arguments)}function b(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function E(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(w,H,F){for(var ne=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)ne[ve-2]=arguments[ve];return g.prototype[H].apply(w,ne)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function U(c){const g=c.length;if(g>0){const v=Array(g);for(let w=0;w<g;w++)v[w]=c[w];return v}return[]}function z(c,g){for(let w=1;w<arguments.length;w++){const H=arguments[w];var v=typeof H;if(v=v!="object"?v:H?Array.isArray(H)?"array":v:"null",v=="array"||v=="object"&&typeof H.length=="number"){v=c.length||0;const F=H.length||0;c.length=v+F;for(let ne=0;ne<F;ne++)c[v+ne]=H[ne]}else c.push(H)}}class Q{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Z(c){f.setTimeout(()=>{throw c},0)}function $(){var c=I;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ee{constructor(){this.h=this.g=null}add(g,v){const w=re.get();w.set(g,v),this.h?this.h.next=w:this.g=w,this.h=w}}var re=new Q(()=>new oe,c=>c.reset());class oe{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let me,ye=!1,I=new ee,A=()=>{const c=Promise.resolve(void 0);me=()=>{c.then(x)}};function x(){for(var c;c=$();){try{c.h.call(c.g)}catch(v){Z(v)}var g=re;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}ye=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function st(c,g){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}E(st,D),st.prototype.init=function(c,g){const v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Rt="closure_listenable_"+(Math.random()*1e6|0),K=0;function ie(c,g,v,w,H){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!w,this.ha=H,this.key=++K,this.da=this.fa=!1}function he(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,g,v){for(const w in c)g.call(v,c[w],w,c)}function qe(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function k(c){const g={};for(const v in c)g[v]=c[v];return g}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,g){let v,w;for(let H=1;H<arguments.length;H++){w=arguments[H];for(v in w)c[v]=w[v];for(let F=0;F<J.length;F++)v=J[F],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function ae(c){this.src=c,this.g={},this.h=0}ae.prototype.add=function(c,g,v,w,H){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const ne=Ee(c,g,w,H);return ne>-1?(g=c[ne],v||(g.fa=!1)):(g=new ie(g,this.src,F,!!w,H),g.fa=v,c.push(g)),g};function ge(c,g){const v=g.type;if(v in c.g){var w=c.g[v],H=Array.prototype.indexOf.call(w,g,void 0),F;(F=H>=0)&&Array.prototype.splice.call(w,H,1),F&&(he(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ee(c,g,v,w){for(let H=0;H<c.length;++H){const F=c[H];if(!F.da&&F.listener==g&&F.capture==!!v&&F.ha==w)return H}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),It={};function rt(c,g,v,w,H){if(Array.isArray(g)){for(let F=0;F<g.length;F++)rt(c,g[F],v,w,H);return null}return v=Cl(v),c&&c[Rt]?c.J(g,v,m(w)?!!w.capture:!1,H):hr(c,g,v,!1,w,H)}function hr(c,g,v,w,H,F){if(!g)throw Error("Invalid event type");const ne=m(H)?!!H.capture:!!H;let ve=fr(c);if(ve||(c[Me]=ve=new ae(c)),v=ve.add(g,v,w,ne,F),v.proxy)return v;if(w=la(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)P||(H=ne),H===void 0&&(H=!1),c.addEventListener(g.toString(),w,H);else if(c.attachEvent)c.attachEvent(ai(g.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function la(){function c(v){return g.call(c.src,c.listener,v)}const g=Tl;return c}function oa(c,g,v,w,H){if(Array.isArray(g))for(var F=0;F<g.length;F++)oa(c,g[F],v,w,H);else w=m(w)?!!w.capture:!!w,v=Cl(v),c&&c[Rt]?(c=c.i,F=String(g).toString(),F in c.g&&(g=c.g[F],v=Ee(g,v,w,H),v>-1&&(he(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[F],c.h--)))):c&&(c=fr(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ee(g,v,w,H)),(v=c>-1?g[c]:null)&&ua(v))}function ua(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Rt])ge(g.i,c);else{var v=c.type,w=c.proxy;g.removeEventListener?g.removeEventListener(v,w,c.capture):g.detachEvent?g.detachEvent(ai(v),w):g.addListener&&g.removeListener&&g.removeListener(w),(v=fr(g))?(ge(v,c),v.h==0&&(v.src=null,g[Me]=null)):he(c)}}}function ai(c){return c in It?It[c]:It[c]="on"+c}function Tl(c,g){if(c.da)c=!0;else{g=new st(g,this);const v=c.listener,w=c.ha||c.src;c.fa&&ua(c),c=v.call(w,g)}return c}function fr(c){return c=c[Me],c instanceof ae?c:null}var wl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Cl(c){return typeof c=="function"?c:(c[wl]||(c[wl]=function(g){return c.handleEvent(g)}),c[wl])}function _t(){L.call(this),this.i=new ae(this),this.M=this,this.G=null}E(_t,L),_t.prototype[Rt]=!0,_t.prototype.removeEventListener=function(c,g,v,w){oa(this,c,g,v,w)};function Ot(c,g){var v,w=c.G;if(w)for(v=[];w;w=w.G)v.push(w);if(c=c.M,w=g.type||g,typeof g=="string")g=new D(g,c);else if(g instanceof D)g.target=g.target||c;else{var H=g;g=new D(w,c),se(g,H)}H=!0;let F,ne;if(v)for(ne=v.length-1;ne>=0;ne--)F=g.g=v[ne],H=ds(F,w,!0,g)&&H;if(F=g.g=c,H=ds(F,w,!0,g)&&H,H=ds(F,w,!1,g)&&H,v)for(ne=0;ne<v.length;ne++)F=g.g=v[ne],H=ds(F,w,!1,g)&&H}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let w=0;w<v.length;w++)he(v[w]);delete c.g[g],c.h--}}this.G=null},_t.prototype.J=function(c,g,v,w){return this.i.add(String(c),g,!1,v,w)},_t.prototype.K=function(c,g,v,w){return this.i.add(String(c),g,!0,v,w)};function ds(c,g,v,w){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let H=!0;for(let F=0;F<g.length;++F){const ne=g[F];if(ne&&!ne.da&&ne.capture==v){const ve=ne.listener,pt=ne.ha||ne.src;ne.fa&&ge(c.i,ne),H=ve.call(pt,w)!==!1&&H}}return H&&!w.defaultPrevented}function uf(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function Cu(c){c.g=uf(()=>{c.g=null,c.i&&(c.i=!1,Cu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Jt extends L{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Cu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(c){L.call(this),this.h=c,this.g={}}E(dr,L);var Al=[];function xl(c){Ue(c.g,function(g,v){this.g.hasOwnProperty(v)&&ua(g)},c),c.g={}}dr.prototype.N=function(){dr.Z.N.call(this),xl(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ps=f.JSON.stringify,cf=f.JSON.parse,Au=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function xu(){}function hf(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){D.call(this,"d")}E(Ht,D);function An(){D.call(this,"c")}E(An,D);var yt={},Nu=null;function Nl(){return Nu=Nu||new _t}yt.Ia="serverreachability";function Ru(c){D.call(this,yt.Ia,c)}E(Ru,D);function li(c){const g=Nl();Ot(g,new Ru(g))}yt.STAT_EVENT="statevent";function pr(c,g){D.call(this,yt.STAT_EVENT,c),this.stat=g}E(pr,D);function vt(c){const g=Nl();Ot(g,new pr(g,c))}yt.Ja="timingevent";function oi(c,g){D.call(this,yt.Ja,c),this.size=g}E(oi,D);function ui(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Vn(){this.g=!0}Vn.prototype.ua=function(){this.g=!1};function ff(c,g,v,w,H,F){c.info(function(){if(c.g)if(F){var ne="",ve=F.split("&");for(let Ge=0;Ge<ve.length;Ge++){var pt=ve[Ge].split("=");if(pt.length>1){const ot=pt[0];pt=pt[1];const Qt=ot.split("_");ne=Qt.length>=2&&Qt[1]=="type"?ne+(ot+"="+pt+"&"):ne+(ot+"=redacted&")}}}else ne=null;else ne=F;return"XMLHTTP REQ ("+w+") [attempt "+H+"]: "+g+`
`+v+`
`+ne})}function Iu(c,g,v,w,H,F,ne){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+H+"]: "+g+`
`+v+`
`+F+" "+ne})}function ci(c,g,v,w){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+df(c,v)+(w?" "+w:"")})}function mr(c,g){c.info(function(){return"TIMEOUT: "+g})}Vn.prototype.info=function(){};function df(c,g){if(!c.g)return g;if(!g)return null;try{const F=JSON.parse(g);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var v=F[c];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var H=w[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ne=1;ne<w.length;ne++)w[ne]=""}}}}return ps(F)}catch{return g}}var ca={NO_ERROR:0,TIMEOUT:8},Ou={},Rl;function gr(){}E(gr,xu),gr.prototype.g=function(){return new XMLHttpRequest},Rl=new gr;function Li(c){return encodeURIComponent(String(c))}function Du(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function qn(c,g,v,w){this.j=c,this.i=g,this.l=v,this.S=w||1,this.V=new dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var St={},Lt={};function hi(c,g,v){c.M=1,c.A=_r(bt(g)),c.u=v,c.R=!0,ha(c,null)}function ha(c,g){c.F=Date.now(),fi(c),c.B=bt(c.A);var v=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),ma(v.i,"t",w),c.C=0,v=c.j.L,c.h=new Fn,c.g=Ku(c.j,v?g:null,!c.u),c.P>0&&(c.O=new Jt(_(c.Y,c,c.g),c.P)),g=c.V,v=c.g,w=c.ba;var H="readystatechange";Array.isArray(H)||(H&&(Al[0]=H.toString()),H=Al);for(let F=0;F<H.length;F++){const ne=rt(v,H[F],w||g.handleEvent,!1,g.h||g);if(!ne)break;g.g[ne.key]=ne}g=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),li(),ff(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Kn(c)==3?g.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{const ve=Kn(this.g),pt=this.g.ya(),Ge=this.g.ca();if(!(ve<3)&&(ve!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||ve!=4||pt==7||(pt==8||Ge<=0?li(3):li(2)),di(this);var g=this.g.ca();this.X=g;var v=pf(this);if(this.o=g==200,Iu(this.i,this.v,this.B,this.l,this.S,ve,g),this.o){if(this.U&&!this.L){t:{if(this.g){var w,H=this.g;if((w=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(w)){var F=w;break t}}F=null}if(c=F)ci(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,c);else{this.o=!1,this.m=3,vt(12),mn(this),xn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=ku(this,v),ot==Lt){ve==4&&(this.m=4,vt(14),c=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==St){this.m=4,vt(15),ci(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ci(this.i,this.l,ot,null),pi(this,ot);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||v.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)ci(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),xn(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Fl(ne),ne.P=!0,vt(11))}}else ci(this.i,this.l,v,null),pi(this,v);ve==4&&mn(this),this.o&&!this.K&&(ve==4?qu(this.j,this):(this.o=!1,fi(this)))}else Ui(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),mn(this),xn(this)}}}catch{}};function pf(c){if(!Mu(c))return c.g.la();const g=Bt(c.g);if(g==="")return"";let v="";const w=g.length,H=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),xn(c),"";c.h.i=new f.TextDecoder}for(let F=0;F<w;F++)c.h.h=!0,v+=c.h.i.decode(g[F],{stream:!(H&&F==w-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function Mu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ku(c,g){var v=c.C,w=g.indexOf(`
`,v);return w==-1?Lt:(v=Number(g.substring(v,w)),isNaN(v)?St:(w+=1,w+v>g.length?Lt:(g=g.slice(w,w+v),c.C=w+v,g)))}qn.prototype.cancel=function(){this.K=!0,mn(this)};function fi(c){c.T=Date.now()+c.H,fa(c,c.H)}function fa(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ui(_(c.aa,c),g)}function di(c){c.D&&(f.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(mr(this.i,this.B),this.M!=2&&(li(),vt(17)),mn(this),this.m=2,xn(this)):fa(this,this.T-c)};function xn(c){c.j.I==0||c.K||qu(c.j,c)}function mn(c){di(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,xl(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function pi(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||gi(v.h,c))){if(!c.L&&gi(v.h,c)&&v.I==3){try{var w=v.Ba.g.parse(g)}catch{w=null}if(Array.isArray(w)&&w.length==3){var H=w;if(H[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Sa(v),bs(v);else break e;wr(v),vt(18)}}else v.xa=H[1],0<v.xa-v.K&&H[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ui(_(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else bi(v,11)}else if((c.L||v.g==c)&&Sa(v),!N(g))for(H=v.Ba.g.parse(g),g=0;g<H.length;g++){let Ge=H[g];const ot=Ge[0];if(!(ot<=v.K))if(v.K=ot,Ge=Ge[1],v.I==2)if(Ge[0]=="c"){v.M=Ge[1],v.ba=Ge[2];const Qt=Ge[3];Qt!=null&&(v.ka=Qt,v.j.info("VER="+v.ka));const Pi=Ge[4];Pi!=null&&(v.za=Pi,v.j.info("SVER="+v.za));const Xn=Ge[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(w=1.5*Xn,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Qn=c.g;if(Qn){const Cr=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cr){var F=w.h;F.g||Cr.indexOf("spdy")==-1&&Cr.indexOf("quic")==-1&&Cr.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Dl(F,F.h),F.h=null))}if(w.G){const Ea=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(w.wa=Ea,Fe(w.J,w.G,Ea))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var ne=c;if(w.na=Yu(w,w.L?w.ba:null,w.W),ne.L){Ml(w.h,ne);var ve=ne,pt=w.O;pt&&(ve.H=pt),ve.D&&(di(ve),fi(ve)),w.g=ne}else Bu(w);v.i.length>0&&Ei(v)}else Ge[0]!="stop"&&Ge[0]!="close"||bi(v,7);else v.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?bi(v,7):Vl(v):Ge[0]!="noop"&&v.l&&v.l.qa(Ge),v.A=0)}}li(4)}catch{}}var Et=class{constructor(c,g){this.g=c,this.map=g}};function Il(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ol(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function gi(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Dl(c,g){c.g?c.g.add(g):c.h=g}function Ml(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Il.prototype.cancel=function(){if(this.i=kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function kl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return U(c.i)}var Lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function da(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const w=c[v].indexOf("=");let H,F=null;w>=0?(H=c[v].substring(0,w),F=c[v].substring(w+1)):H=c[v],g(H,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof gn?(this.l=c.l,jt(this,c.j),this.o=c.o,this.g=c.g,ms(this,c.u),this.h=c.h,Ll(this,zu(c.i)),this.m=c.m):c&&(g=String(c).match(Lu))?(this.l=!1,jt(this,g[1]||"",!0),this.o=_i(g[2]||""),this.g=_i(g[3]||"",!0),ms(this,g[4]),this.h=_i(g[5]||"",!0),Ll(this,g[6]||"",!0),this.m=_i(g[7]||"")):(this.l=!1,this.i=new _s(null,this.l))}gn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(yr(g,pa,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(yr(g,pa,!0),"@"),c.push(Li(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(yr(v,v.charAt(0)=="/"?jl:ju,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",yr(v,Uu)),c.join("")},gn.prototype.resolve=function(c){const g=bt(this);let v=!!c.j;v?jt(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var w=c.h;if(v)ms(g,c.u);else if(v=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var H=g.h.lastIndexOf("/");H!=-1&&(w=g.h.slice(0,H+1)+w)}if(H=w,H==".."||H==".")w="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){w=H.lastIndexOf("/",0)==0,H=H.split("/");const F=[];for(let ne=0;ne<H.length;){const ve=H[ne++];ve=="."?w&&ne==H.length&&F.push(""):ve==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),w&&ne==H.length&&F.push("")):(F.push(ve),w=!0)}w=F.join("/")}else w=H}return v?g.h=w:v=c.i.toString()!=="",v?Ll(g,zu(c.i)):v=!!c.m,v&&(g.m=c.m),g};function bt(c){return new gn(c)}function jt(c,g,v){c.j=v?_i(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ms(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Ll(c,g,v){g instanceof _s?(c.i=g,ga(c.i,c.l)):(v||(g=yr(g,gs)),c.i=new _s(g,c.l))}function Fe(c,g,v){c.i.set(g,v)}function _r(c){return Fe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function _i(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function yr(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,an),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var pa=/[#\/\?@]/g,ju=/[#\?:]/g,jl=/[#\?]/g,gs=/[#\?@]/g,Uu=/#/g;function _s(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&da(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}s=_s.prototype,s.add=function(c,g){ln(this),this.i=null,c=ys(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Pu(c,g){ln(c),g=ys(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ul(c,g){return ln(c),g=ys(c,g),c.g.has(g)}s.forEach=function(c,g){ln(this),this.g.forEach(function(v,w){v.forEach(function(H){c.call(g,H,w,this)},this)},this)};function Pl(c,g){ln(c);let v=[];if(typeof g=="string")Ul(c,g)&&(v=v.concat(c.g.get(ys(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}s.set=function(c,g){return ln(this),this.i=null,c=ys(this,c),Ul(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},s.get=function(c,g){return c?(c=Pl(this,c),c.length>0?String(c[0]):g):g};function ma(c,g,v){Pu(c,g),v.length>0&&(c.i=null,c.g.set(ys(c,g),U(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let w=0;w<g.length;w++){var v=g[w];const H=Li(v);v=Pl(this,v);for(let F=0;F<v.length;F++){let ne=H;v[F]!==""&&(ne+="="+Li(v[F])),c.push(ne)}}return this.i=c.join("&")};function zu(c){const g=new _s;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function ys(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ga(c,g){g&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,w){const H=w.toLowerCase();w!=H&&(Pu(this,w),ma(this,H,v))},c)),c.j=g}function Gn(c,g){const v=new Vn;if(f.Image){const w=new Image;w.onload=b(Nn,v,"TestLoadImage: loaded",!0,g,w),w.onerror=b(Nn,v,"TestLoadImage: error",!1,g,w),w.onabort=b(Nn,v,"TestLoadImage: abort",!1,g,w),w.ontimeout=b(Nn,v,"TestLoadImage: timeout",!1,g,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else g(!1)}function zl(c,g){const v=new Vn,w=new AbortController,H=setTimeout(()=>{w.abort(),Nn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:w.signal}).then(F=>{clearTimeout(H),F.ok?Nn(v,"TestPingServer: ok",!0,g):Nn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(H),Nn(v,"TestPingServer: error",!1,g)})}function Nn(c,g,v,w,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),w(v)}catch{}}function vs(){this.g=new Au}function yi(c){this.i=c.Sb||null,this.h=c.ab||!1}E(yi,xu),yi.prototype.g=function(){return new vr(this.i,this.h)};function vr(c,g){_t.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(vr,_t),s=vr.prototype,s.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Yn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_a(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function _a(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Ss(this):Yn(this),this.readyState==3&&_a(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Ss(this))},s.Na=function(c){this.g&&(this.response=c,Ss(this))},s.ga=function(){this.g&&Ss(this)};function Ss(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Yn(c)}s.setRequestHeader=function(c,g){this.A.append(c,g)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Rn(c){let g="";return Ue(c,function(v,w){g+=w,g+=":",g+=v,g+=`\r
`}),g}function Sr(c,g,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=Rn(v),typeof c=="string"?v!=null&&Li(v):Fe(c,g,v))}function Ze(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Ze,_t);var vi=/^https?$/i,Hl=["POST","PUT"];s=Ze.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,g,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rl.g(),this.g.onreadystatechange=C(_(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(F){Er(this,F);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var H in w)v.set(H,w[H]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const F of w.keys())v.set(F,w.get(F));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),H=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Hl,g,void 0)>=0)||w||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ne]of v)this.g.setRequestHeader(F,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){Er(this,F)}};function Er(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Bl(c),ji(c)}function Bl(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),ji(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),Ze.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?br(this):this.Xa())},s.Xa=function(){br(this)};function br(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var w;if(w=F===0){let ne=String(c.D).match(Lu)[1]||null;!ne&&f.self&&f.self.location&&(ne=f.self.location.protocol.slice(0,-1)),w=!vi.test(ne?ne.toLowerCase():"")}v=w}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var H=Kn(c)>2?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.ca()+"]",Bl(c)}}finally{ji(c)}}}}function ji(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),cf(g)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(c){const g={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(N(c[w]))continue;var v=Du(c[w]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=g[H]||[];g[H]=F,F.push(v)}qe(g,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Es(c){this.za=0,this.i=[],this.j=new Vn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,c),this.Za=Si("retryDelaySeedMs",1e4,c),this.Ta=Si("forwardChannelMaxRetries",2,c),this.va=Si("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Il(c&&c.concurrentRequestLimit),this.Ba=new vs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Es.prototype,s.ka=8,s.I=1,s.connect=function(c,g,v,w){vt(0),this.W=c,this.H=g||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=Yu(this,null,this.W),Ei(this)};function Vl(c){if(ya(c),c.I==3){var g=c.V++,v=bt(c.J);if(Fe(v,"SID",c.M),Fe(v,"RID",g),Fe(v,"TYPE","terminate"),Tr(c,v),g=new qn(c,c.j,g),g.M=2,g.A=_r(bt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=Ku(g.j,null),g.g.ea(g.A)),g.F=Date.now(),fi(g)}Gu(c)}function bs(c){c.g&&(Fl(c),c.g.cancel(),c.g=null)}function ya(c){bs(c),c.v&&(f.clearTimeout(c.v),c.v=null),Sa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ei(c){if(!Ol(c.h)&&!c.m){c.m=!0;var g=c.Ea;me||A(),ye||(me(),ye=!0),I.add(g,c),c.D=0}}function va(c,g){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ui(_(c.Ea,c,g),Fu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const H=new qn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=k(F),se(F,this.U)):F=this.U),this.u!==null||this.R||(H.J=F,F=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(g+=w,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Hu(this,H,g),v=bt(this.J),Fe(v,"RID",c),Fe(v,"CVER",22),this.G&&Fe(v,"X-HTTP-Session-Id",this.G),Tr(this,v),F&&(this.R?g="headers="+Li(Rn(F))+"&"+g:this.u&&Sr(v,this.u,F)),Dl(this.h,H),this.Ra&&Fe(v,"TYPE","init"),this.S?(Fe(v,"$req",g),Fe(v,"SID","null"),H.U=!0,hi(H,v,null)):hi(H,v,g),this.I=2}}else this.I==3&&(c?ql(this,c):this.i.length==0||Ol(this.h)||ql(this))};function ql(c,g){var v;g?v=g.l:v=c.V++;const w=bt(c.J);Fe(w,"SID",c.M),Fe(w,"RID",v),Fe(w,"AID",c.K),Tr(c,w),c.u&&c.o&&Sr(w,c.u,c.o),v=new qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Hu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Dl(c.h,v),hi(v,w,g)}function Tr(c,g){c.H&&Ue(c.H,function(v,w){Fe(g,w,v)}),c.l&&Ue({},function(v,w){Fe(g,w,v)})}function Hu(c,g,v){v=Math.min(c.i.length,v);const w=c.l?_(c.l.Ka,c.l,c):null;e:{var H=c.i;let ve=-1;for(;;){const pt=["count="+v];ve==-1?v>0?(ve=H[0].g,pt.push("ofs="+ve)):ve=0:pt.push("ofs="+ve);let Ge=!0;for(let ot=0;ot<v;ot++){var F=H[ot].g;const Qt=H[ot].map;if(F-=ve,F<0)ve=Math.max(0,H[ot].g-100),Ge=!1;else try{F="req"+F+"_"||"";try{var ne=Qt instanceof Map?Qt:Object.entries(Qt);for(const[Pi,Xn]of ne){let Qn=Xn;m(Xn)&&(Qn=ps(Xn)),pt.push(F+Pi+"="+encodeURIComponent(Qn))}}catch(Pi){throw pt.push(F+"type="+encodeURIComponent("_badmap")),Pi}}catch{w&&w(Qt)}}if(Ge){ne=pt.join("&");break e}}ne=void 0}return c=c.i.splice(0,v),g.G=c,ne}function Bu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;me||A(),ye||(me(),ye=!0),I.add(g,c),c.A=0}}function wr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ui(_(c.Da,c),Fu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ui(_(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),bs(this),Vu(this))};function Fl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Vu(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=bt(c.na);Fe(g,"RID","rpc"),Fe(g,"SID",c.M),Fe(g,"AID",c.K),Fe(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Fe(g,"TO",c.ia),Fe(g,"TYPE","xmlhttp"),Tr(c,g),c.u&&c.o&&Sr(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=_r(bt(g)),v.u=null,v.R=!0,ha(v,c)}s.Va=function(){this.C!=null&&(this.C=null,bs(this),wr(this),vt(19))};function Sa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function qu(c,g){var v=null;if(c.g==g){Sa(c),Fl(c),c.g=null;var w=2}else if(gi(c.h,g))v=g.G,Ml(c.h,g),w=1;else return;if(c.I!=0){if(g.o)if(w==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var H=c.D;w=Nl(),Ot(w,new oi(w,v)),Ei(c)}else Bu(c);else if(H=g.m,H==3||H==0&&g.X>0||!(w==1&&va(c,g)||w==2&&wr(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),H){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function Fu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function bi(c,g){if(c.j.info("Error code "+g),g==2){var v=_(c.bb,c),w=c.Ua;const H=!w;w=new gn(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||jt(w,"https"),_r(w),H?Gn(w.toString(),v):zl(w.toString(),v)}else vt(2);c.I=0,c.l&&c.l.pa(g),Gu(c),ya(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Gu(c){if(c.I=0,c.ja=[],c.l){const g=kl(c.h);(g.length!=0||c.i.length!=0)&&(z(c.ja,g),z(c.ja,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.oa()}}function Yu(c,g,v){var w=v instanceof gn?bt(v):new gn(v);if(w.g!="")g&&(w.g=g+"."+w.g),ms(w,w.u);else{var H=f.location;w=H.protocol,g=g?g+"."+H.hostname:H.hostname,H=+H.port;const F=new gn(null);w&&jt(F,w),g&&(F.g=g),H&&ms(F,H),v&&(F.h=v),w=F}return v=c.G,g=c.wa,v&&g&&Fe(w,v,g),Fe(w,"VER",c.ka),Tr(c,w),w}function Ku(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Ze(new yi({ab:v})):new Ze(c.ma),g.Fa(c.L),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xu(){}s=Xu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Xt(c,g){_t.call(this),this.g=new Es(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!N(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!N(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Ts(this)}E(Xt,_t),Xt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){Vl(this.g)},Xt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ps(c),c=v);g.i.push(new Et(g.Ya++,c)),g.I==3&&Ei(g)},Xt.prototype.N=function(){this.g.l=null,delete this.j,Vl(this.g),delete this.g,Xt.Z.N.call(this)};function Qu(c){Ht.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}E(Qu,Ht);function Wu(){An.call(this),this.status=1}E(Wu,An);function Ts(c){this.g=c}E(Ts,Xu),Ts.prototype.ra=function(){Ot(this.g,"a")},Ts.prototype.qa=function(c){Ot(this.g,new Qu(c))},Ts.prototype.pa=function(c){Ot(this.g,new Wu)},Ts.prototype.oa=function(){Ot(this.g,"b")},Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,ca.NO_ERROR=0,ca.TIMEOUT=8,ca.HTTP_ERROR=6,Ou.COMPLETE="complete",hf.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const O0="@firebase/firestore",D0="4.9.3";class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let _u="12.7.0";const ll=new Fh("@firebase/firestore");function ni(s,...e){if(ll.logLevel<=Ve.DEBUG){const i=e.map(Rm);ll.debug(`Firestore (${_u}): ${s}`,...i)}}function FE(s,...e){if(ll.logLevel<=Ve.ERROR){const i=e.map(Rm);ll.error(`Firestore (${_u}): ${s}`,...i)}}function TR(s,...e){if(ll.logLevel<=Ve.WARN){const i=e.map(Rm);ll.warn(`Firestore (${_u}): ${s}`,...i)}}function Rm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function $o(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,GE(s,r,i)}function GE(s,e,i){let r=`FIRESTORE (${_u}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw FE(r),new Error(r)}function zo(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||GE(e,o,r)}const Le={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class je extends hs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ho{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class YE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(en.UNAUTHENTICATED)))}shutdown(){}}class CR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class AR{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){zo(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let u=new Ho;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ho,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ni("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ni("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ho)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ni("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(zo(typeof r.accessToken=="string",31837,{l:r}),new YE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return zo(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class xR{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class NR{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new xR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class M0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){zo(this.o===void 0,3512);const r=u=>{u.error!=null&&ni("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ni("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{ni("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ni("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new M0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(zo(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new M0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function IR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class OR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=IR(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=e.charAt(o[u]%62))}return r}}function sr(s,e){return s<e?-1:s>e?1:0}function DR(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),u=e.charAt(r);if(o!==u)return wp(o)===wp(u)?sr(o,u):wp(o)?1:-1}return sr(s.length,e.length)}const MR=55296,kR=57343;function wp(s){const e=s.charCodeAt(0);return e>=MR&&e<=kR}const k0="__name__";class xi{constructor(e,i,r){i===void 0?i=0:i>e.length&&$o(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&$o(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const u=xi.compareSegments(e.get(o),i.get(o));if(u!==0)return u}return sr(e.length,i.length)}static compareSegments(e,i){const r=xi.isNumericId(e),o=xi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?xi.extractNumericId(e).compare(xi.extractNumericId(i)):DR(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nm.fromString(e.substring(4,e.length-2))}}class $n extends xi{construct(e,i,r){return new $n(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(Le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new $n(i)}static emptyPath(){return new $n([])}}const LR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qr extends xi{construct(e,i,r){return new qr(e,i,r)}static isValidIdentifier(e){return LR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k0}static keyField(){return new qr([k0])}static fromServerFormat(e){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new je(Le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new je(Le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new je(Le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(u(),o++)}if(u(),f)throw new je(Le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qr(i)}static emptyPath(){return new qr([])}}class Fr{constructor(e){this.path=e}static fromPath(e){return new Fr($n.fromString(e))}static fromName(e){return new Fr($n.fromString(e).popFirst(5))}static empty(){return new Fr($n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$n.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return $n.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fr(new $n(e.slice()))}}function jR(s,e,i,r){if(e===!0&&r===!0)throw new je(Le.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function UR(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function PR(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":$o(12329,{type:typeof s})}function zR(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new je(Le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=PR(s);throw new je(Le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Nt(s,e){const i={typeString:s};return e&&(i.value=e),i}function yu(s,e){if(!UR(s))throw new je(Le.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new je(Le.INVALID_ARGUMENT,i);return!0}const L0=-62135596800,j0=1e6;class Ni{static now(){return Ni.fromMillis(Date.now())}static fromDate(e){return Ni.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*j0);return new Ni(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new je(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new je(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<L0)throw new je(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j0}_compareTo(e){return this.seconds===e.seconds?sr(this.nanoseconds,e.nanoseconds):sr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ni._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yu(e,Ni._jsonSchema))return new Ni(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-L0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ni._jsonSchemaVersion="firestore/timestamp/1.0",Ni._jsonSchema={type:Nt("string",Ni._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};function HR(s){return s.name==="IndexedDbTransactionError"}class BR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jr{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new BR("Invalid base64 string: "+u):u}})(e);return new Jr(i)}static fromUint8Array(e){const i=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Jr(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jr.EMPTY_BYTE_STRING=new Jr("");const Gp="(default)";class wh{constructor(e,i){this.projectId=e,this.database=i||Gp}static empty(){return new wh("","")}get isDefaultDatabase(){return this.database===Gp}isEqual(e){return e instanceof wh&&e.projectId===this.projectId&&e.database===this.database}}class VR{constructor(e,i=null,r=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qR(s){return new VR(s)}var U0,ke;(ke=U0||(U0={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";new Nm([4294967295,4294967295],0);const FR=41943040;const GR=1048576;function Cp(){return typeof document<"u"?document:null}class YR{constructor(e,i,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ni("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}class Im{constructor(e,i,r,o,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Ho,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,u){const f=Date.now()+r,m=new Im(e,i,f,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(Le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var P0,z0;(z0=P0||(P0={})).Ma="default",z0.Cache="cache";function KR(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const H0=new Map;const KE="firestore.googleapis.com",B0=!0;class V0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new je(Le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KE,this.ssl=B0}else this.host=e.host,this.ssl=e.ssl??B0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GR)throw new je(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new je(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new je(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new je(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class XE{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new je(Le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new je(Le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new wR;switch(r.type){case"firstParty":return new NR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new je(Le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=H0.get(i);r&&(ni("ComponentProvider","Removing Datastore"),H0.delete(i),r.terminate())})(this),Promise.resolve()}}function XR(s,e,i,r={}){s=zR(s,XE);const o=na(e),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${i}`;o&&(mm(`https://${m}`),gm("Firestore",!0)),u.host!==KE&&u.host!==m&&TR("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!nr(p,f)&&(s._setSettings(p),r.mockUserToken)){let _,b;if(typeof r.mockUserToken=="string")_=r.mockUserToken,b=en.MOCK_USER;else{_=tE(r.mockUserToken,s._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new je(Le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new en(E)}s._authCredentials=new CR(new YE(_,b))}}class Om{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Om(this.firestore,e,this._query)}}class Ri{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ri(this.firestore,e,this._key)}toJSON(){return{type:Ri._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(yu(i,Ri._jsonSchema))return new Ri(e,r||null,new Fr($n.fromString(i.referencePath)))}}Ri._jsonSchemaVersion="firestore/documentReference/1.0",Ri._jsonSchema={type:Nt("string",Ri._jsonSchemaVersion),referencePath:Nt("string")};class Dm extends Om{constructor(e,i,r){super(e,i,qR(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ri(this.firestore,null,new Fr(e))}withConverter(e){return new Dm(this.firestore,e,this._path)}}const q0="AsyncQueue";class F0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YR(this,"async_queue_retry"),this._c=()=>{const r=Cp();r&&ni(q0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Cp();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Cp();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ho;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!HR(e))throw e;ni(q0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,FE("INTERNAL UNHANDLED ERROR: ",G0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Im.createAndSchedule(this,e,i,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&$o(47125,{Pc:G0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function G0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class QR extends XE{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new F0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F0(e),this._firestoreClient=void 0,await e}}}function WR(s,e){const i=typeof s=="object"?s:vm(),r=typeof s=="string"?s:Gp,o=Gh(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=ZS("firestore");u&&XR(o,...u)}return o}class es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new es(Jr.fromBase64String(e))}catch(i){throw new je(Le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new es(Jr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:es._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yu(e,es._jsonSchema))return es.fromBase64String(e.bytes)}}es._jsonSchemaVersion="firestore/bytes/1.0",es._jsonSchema={type:Nt("string",es._jsonSchemaVersion),bytes:Nt("string")};class QE{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new je(Le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yr{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new je(Le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new je(Le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return sr(this._lat,e._lat)||sr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yr._jsonSchemaVersion}}static fromJSON(e){if(yu(e,Yr._jsonSchema))return new Yr(e.latitude,e.longitude)}}Yr._jsonSchemaVersion="firestore/geoPoint/1.0",Yr._jsonSchema={type:Nt("string",Yr._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class Kr{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Kr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yu(e,Kr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Kr(e.vectorValues);throw new je(Le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Kr._jsonSchemaVersion="firestore/vectorValue/1.0",Kr._jsonSchema={type:Nt("string",Kr._jsonSchemaVersion),vectorValues:Nt("object")};const JR=new RegExp("[~\\*/\\[\\]]");function ZR(s,e,i){if(e.search(JR)>=0)throw Y0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s);try{return new QE(...e.split("."))._internalPath}catch{throw Y0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s)}}function Y0(s,e,i,r,o){let u=`Function ${e}() called with invalid data`;u+=". ";let f="";return new je(Le.INVALID_ARGUMENT,u+s+f)}class WE{constructor(e,i,r,o,u){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ri(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $R(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(JE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class $R extends WE{data(){return super.data()}}function JE(s,e){return typeof e=="string"?ZR(s,e):e instanceof QE?e._internalPath:e._delegate._internalPath}class ih{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class il extends WE{constructor(e,i,r,o,u,f){super(e,i,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(JE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new je(Le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=il._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}il._jsonSchemaVersion="firestore/documentSnapshot/1.0",il._jsonSchema={type:Nt("string",il._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class fh extends il{data(e={}){return super.data(e)}}class Bo{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ih(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new fh(this._firestore,this._userDataWriter,r.key,r,new ih(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new je(Le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ih(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ih(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,b=-1;return m.type!==0&&(_=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:e2(m.type),doc:p,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new je(Le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Bo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=OR.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function e2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $o(61501,{type:s})}}Bo._jsonSchemaVersion="firestore/querySnapshot/1.0",Bo._jsonSchema={type:Nt("string",Bo._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};(function(e,i=!0){(function(o){_u=o})(ia),Xr(new ir("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new QR(new AR(r.getProvider("auth-internal")),new RR(f,r.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new je(Le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wh(_.options.projectId,b)})(f,o),f);return u={useFetchStreams:i,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ii(O0,D0,e),Ii(O0,D0,"esm2020")})();var K0={};const X0="@firebase/database",Q0="1.1.0";let ZE="";function t2(s){ZE=s}class n2{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),kt(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:Xo(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class i2{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return ki(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const $E=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const e=window[s];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new n2(e)}}catch{}return new i2},Gr=$E("localStorage"),s2=$E("sessionStorage");const sl=new Fh("@firebase/database"),r2=(function(){let s=1;return function(){return s++}})(),eb=function(s){const e=$C(s),i=new QC;i.update(e);const r=i.digest();return dm.encodeByteArray(r)},vu=function(...s){let e="";for(let i=0;i<s.length;i++){const r=s[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=vu.apply(null,r):typeof r=="object"?e+=kt(r):e+=r,e+=" "}return e};let Vo=null,W0=!0;const a2=function(s,e){te(!0,"Can't turn on custom loggers persistently."),sl.logLevel=Ve.VERBOSE,Vo=sl.log.bind(sl)},Yt=function(...s){if(W0===!0&&(W0=!1,Vo===null&&s2.get("logging_enabled")===!0&&a2()),Vo){const e=vu.apply(null,s);Vo(e)}},Su=function(s){return function(...e){Yt(s,...e)}},Yp=function(...s){const e="FIREBASE INTERNAL ERROR: "+vu(...s);sl.error(e)},cs=function(...s){const e=`FIREBASE FATAL ERROR: ${vu(...s)}`;throw sl.error(e),new Error(e)},nn=function(...s){const e="FIREBASE WARNING: "+vu(...s);sl.warn(e)},l2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&nn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Mm=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},o2=function(s){if(document.readyState==="complete")s();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},ol="[MIN_NAME]",Zr="[MAX_NAME]",ra=function(s,e){if(s===e)return 0;if(s===ol||e===Zr)return-1;if(e===ol||s===Zr)return 1;{const i=J0(s),r=J0(e);return i!==null?r!==null?i-r===0?s.length-e.length:i-r:-1:r!==null?1:s<e?-1:1}},u2=function(s,e){return s===e?0:s<e?-1:1},Oo=function(s,e){if(e&&s in e)return e[s];throw new Error("Missing required key ("+s+") in object: "+kt(e))},km=function(s){if(typeof s!="object"||s===null)return kt(s);const e=[];for(const r in s)e.push(r);e.sort();let i="{";for(let r=0;r<e.length;r++)r!==0&&(i+=","),i+=kt(e[r]),i+=":",i+=km(s[e[r]]);return i+="}",i},tb=function(s,e){const i=s.length;if(i<=e)return[s];const r=[];for(let o=0;o<i;o+=e)o+e>i?r.push(s.substring(o,i)):r.push(s.substring(o,o+e));return r};function Kt(s,e){for(const i in s)s.hasOwnProperty(i)&&e(i,s[i])}const nb=function(s){te(!Mm(s),"Invalid JSON number");const e=11,i=52,r=(1<<e-1)-1;let o,u,f,m,p;s===0?(u=0,f=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-r)?(m=Math.min(Math.floor(Math.log(s)/Math.LN2),r),u=m+r,f=Math.round(s*Math.pow(2,i-m)-Math.pow(2,i))):(u=0,f=Math.round(s/Math.pow(2,1-r-i))));const _=[];for(p=i;p;p-=1)_.push(f%2?1:0),f=Math.floor(f/2);for(p=e;p;p-=1)_.push(u%2?1:0),u=Math.floor(u/2);_.push(o?1:0),_.reverse();const b=_.join("");let E="";for(p=0;p<64;p+=8){let C=parseInt(b.substr(p,8),2).toString(16);C.length===1&&(C="0"+C),E=E+C}return E.toLowerCase()},c2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},h2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function f2(s,e){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const r=new Error(s+" at "+e._path.toString()+": "+i);return r.code=s.toUpperCase(),r}const d2=new RegExp("^-?(0*)\\d{1,10}$"),p2=-2147483648,m2=2147483647,J0=function(s){if(d2.test(s)){const e=Number(s);if(e>=p2&&e<=m2)return e}return null},Sl=function(s){try{s()}catch(e){setTimeout(()=>{const i=e.stack||"";throw nn("Exception was thrown by user callback.",i),e},Math.floor(0))}},g2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},qo=function(s,e){const i=setTimeout(s,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};class _2{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,wn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){nn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class y2{constructor(e,i,r){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(Yt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nn(e)}}class dh{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}dh.OWNER="owner";const Lm="5",ib="v",sb="s",rb="r",ab="f",lb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ob="ls",ub="p",Kp="ac",cb="websocket",hb="long_polling";class fb{constructor(e,i,r,o,u=!1,f="",m=!1,p=!1,_=null){this.secure=i,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=p,this.emulatorOptions=_,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Gr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Gr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function v2(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function db(s,e,i){te(typeof e=="string","typeof type must == string"),te(typeof i=="object","typeof params must == object");let r;if(e===cb)r=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(e===hb)r=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);v2(s)&&(i.ns=s.namespace);const o=[];return Kt(i,(u,f)=>{o.push(u+"="+f)}),r+o.join("&")}class S2{constructor(){this.counters_={}}incrementCounter(e,i=1){ki(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return IC(this.counters_)}}const Ap={},xp={};function jm(s){const e=s.toString();return Ap[e]||(Ap[e]=new S2),Ap[e]}function E2(s,e){const i=s.toString();return xp[i]||(xp[i]=e()),xp[i]}class b2{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&Sl(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Z0="start",T2="close",w2="pLPCommand",C2="pRTLPCB",pb="id",mb="pw",gb="ser",A2="cb",x2="seg",N2="ts",R2="d",I2="dframe",_b=1870,yb=30,O2=_b-yb,D2=25e3,M2=3e4;class $a{constructor(e,i,r,o,u,f,m){this.connId=e,this.repoInfo=i,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=f,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Su(e),this.stats_=jm(i),this.urlFn=p=>(this.appCheckToken&&(p[Kp]=this.appCheckToken),db(i,hb,p))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new b2(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(M2)),o2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Um((...u)=>{const[f,m,p,_,b]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Z0)this.id=m,this.password=p;else if(f===T2)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,m]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,m)},()=>{this.onClosed_()},this.urlFn);const r={};r[Z0]="t",r[gb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[A2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[ib]=Lm,this.transportSessionId&&(r[sb]=this.transportSessionId),this.lastSessionId&&(r[ob]=this.lastSessionId),this.applicationId&&(r[ub]=this.applicationId),this.appCheckToken&&(r[Kp]=this.appCheckToken),typeof location<"u"&&location.hostname&&lb.test(location.hostname)&&(r[rb]=ab);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){$a.forceAllow_=!0}static forceDisallow(){$a.forceDisallow_=!0}static isAvailable(){return $a.forceAllow_?!0:!$a.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!c2()&&!h2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=kt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=QS(i),o=tb(r,O2);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[I2]="t",r[pb]=e,r[mb]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=kt(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Um{constructor(e,i,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=r2(),window[w2+this.uniqueCallbackIdentifier]=e,window[C2+this.uniqueCallbackIdentifier]=i,this.myIFrame=Um.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(m){Yt("frame writing exception"),m.stack&&Yt(m.stack),Yt(m)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Yt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[pb]=this.myID,e[mb]=this.myPW,e[gb]=this.currentSerial;let i=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+yb+r.length<=_b;){const f=this.pendingSegs.shift();r=r+"&"+x2+o+"="+f.seg+"&"+N2+o+"="+f.ts+"&"+R2+o+"="+f.d,o++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,r){this.pendingSegs.push({seg:e,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(r,Math.floor(D2)),u=()=>{clearTimeout(o),r()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{Yt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}const k2=16384,L2=45e3;let Ch=null;typeof MozWebSocket<"u"?Ch=MozWebSocket:typeof WebSocket<"u"&&(Ch=WebSocket);class ei{constructor(e,i,r,o,u,f,m){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Su(this.connId),this.stats_=jm(i),this.connURL=ei.connectionURL_(i,f,m,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,u){const f={};return f[ib]=Lm,typeof location<"u"&&location.hostname&&lb.test(location.hostname)&&(f[rb]=ab),i&&(f[sb]=i),r&&(f[ob]=r),o&&(f[Kp]=o),u&&(f[ub]=u),db(e,cb,f)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Gr.set("previous_websocket_failure",!0);try{let r;BC(),this.mySock=new Ch(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){ei.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ch!==null&&!ei.forceDisallow_}static previouslyFailed(){return Gr.isInMemoryStorage||Gr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Gr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Xo(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(te(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=kt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=tb(i,k2);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(L2))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ei.responsesRequiredToBeHealthy=2;ei.healthyTimeout=3e4;class eu{static get ALL_TRANSPORTS(){return[$a,ei]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=ei&&ei.isAvailable();let r=i&&!ei.previouslyFailed();if(e.webSocketOnly&&(i||nn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ei];else{const o=this.transports_=[];for(const u of eu.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);eu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}eu.globalTransportInitialized_=!1;const j2=6e4,U2=5e3,P2=10*1024,z2=100*1024,Np="t",$0="d",H2="s",eS="r",B2="e",tS="o",nS="a",iS="n",sS="p",V2="h";class q2{constructor(e,i,r,o,u,f,m,p,_,b){this.id=e,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=f,this.onReady_=m,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Su("c:"+this.id+":"),this.transportManager_=new eu(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=qo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>z2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>P2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Np in e){const i=e[Np];i===nS?this.upgradeIfSecondaryHealthy_():i===eS?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===tS&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=Oo("t",e),r=Oo("d",e);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:sS,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:nS,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:iS,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=Oo("t",e),r=Oo("d",e);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=Oo(Np,e);if($0 in e){const r=e[$0];if(i===V2){const o={...r};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===iS){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===H2?this.onConnectionShutdown_(r):i===eS?this.onReset_(r):i===B2?Yp("Server Error: "+r):i===tS?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Yp("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Lm!==r&&nn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),qo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(j2))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(U2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:sS,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Gr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class vb{put(e,i,r,o){}merge(e,i,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,r){}onDisconnectMerge(e,i,r){}onDisconnectCancel(e,i){}reportStats(e){}}class Sb{constructor(e){this.allowedEvents_=e,this.listeners_={},te(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,i)}}on(e,i,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:r});const o=this.getInitialEvent(e);o&&i.apply(r,o)}off(e,i,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!r||r===o[u].context)){o.splice(u,1);return}}validateEventType_(e){te(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}class Ah extends Sb{static getInstance(){return new Ah}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!_m()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return te(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const rS=32,aS=768;class Je{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function He(){return new Je("")}function Te(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function rr(s){return s.pieces_.length-s.pieceNum_}function tt(s){let e=s.pieceNum_;return e<s.pieces_.length&&e++,new Je(s.pieces_,e)}function Pm(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function F2(s){let e="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(s.pieces_[i])));return e||"/"}function tu(s,e=0){return s.pieces_.slice(s.pieceNum_+e)}function Eb(s){if(s.pieceNum_>=s.pieces_.length)return null;const e=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)e.push(s.pieces_[i]);return new Je(e,0)}function ht(s,e){const i=[];for(let r=s.pieceNum_;r<s.pieces_.length;r++)i.push(s.pieces_[r]);if(e instanceof Je)for(let r=e.pieceNum_;r<e.pieces_.length;r++)i.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&i.push(r[o])}return new Je(i,0)}function xe(s){return s.pieceNum_>=s.pieces_.length}function tn(s,e){const i=Te(s),r=Te(e);if(i===null)return e;if(i===r)return tn(tt(s),tt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+s+")")}function G2(s,e){const i=tu(s,0),r=tu(e,0);for(let o=0;o<i.length&&o<r.length;o++){const u=ra(i[o],r[o]);if(u!==0)return u}return i.length===r.length?0:i.length<r.length?-1:1}function zm(s,e){if(rr(s)!==rr(e))return!1;for(let i=s.pieceNum_,r=e.pieceNum_;i<=s.pieces_.length;i++,r++)if(s.pieces_[i]!==e.pieces_[r])return!1;return!0}function Pn(s,e){let i=s.pieceNum_,r=e.pieceNum_;if(rr(s)>rr(e))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==e.pieces_[r])return!1;++i,++r}return!0}class Y2{constructor(e,i){this.errorPrefix_=i,this.parts_=tu(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=qh(this.parts_[r]);bb(this)}}function K2(s,e){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(e),s.byteLength_+=qh(e),bb(s)}function X2(s){const e=s.parts_.pop();s.byteLength_-=qh(e),s.parts_.length>0&&(s.byteLength_-=1)}function bb(s){if(s.byteLength_>aS)throw new Error(s.errorPrefix_+"has a key path longer than "+aS+" bytes ("+s.byteLength_+").");if(s.parts_.length>rS)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+rS+") or object contains a cycle "+Vr(s))}function Vr(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}class Hm extends Sb{static getInstance(){return new Hm}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return te(e==="visible","Unknown event type: "+e),[this.visible_]}}const Do=1e3,Q2=300*1e3,lS=30*1e3,W2=1.3,J2=3e4,Z2="server_kill",oS=3;class as extends vb{constructor(e,i,r,o,u,f,m,p){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=m,this.authOverride_=p,this.id=as.nextPersistentConnectionId_++,this.log_=Su("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Do,this.maxReconnectDelay_=Q2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Hm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ah.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,u={r:o,a:e,b:i};this.log_(kt(u)),te(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new hu,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const m=f.d;f.s==="ok"?i.resolve(m):i.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,r,o){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),te(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(f).set(u,m),this.connected_&&this.sendListen_(m)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r},f="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,m=>{const p=m.d,_=m.s;as.warnOnListenWarnings_(p,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",m),_!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(_,p))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&ki(e,"w")){const r=al(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();nn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||XC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=lS)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=KC(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const u=o.s,f=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const u={p:e},f="n";o&&(u.q=r,u.t=o),this.sendRequest(f,u)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const u={p:i,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,u){this.initConnection_();const f={p:i,d:r};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+kt(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):Yp("Unrecognized action received from server: "+kt(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){te(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Do,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Do,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>J2&&(this.reconnectDelay_=Do),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*W2)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+as.nextConnectionId_++,u=this.lastSessionId;let f=!1,m=null;const p=function(){m?m.close():(f=!0,r())},_=function(E){te(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(E)};this.realtime_={close:p,sendRequest:_};const b=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[E,C]=await Promise.all([this.authTokenProvider_.getToken(b),this.appCheckTokenProvider_.getToken(b)]);f?Yt("getToken() completed but was canceled"):(Yt("getToken() completed. Creating connection."),this.authToken_=E&&E.accessToken,this.appCheckToken_=C&&C.token,m=new q2(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,r,U=>{nn(U+" ("+this.repoInfo_.toString()+")"),this.interrupt(Z2)},u))}catch(E){this.log_("Failed to get token: "+E),f||(this.repoInfo_.nodeAdmin&&nn(E),p())}}}interrupt(e){Yt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Yt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Lp(this.interruptReasons_)&&(this.reconnectDelay_=Do,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;i?r=i.map(u=>km(u)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Je(e).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){Yt("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=oS&&(this.reconnectDelay_=lS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Yt("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=oS&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+ZE.replace(/\./g,"-")]=1,_m()?e["framework.cordova"]=1:nE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ah.getInstance().currentlyOnline();return Lp(this.interruptReasons_)&&e}}as.nextPersistentConnectionId_=0;as.nextConnectionId_=0;class we{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new we(e,i)}}class Qh{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const r=new we(ol,e),o=new we(ol,i);return this.compare(r,o)!==0}minPost(){return we.MIN}}let sh;class Tb extends Qh{static get __EMPTY_NODE(){return sh}static set __EMPTY_NODE(e){sh=e}compare(e,i){return ra(e.name,i.name)}isDefinedOn(e){throw _l("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return we.MIN}maxPost(){return new we(Zr,sh)}makePost(e,i){return te(typeof e=="string","KeyIndex indexValue must always be a string."),new we(e,sh)}toString(){return".key"}}const rl=new Tb;class rh{constructor(e,i,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=i?r(e.key,i):1,o&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class zt{constructor(e,i,r,o,u){this.key=e,this.value=i,this.color=r??zt.RED,this.left=o??pn.EMPTY_NODE,this.right=u??pn.EMPTY_NODE}copy(e,i,r,o,u){return new zt(e??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const u=r(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,i,r),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return pn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(e,r.key)===0){if(r.right.isEmpty())return pn.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}zt.RED=!0;zt.BLACK=!1;class $2{copy(e,i,r,o,u){return this}insert(e,i,r){return new zt(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class pn{constructor(e,i=pn.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new pn(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,zt.BLACK,null,null))}remove(e){return new pn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,zt.BLACK,null,null))}get(e){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(e,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(e){let i,r=this.root_,o=null;for(;!r.isEmpty();)if(i=this.comparator_(e,r.key),i===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new rh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new rh(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new rh(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new rh(this.root_,null,this.comparator_,!0,e)}}pn.EMPTY_NODE=new $2;function eI(s,e){return ra(s.name,e.name)}function Bm(s,e){return ra(s,e)}let Xp;function tI(s){Xp=s}const wb=function(s){return typeof s=="number"?"number:"+nb(s):"string:"+s},Cb=function(s){if(s.isLeafNode()){const e=s.val();te(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ki(e,".sv"),"Priority must be a string or number.")}else te(s===Xp||s.isEmpty(),"priority of unexpected type.");te(s===Xp||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let uS;class Pt{static set __childrenNodeConstructor(e){uS=e}static get __childrenNodeConstructor(){return uS}constructor(e,i=Pt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,te(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Cb(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Pt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Pt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xe(e)?this:Te(e)===".priority"?this.priorityNode_:Pt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:Pt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Te(e);return r===null?i:i.isEmpty()&&r!==".priority"?this:(te(r!==".priority"||rr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Pt.__childrenNodeConstructor.EMPTY_NODE.updateChild(tt(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+wb(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=nb(this.value_):e+=this.value_,this.lazyHash_=eb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Pt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Pt.__childrenNodeConstructor?-1:(te(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=Pt.VALUE_TYPE_ORDER.indexOf(i),u=Pt.VALUE_TYPE_ORDER.indexOf(r);return te(o>=0,"Unknown leaf type: "+i),te(u>=0,"Unknown leaf type: "+r),o===u?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}Pt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let Ab,xb;function nI(s){Ab=s}function iI(s){xb=s}class sI extends Qh{compare(e,i){const r=e.node.getPriority(),o=i.node.getPriority(),u=r.compareTo(o);return u===0?ra(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return we.MIN}maxPost(){return new we(Zr,new Pt("[PRIORITY-POST]",xb))}makePost(e,i){const r=Ab(e);return new we(i,new Pt("[PRIORITY-POST]",r))}toString(){return".priority"}}const ft=new sI;const rI=Math.log(2);class aI{constructor(e){const i=u=>parseInt(Math.log(u)/rI,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const xh=function(s,e,i,r){s.sort(e);const o=function(p,_){const b=_-p;let E,C;if(b===0)return null;if(b===1)return E=s[p],C=i?i(E):E,new zt(C,E.node,zt.BLACK,null,null);{const U=parseInt(b/2,10)+p,z=o(p,U),Q=o(U+1,_);return E=s[U],C=i?i(E):E,new zt(C,E.node,zt.BLACK,z,Q)}},u=function(p){let _=null,b=null,E=s.length;const C=function(z,Q){const Z=E-z,$=E;E-=z;const ee=o(Z+1,$),re=s[Z],oe=i?i(re):re;U(new zt(oe,re.node,Q,null,ee))},U=function(z){_?(_.left=z,_=z):(b=z,_=z)};for(let z=0;z<p.count;++z){const Q=p.nextBitIsOne(),Z=Math.pow(2,p.count-(z+1));Q?C(Z,zt.BLACK):(C(Z,zt.BLACK),C(Z,zt.RED))}return b},f=new aI(s.length),m=u(f);return new pn(r||e,m)};let Rp;const Ja={};class is{static get Default(){return te(Ja&&ft,"ChildrenNode.ts has not been loaded"),Rp=Rp||new is({".priority":Ja},{".priority":ft}),Rp}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=al(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof pn?i:null}hasIndex(e){return ki(this.indexSet_,e.toString())}addIndex(e,i){te(e!==rl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=i.getIterator(we.Wrap);let f=u.getNext();for(;f;)o=o||e.isDefinedOn(f.node),r.push(f),f=u.getNext();let m;o?m=xh(r,e.getCompare()):m=Ja;const p=e.toString(),_={...this.indexSet_};_[p]=e;const b={...this.indexes_};return b[p]=m,new is(b,_)}addToIndexes(e,i){const r=_h(this.indexes_,(o,u)=>{const f=al(this.indexSet_,u);if(te(f,"Missing index implementation for "+u),o===Ja)if(f.isDefinedOn(e.node)){const m=[],p=i.getIterator(we.Wrap);let _=p.getNext();for(;_;)_.name!==e.name&&m.push(_),_=p.getNext();return m.push(e),xh(m,f.getCompare())}else return Ja;else{const m=i.get(e.name);let p=o;return m&&(p=p.remove(new we(e.name,m))),p.insert(e,e.node)}});return new is(r,this.indexSet_)}removeFromIndexes(e,i){const r=_h(this.indexes_,o=>{if(o===Ja)return o;{const u=i.get(e.name);return u?o.remove(new we(e.name,u)):o}});return new is(r,this.indexSet_)}}let Mo;class pe{static get EMPTY_NODE(){return Mo||(Mo=new pe(new pn(Bm),null,is.Default))}constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Cb(this.priorityNode_),this.children_.isEmpty()&&te(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Mo}updatePriority(e){return this.children_.isEmpty()?this:new pe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?Mo:i}}getChild(e){const i=Te(e);return i===null?this:this.getImmediateChild(i).getChild(tt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(te(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const r=new we(e,i);let o,u;i.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(r,this.children_));const f=o.isEmpty()?Mo:this.priorityNode_;return new pe(o,f,u)}}updateChild(e,i){const r=Te(e);if(r===null)return i;{te(Te(e)!==".priority"||rr(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(tt(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,u=!0;if(this.forEachChild(ft,(f,m)=>{i[f]=m.val(e),r++,u&&pe.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):u=!1}),!e&&u&&o<2*r){const f=[];for(const m in i)f[m]=i[m];return f}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+wb(this.getPriority().val())+":"),this.forEachChild(ft,(i,r)=>{const o=r.hash();o!==""&&(e+=":"+i+":"+o)}),this.lazyHash_=e===""?"":eb(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new we(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new we(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new we(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,we.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,we.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Eu?-1:0}withIndex(e){if(e===rl||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new pe(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===rl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(ft),o=i.getIterator(ft);let u=r.getNext(),f=o.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=r.getNext(),f=o.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===rl?null:this.indexMap_.get(e.toString())}}pe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class lI extends pe{constructor(){super(new pn(Bm),pe.EMPTY_NODE,is.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return pe.EMPTY_NODE}isEmpty(){return!1}}const Eu=new lI;Object.defineProperties(we,{MIN:{value:new we(ol,pe.EMPTY_NODE)},MAX:{value:new we(Zr,Eu)}});Tb.__EMPTY_NODE=pe.EMPTY_NODE;Pt.__childrenNodeConstructor=pe;tI(Eu);iI(Eu);const oI=!0;function Mt(s,e=null){if(s===null)return pe.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(e=s[".priority"]),te(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new Pt(i,Mt(e))}if(!(s instanceof Array)&&oI){const i=[];let r=!1;if(Kt(s,(f,m)=>{if(f.substring(0,1)!=="."){const p=Mt(m);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),i.push(new we(f,p)))}}),i.length===0)return pe.EMPTY_NODE;const u=xh(i,eI,f=>f.name,Bm);if(r){const f=xh(i,ft.getCompare());return new pe(u,Mt(e),new is({".priority":f},{".priority":ft}))}else return new pe(u,Mt(e),is.Default)}else{let i=pe.EMPTY_NODE;return Kt(s,(r,o)=>{if(ki(s,r)&&r.substring(0,1)!=="."){const u=Mt(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(r,u))}}),i.updatePriority(Mt(e))}}nI(Mt);class uI extends Qh{constructor(e){super(),this.indexPath_=e,te(!xe(e)&&Te(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const r=this.extractChild(e.node),o=this.extractChild(i.node),u=r.compareTo(o);return u===0?ra(e.name,i.name):u}makePost(e,i){const r=Mt(e),o=pe.EMPTY_NODE.updateChild(this.indexPath_,r);return new we(i,o)}maxPost(){const e=pe.EMPTY_NODE.updateChild(this.indexPath_,Eu);return new we(Zr,e)}toString(){return tu(this.indexPath_,0).join("/")}}class cI extends Qh{compare(e,i){const r=e.node.compareTo(i.node);return r===0?ra(e.name,i.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return we.MIN}maxPost(){return we.MAX}makePost(e,i){const r=Mt(e);return new we(i,r)}toString(){return".value"}}const hI=new cI;function Nb(s){return{type:"value",snapshotNode:s}}function ul(s,e){return{type:"child_added",snapshotNode:e,childName:s}}function nu(s,e){return{type:"child_removed",snapshotNode:e,childName:s}}function iu(s,e,i){return{type:"child_changed",snapshotNode:e,childName:s,oldSnap:i}}function fI(s,e){return{type:"child_moved",snapshotNode:e,childName:s}}class Vm{constructor(e){this.index_=e}updateChild(e,i,r,o,u,f){te(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=e.getImmediateChild(i);return m.getChild(o).equals(r.getChild(o))&&m.isEmpty()===r.isEmpty()||(f!=null&&(r.isEmpty()?e.hasChild(i)?f.trackChildChange(nu(i,m)):te(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?f.trackChildChange(ul(i,r)):f.trackChildChange(iu(i,r,m))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(i,r).withIndex(this.index_)}updateFullNode(e,i,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ft,(o,u)=>{i.hasChild(o)||r.trackChildChange(nu(o,u))}),i.isLeafNode()||i.forEachChild(ft,(o,u)=>{if(e.hasChild(o)){const f=e.getImmediateChild(o);f.equals(u)||r.trackChildChange(iu(o,u,f))}else r.trackChildChange(ul(o,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?pe.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class su{constructor(e){this.indexedFilter_=new Vm(e.getIndex()),this.index_=e.getIndex(),this.startPost_=su.getStartPost_(e),this.endPost_=su.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&r}updateChild(e,i,r,o,u,f){return this.matches(new we(i,r))||(r=pe.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,r,o,u,f)}updateFullNode(e,i,r){i.isLeafNode()&&(i=pe.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(pe.EMPTY_NODE);const u=this;return i.forEachChild(ft,(f,m)=>{u.matches(new we(f,m))||(o=o.updateImmediateChild(f,pe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}class dI{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=i=>{const r=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new su(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,r,o,u,f){return this.rangedFilter_.matches(new we(i,r))||(r=pe.EMPTY_NODE),e.getImmediateChild(i).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,r,o,u,f):this.fullLimitUpdateChild_(e,i,r,u,f)}updateFullNode(e,i,r){let o;if(i.isLeafNode()||i.isEmpty())o=pe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=pe.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const m=u.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),f++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(pe.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let f=0;for(;u.hasNext();){const m=u.getNext();f<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?f++:o=o.updateImmediateChild(m.name,pe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,r,o,u){let f;if(this.reverse_){const E=this.index_.getCompare();f=(C,U)=>E(U,C)}else f=this.index_.getCompare();const m=e;te(m.numChildren()===this.limit_,"");const p=new we(i,r),_=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),b=this.rangedFilter_.matches(p);if(m.hasChild(i)){const E=m.getImmediateChild(i);let C=o.getChildAfterChild(this.index_,_,this.reverse_);for(;C!=null&&(C.name===i||m.hasChild(C.name));)C=o.getChildAfterChild(this.index_,C,this.reverse_);const U=C==null?1:f(C,p);if(b&&!r.isEmpty()&&U>=0)return u?.trackChildChange(iu(i,r,E)),m.updateImmediateChild(i,r);{u?.trackChildChange(nu(i,E));const Q=m.updateImmediateChild(i,pe.EMPTY_NODE);return C!=null&&this.rangedFilter_.matches(C)?(u?.trackChildChange(ul(C.name,C.node)),Q.updateImmediateChild(C.name,C.node)):Q}}else return r.isEmpty()?e:b&&f(_,p)>=0?(u!=null&&(u.trackChildChange(nu(_.name,_.node)),u.trackChildChange(ul(i,r))),m.updateImmediateChild(i,r).updateImmediateChild(_.name,pe.EMPTY_NODE)):e}}class qm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ft}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return te(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return te(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ol}hasEnd(){return this.endSet_}getIndexEndValue(){return te(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return te(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return te(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ft}copy(){const e=new qm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function pI(s){return s.loadsAllData()?new Vm(s.getIndex()):s.hasLimit()?new dI(s):new su(s)}function cS(s){const e={};if(s.isDefault())return e;let i;if(s.index_===ft?i="$priority":s.index_===hI?i="$value":s.index_===rl?i="$key":(te(s.index_ instanceof uI,"Unrecognized index type!"),i=s.index_.toString()),e.orderBy=kt(i),s.startSet_){const r=s.startAfterSet_?"startAfter":"startAt";e[r]=kt(s.indexStartValue_),s.startNameSet_&&(e[r]+=","+kt(s.indexStartName_))}if(s.endSet_){const r=s.endBeforeSet_?"endBefore":"endAt";e[r]=kt(s.indexEndValue_),s.endNameSet_&&(e[r]+=","+kt(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?e.limitToFirst=s.limit_:e.limitToLast=s.limit_),e}function hS(s){const e={};if(s.startSet_&&(e.sp=s.indexStartValue_,s.startNameSet_&&(e.sn=s.indexStartName_),e.sin=!s.startAfterSet_),s.endSet_&&(e.ep=s.indexEndValue_,s.endNameSet_&&(e.en=s.indexEndName_),e.ein=!s.endBeforeSet_),s.limitSet_){e.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),e.vf=i}return s.index_!==ft&&(e.i=s.index_.toString()),e}class Nh extends vb{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(te(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Su("p:rest:"),this.listens_={}}listen(e,i,r,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=Nh.getListenId_(e,r),m={};this.listens_[f]=m;const p=cS(e._queryParams);this.restRequest_(u+".json",p,(_,b)=>{let E=b;if(_===404&&(E=null,_=null),_===null&&this.onDataUpdate_(u,E,!1,r),al(this.listens_,f)===m){let C;_?_===401?C="permission_denied":C="rest_error:"+_:C="ok",o(C,null)}})}unlisten(e,i){const r=Nh.getListenId_(e,i);delete this.listens_[r]}get(e){const i=cS(e._queryParams),r=e._path.toString(),o=new hu;return this.restRequest_(r+".json",i,(u,f)=>{let m=f;u===404&&(m=null,u=null),u===null?(this.onDataUpdate_(r,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(e){}restRequest_(e,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+yl(i);this.log_("Sending REST request for "+f);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(r&&m.readyState===4){this.log_("REST Response for "+f+" received. status:",m.status,"response:",m.responseText);let p=null;if(m.status>=200&&m.status<300){try{p=Xo(m.responseText)}catch{nn("Failed to parse JSON response for "+f+": "+m.responseText)}r(null,p)}else m.status!==401&&m.status!==404&&nn("Got unsuccessful REST response for "+f+" Status: "+m.status),r(m.status);r=null}},m.open("GET",f,!0),m.send()})}}class mI{constructor(){this.rootNode_=pe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}function Rh(){return{value:null,children:new Map}}function Rb(s,e,i){if(xe(e))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(e,i);else{const r=Te(e);s.children.has(r)||s.children.set(r,Rh());const o=s.children.get(r);e=tt(e),Rb(o,e,i)}}function Qp(s,e,i){s.value!==null?i(e,s.value):gI(s,(r,o)=>{const u=new Je(e.toString()+"/"+r);Qp(o,u,i)})}function gI(s,e){s.children.forEach((i,r)=>{e(r,i)})}class _I{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i={...e};return this.last_&&Kt(this.last_,(r,o)=>{i[r]=i[r]-o}),this.last_=e,i}}const fS=10*1e3,yI=30*1e3,vI=300*1e3;class SI{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new _I(e);const r=fS+(yI-fS)*Math.random();qo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),i={};let r=!1;Kt(e,(o,u)=>{u>0&&ki(this.statsToReport_,o)&&(i[o]=u,r=!0)}),r&&this.server_.reportStats(i),qo(this.reportStats_.bind(this),Math.floor(Math.random()*2*vI))}}var ii;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ii||(ii={}));function Fm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Gm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ym(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}class Ih{constructor(e,i,r){this.path=e,this.affectedTree=i,this.revert=r,this.type=ii.ACK_USER_WRITE,this.source=Fm()}operationForChild(e){if(xe(this.path)){if(this.affectedTree.value!=null)return te(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Je(e));return new Ih(He(),i,this.revert)}}else return te(Te(this.path)===e,"operationForChild called for unrelated child."),new Ih(tt(this.path),this.affectedTree,this.revert)}}class ru{constructor(e,i){this.source=e,this.path=i,this.type=ii.LISTEN_COMPLETE}operationForChild(e){return xe(this.path)?new ru(this.source,He()):new ru(this.source,tt(this.path))}}class $r{constructor(e,i,r){this.source=e,this.path=i,this.snap=r,this.type=ii.OVERWRITE}operationForChild(e){return xe(this.path)?new $r(this.source,He(),this.snap.getImmediateChild(e)):new $r(this.source,tt(this.path),this.snap)}}class cl{constructor(e,i,r){this.source=e,this.path=i,this.children=r,this.type=ii.MERGE}operationForChild(e){if(xe(this.path)){const i=this.children.subtree(new Je(e));return i.isEmpty()?null:i.value?new $r(this.source,He(),i.value):new cl(this.source,He(),i)}else return te(Te(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new cl(this.source,tt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ar{constructor(e,i,r){this.node_=e,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(xe(e))return this.isFullyInitialized()&&!this.filtered_;const i=Te(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class EI{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function bI(s,e,i,r){const o=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&s.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(fI(f.childName,f.snapshotNode))}),ko(s,o,"child_removed",e,r,i),ko(s,o,"child_added",e,r,i),ko(s,o,"child_moved",u,r,i),ko(s,o,"child_changed",e,r,i),ko(s,o,"value",e,r,i),o}function ko(s,e,i,r,o,u){const f=r.filter(m=>m.type===i);f.sort((m,p)=>wI(s,m,p)),f.forEach(m=>{const p=TI(s,m,u);o.forEach(_=>{_.respondsTo(m.type)&&e.push(_.createEvent(p,s.query_))})})}function TI(s,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,s.index_)),e}function wI(s,e,i){if(e.childName==null||i.childName==null)throw _l("Should only compare child_ events.");const r=new we(e.childName,e.snapshotNode),o=new we(i.childName,i.snapshotNode);return s.index_.compare(r,o)}function Wh(s,e){return{eventCache:s,serverCache:e}}function Fo(s,e,i,r){return Wh(new ar(e,i,r),s.serverCache)}function Ib(s,e,i,r){return Wh(s.eventCache,new ar(e,i,r))}function Oh(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function ea(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}let Ip;const CI=()=>(Ip||(Ip=new pn(u2)),Ip);class et{static fromObject(e){let i=new et(null);return Kt(e,(r,o)=>{i=i.set(new Je(r),o)}),i}constructor(e,i=CI()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:He(),value:this.value};if(xe(e))return null;{const r=Te(e),o=this.children.get(r);if(o!==null){const u=o.findRootMostMatchingPathAndValue(tt(e),i);return u!=null?{path:ht(new Je(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(xe(e))return this;{const i=Te(e),r=this.children.get(i);return r!==null?r.subtree(tt(e)):new et(null)}}set(e,i){if(xe(e))return new et(i,this.children);{const r=Te(e),u=(this.children.get(r)||new et(null)).set(tt(e),i),f=this.children.insert(r,u);return new et(this.value,f)}}remove(e){if(xe(e))return this.children.isEmpty()?new et(null):new et(null,this.children);{const i=Te(e),r=this.children.get(i);if(r){const o=r.remove(tt(e));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new et(null):new et(this.value,u)}else return this}}get(e){if(xe(e))return this.value;{const i=Te(e),r=this.children.get(i);return r?r.get(tt(e)):null}}setTree(e,i){if(xe(e))return i;{const r=Te(e),u=(this.children.get(r)||new et(null)).setTree(tt(e),i);let f;return u.isEmpty()?f=this.children.remove(r):f=this.children.insert(r,u),new et(this.value,f)}}fold(e){return this.fold_(He(),e)}fold_(e,i){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(ht(e,o),i)}),i(e,this.value,r)}findOnPath(e,i){return this.findOnPath_(e,He(),i)}findOnPath_(e,i,r){const o=this.value?r(i,this.value):!1;if(o)return o;if(xe(e))return null;{const u=Te(e),f=this.children.get(u);return f?f.findOnPath_(tt(e),ht(i,u),r):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,He(),i)}foreachOnPath_(e,i,r){if(xe(e))return this;{this.value&&r(i,this.value);const o=Te(e),u=this.children.get(o);return u?u.foreachOnPath_(tt(e),ht(i,o),r):new et(null)}}foreach(e){this.foreach_(He(),e)}foreach_(e,i){this.children.inorderTraversal((r,o)=>{o.foreach_(ht(e,r),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,r)=>{r.value&&e(i,r.value)})}}class si{constructor(e){this.writeTree_=e}static empty(){return new si(new et(null))}}function Go(s,e,i){if(xe(e))return new si(new et(i));{const r=s.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let u=r.value;const f=tn(o,e);return u=u.updateChild(f,i),new si(s.writeTree_.set(o,u))}else{const o=new et(i),u=s.writeTree_.setTree(e,o);return new si(u)}}}function Wp(s,e,i){let r=s;return Kt(i,(o,u)=>{r=Go(r,ht(e,o),u)}),r}function dS(s,e){if(xe(e))return si.empty();{const i=s.writeTree_.setTree(e,new et(null));return new si(i)}}function Jp(s,e){return aa(s,e)!=null}function aa(s,e){const i=s.writeTree_.findRootMostValueAndPath(e);return i!=null?s.writeTree_.get(i.path).getChild(tn(i.path,e)):null}function pS(s){const e=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(ft,(r,o)=>{e.push(new we(r,o))}):s.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new we(r,o.value))}),e}function er(s,e){if(xe(e))return s;{const i=aa(s,e);return i!=null?new si(new et(i)):new si(s.writeTree_.subtree(e))}}function Zp(s){return s.writeTree_.isEmpty()}function hl(s,e){return Ob(He(),s.writeTree_,e)}function Ob(s,e,i){if(e.value!=null)return i.updateChild(s,e.value);{let r=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(te(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):i=Ob(ht(s,o),u,i)}),!i.getChild(s).isEmpty()&&r!==null&&(i=i.updateChild(ht(s,".priority"),r)),i}}function Jh(s,e){return Lb(e,s)}function AI(s,e,i,r,o){te(r>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:e,snap:i,writeId:r,visible:o}),o&&(s.visibleWrites=Go(s.visibleWrites,e,i)),s.lastWriteId=r}function xI(s,e,i,r){te(r>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:e,children:i,writeId:r,visible:!0}),s.visibleWrites=Wp(s.visibleWrites,e,i),s.lastWriteId=r}function NI(s,e){for(let i=0;i<s.allWrites.length;i++){const r=s.allWrites[i];if(r.writeId===e)return r}return null}function RI(s,e){const i=s.allWrites.findIndex(m=>m.writeId===e);te(i>=0,"removeWrite called with nonexistent writeId.");const r=s.allWrites[i];s.allWrites.splice(i,1);let o=r.visible,u=!1,f=s.allWrites.length-1;for(;o&&f>=0;){const m=s.allWrites[f];m.visible&&(f>=i&&II(m,r.path)?o=!1:Pn(r.path,m.path)&&(u=!0)),f--}if(o){if(u)return OI(s),!0;if(r.snap)s.visibleWrites=dS(s.visibleWrites,r.path);else{const m=r.children;Kt(m,p=>{s.visibleWrites=dS(s.visibleWrites,ht(r.path,p))})}return!0}else return!1}function II(s,e){if(s.snap)return Pn(s.path,e);for(const i in s.children)if(s.children.hasOwnProperty(i)&&Pn(ht(s.path,i),e))return!0;return!1}function OI(s){s.visibleWrites=Db(s.allWrites,DI,He()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function DI(s){return s.visible}function Db(s,e,i){let r=si.empty();for(let o=0;o<s.length;++o){const u=s[o];if(e(u)){const f=u.path;let m;if(u.snap)Pn(i,f)?(m=tn(i,f),r=Go(r,m,u.snap)):Pn(f,i)&&(m=tn(f,i),r=Go(r,He(),u.snap.getChild(m)));else if(u.children){if(Pn(i,f))m=tn(i,f),r=Wp(r,m,u.children);else if(Pn(f,i))if(m=tn(f,i),xe(m))r=Wp(r,He(),u.children);else{const p=al(u.children,Te(m));if(p){const _=p.getChild(tt(m));r=Go(r,He(),_)}}}else throw _l("WriteRecord should have .snap or .children")}}return r}function Mb(s,e,i,r,o){if(!r&&!o){const u=aa(s.visibleWrites,e);if(u!=null)return u;{const f=er(s.visibleWrites,e);if(Zp(f))return i;if(i==null&&!Jp(f,He()))return null;{const m=i||pe.EMPTY_NODE;return hl(f,m)}}}else{const u=er(s.visibleWrites,e);if(!o&&Zp(u))return i;if(!o&&i==null&&!Jp(u,He()))return null;{const f=function(_){return(_.visible||o)&&(!r||!~r.indexOf(_.writeId))&&(Pn(_.path,e)||Pn(e,_.path))},m=Db(s.allWrites,f,e),p=i||pe.EMPTY_NODE;return hl(m,p)}}}function MI(s,e,i){let r=pe.EMPTY_NODE;const o=aa(s.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(ft,(u,f)=>{r=r.updateImmediateChild(u,f)}),r;if(i){const u=er(s.visibleWrites,e);return i.forEachChild(ft,(f,m)=>{const p=hl(er(u,new Je(f)),m);r=r.updateImmediateChild(f,p)}),pS(u).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}else{const u=er(s.visibleWrites,e);return pS(u).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}}function kI(s,e,i,r,o){te(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=ht(e,i);if(Jp(s.visibleWrites,u))return null;{const f=er(s.visibleWrites,u);return Zp(f)?o.getChild(i):hl(f,o.getChild(i))}}function LI(s,e,i,r){const o=ht(e,i),u=aa(s.visibleWrites,o);if(u!=null)return u;if(r.isCompleteForChild(i)){const f=er(s.visibleWrites,o);return hl(f,r.getNode().getImmediateChild(i))}else return null}function jI(s,e){return aa(s.visibleWrites,e)}function UI(s,e,i,r,o,u,f){let m;const p=er(s.visibleWrites,e),_=aa(p,He());if(_!=null)m=_;else if(i!=null)m=hl(p,i);else return[];if(m=m.withIndex(f),!m.isEmpty()&&!m.isLeafNode()){const b=[],E=f.getCompare(),C=u?m.getReverseIteratorFrom(r,f):m.getIteratorFrom(r,f);let U=C.getNext();for(;U&&b.length<o;)E(U,r)!==0&&b.push(U),U=C.getNext();return b}else return[]}function PI(){return{visibleWrites:si.empty(),allWrites:[],lastWriteId:-1}}function Dh(s,e,i,r){return Mb(s.writeTree,s.treePath,e,i,r)}function Km(s,e){return MI(s.writeTree,s.treePath,e)}function mS(s,e,i,r){return kI(s.writeTree,s.treePath,e,i,r)}function Mh(s,e){return jI(s.writeTree,ht(s.treePath,e))}function zI(s,e,i,r,o,u){return UI(s.writeTree,s.treePath,e,i,r,o,u)}function Xm(s,e,i){return LI(s.writeTree,s.treePath,e,i)}function kb(s,e){return Lb(ht(s.treePath,e),s.writeTree)}function Lb(s,e){return{treePath:s,writeTree:e}}class HI{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,r=e.childName;te(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),te(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(r,iu(r,e.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(r,nu(r,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(r,ul(r,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(r,iu(r,e.snapshotNode,o.oldSnap));else throw _l("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}class BI{getCompleteChild(e){return null}getChildAfterChild(e,i,r){return null}}const jb=new BI;class Qm{constructor(e,i,r=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ar(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Xm(this.writes_,e,r)}}getChildAfterChild(e,i,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ea(this.viewCache_),u=zI(this.writes_,o,i,1,r,e);return u.length===0?null:u[0]}}function VI(s){return{filter:s}}function qI(s,e){te(e.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),te(e.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function FI(s,e,i,r,o){const u=new HI;let f,m;if(i.type===ii.OVERWRITE){const _=i;_.source.fromUser?f=$p(s,e,_.path,_.snap,r,o,u):(te(_.source.fromServer,"Unknown source."),m=_.source.tagged||e.serverCache.isFiltered()&&!xe(_.path),f=kh(s,e,_.path,_.snap,r,o,m,u))}else if(i.type===ii.MERGE){const _=i;_.source.fromUser?f=YI(s,e,_.path,_.children,r,o,u):(te(_.source.fromServer,"Unknown source."),m=_.source.tagged||e.serverCache.isFiltered(),f=em(s,e,_.path,_.children,r,o,m,u))}else if(i.type===ii.ACK_USER_WRITE){const _=i;_.revert?f=QI(s,e,_.path,r,o,u):f=KI(s,e,_.path,_.affectedTree,r,o,u)}else if(i.type===ii.LISTEN_COMPLETE)f=XI(s,e,i.path,r,u);else throw _l("Unknown operation type: "+i.type);const p=u.getChanges();return GI(e,f,p),{viewCache:f,changes:p}}function GI(s,e,i){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=Oh(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&i.push(Nb(Oh(e)))}}function Ub(s,e,i,r,o,u){const f=e.eventCache;if(Mh(r,i)!=null)return e;{let m,p;if(xe(i))if(te(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const _=ea(e),b=_ instanceof pe?_:pe.EMPTY_NODE,E=Km(r,b);m=s.filter.updateFullNode(e.eventCache.getNode(),E,u)}else{const _=Dh(r,ea(e));m=s.filter.updateFullNode(e.eventCache.getNode(),_,u)}else{const _=Te(i);if(_===".priority"){te(rr(i)===1,"Can't have a priority with additional path components");const b=f.getNode();p=e.serverCache.getNode();const E=mS(r,i,b,p);E!=null?m=s.filter.updatePriority(b,E):m=f.getNode()}else{const b=tt(i);let E;if(f.isCompleteForChild(_)){p=e.serverCache.getNode();const C=mS(r,i,f.getNode(),p);C!=null?E=f.getNode().getImmediateChild(_).updateChild(b,C):E=f.getNode().getImmediateChild(_)}else E=Xm(r,_,e.serverCache);E!=null?m=s.filter.updateChild(f.getNode(),_,E,b,o,u):m=f.getNode()}}return Fo(e,m,f.isFullyInitialized()||xe(i),s.filter.filtersNodes())}}function kh(s,e,i,r,o,u,f,m){const p=e.serverCache;let _;const b=f?s.filter:s.filter.getIndexedFilter();if(xe(i))_=b.updateFullNode(p.getNode(),r,null);else if(b.filtersNodes()&&!p.isFiltered()){const U=p.getNode().updateChild(i,r);_=b.updateFullNode(p.getNode(),U,null)}else{const U=Te(i);if(!p.isCompleteForPath(i)&&rr(i)>1)return e;const z=tt(i),Z=p.getNode().getImmediateChild(U).updateChild(z,r);U===".priority"?_=b.updatePriority(p.getNode(),Z):_=b.updateChild(p.getNode(),U,Z,z,jb,null)}const E=Ib(e,_,p.isFullyInitialized()||xe(i),b.filtersNodes()),C=new Qm(o,E,u);return Ub(s,E,i,o,C,m)}function $p(s,e,i,r,o,u,f){const m=e.eventCache;let p,_;const b=new Qm(o,e,u);if(xe(i))_=s.filter.updateFullNode(e.eventCache.getNode(),r,f),p=Fo(e,_,!0,s.filter.filtersNodes());else{const E=Te(i);if(E===".priority")_=s.filter.updatePriority(e.eventCache.getNode(),r),p=Fo(e,_,m.isFullyInitialized(),m.isFiltered());else{const C=tt(i),U=m.getNode().getImmediateChild(E);let z;if(xe(C))z=r;else{const Q=b.getCompleteChild(E);Q!=null?Pm(C)===".priority"&&Q.getChild(Eb(C)).isEmpty()?z=Q:z=Q.updateChild(C,r):z=pe.EMPTY_NODE}if(U.equals(z))p=e;else{const Q=s.filter.updateChild(m.getNode(),E,z,C,b,f);p=Fo(e,Q,m.isFullyInitialized(),s.filter.filtersNodes())}}}return p}function gS(s,e){return s.eventCache.isCompleteForChild(e)}function YI(s,e,i,r,o,u,f){let m=e;return r.foreach((p,_)=>{const b=ht(i,p);gS(e,Te(b))&&(m=$p(s,m,b,_,o,u,f))}),r.foreach((p,_)=>{const b=ht(i,p);gS(e,Te(b))||(m=$p(s,m,b,_,o,u,f))}),m}function _S(s,e,i){return i.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function em(s,e,i,r,o,u,f,m){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,_;xe(i)?_=r:_=new et(null).setTree(i,r);const b=e.serverCache.getNode();return _.children.inorderTraversal((E,C)=>{if(b.hasChild(E)){const U=e.serverCache.getNode().getImmediateChild(E),z=_S(s,U,C);p=kh(s,p,new Je(E),z,o,u,f,m)}}),_.children.inorderTraversal((E,C)=>{const U=!e.serverCache.isCompleteForChild(E)&&C.value===null;if(!b.hasChild(E)&&!U){const z=e.serverCache.getNode().getImmediateChild(E),Q=_S(s,z,C);p=kh(s,p,new Je(E),Q,o,u,f,m)}}),p}function KI(s,e,i,r,o,u,f){if(Mh(o,i)!=null)return e;const m=e.serverCache.isFiltered(),p=e.serverCache;if(r.value!=null){if(xe(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return kh(s,e,i,p.getNode().getChild(i),o,u,m,f);if(xe(i)){let _=new et(null);return p.getNode().forEachChild(rl,(b,E)=>{_=_.set(new Je(b),E)}),em(s,e,i,_,o,u,m,f)}else return e}else{let _=new et(null);return r.foreach((b,E)=>{const C=ht(i,b);p.isCompleteForPath(C)&&(_=_.set(b,p.getNode().getChild(C)))}),em(s,e,i,_,o,u,m,f)}}function XI(s,e,i,r,o){const u=e.serverCache,f=Ib(e,u.getNode(),u.isFullyInitialized()||xe(i),u.isFiltered());return Ub(s,f,i,r,jb,o)}function QI(s,e,i,r,o,u){let f;if(Mh(r,i)!=null)return e;{const m=new Qm(r,e,o),p=e.eventCache.getNode();let _;if(xe(i)||Te(i)===".priority"){let b;if(e.serverCache.isFullyInitialized())b=Dh(r,ea(e));else{const E=e.serverCache.getNode();te(E instanceof pe,"serverChildren would be complete if leaf node"),b=Km(r,E)}b=b,_=s.filter.updateFullNode(p,b,u)}else{const b=Te(i);let E=Xm(r,b,e.serverCache);E==null&&e.serverCache.isCompleteForChild(b)&&(E=p.getImmediateChild(b)),E!=null?_=s.filter.updateChild(p,b,E,tt(i),m,u):e.eventCache.getNode().hasChild(b)?_=s.filter.updateChild(p,b,pe.EMPTY_NODE,tt(i),m,u):_=p,_.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=Dh(r,ea(e)),f.isLeafNode()&&(_=s.filter.updateFullNode(_,f,u)))}return f=e.serverCache.isFullyInitialized()||Mh(r,He())!=null,Fo(e,_,f,s.filter.filtersNodes())}}class WI{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Vm(r.getIndex()),u=pI(r);this.processor_=VI(u);const f=i.serverCache,m=i.eventCache,p=o.updateFullNode(pe.EMPTY_NODE,f.getNode(),null),_=u.updateFullNode(pe.EMPTY_NODE,m.getNode(),null),b=new ar(p,f.isFullyInitialized(),o.filtersNodes()),E=new ar(_,m.isFullyInitialized(),u.filtersNodes());this.viewCache_=Wh(E,b),this.eventGenerator_=new EI(this.query_)}get query(){return this.query_}}function JI(s){return s.viewCache_.serverCache.getNode()}function ZI(s){return Oh(s.viewCache_)}function $I(s,e){const i=ea(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!xe(e)&&!i.getImmediateChild(Te(e)).isEmpty())?i.getChild(e):null}function yS(s){return s.eventRegistrations_.length===0}function eO(s,e){s.eventRegistrations_.push(e)}function vS(s,e,i){const r=[];if(i){te(e==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(i,o);f&&r.push(f)})}if(e){let o=[];for(let u=0;u<s.eventRegistrations_.length;++u){const f=s.eventRegistrations_[u];if(!f.matches(e))o.push(f);else if(e.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(u+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return r}function SS(s,e,i,r){e.type===ii.MERGE&&e.source.queryId!==null&&(te(ea(s.viewCache_),"We should always have a full cache before handling merges"),te(Oh(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,u=FI(s.processor_,o,e,i,r);return qI(s.processor_,u.viewCache),te(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=u.viewCache,Pb(s,u.changes,u.viewCache.eventCache.getNode(),null)}function tO(s,e){const i=s.viewCache_.eventCache,r=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(ft,(u,f)=>{r.push(ul(u,f))}),i.isFullyInitialized()&&r.push(Nb(i.getNode())),Pb(s,r,i.getNode(),e)}function Pb(s,e,i,r){const o=r?[r]:s.eventRegistrations_;return bI(s.eventGenerator_,e,i,o)}let Lh;class zb{constructor(){this.views=new Map}}function nO(s){te(!Lh,"__referenceConstructor has already been defined"),Lh=s}function iO(){return te(Lh,"Reference.ts has not been loaded"),Lh}function sO(s){return s.views.size===0}function Wm(s,e,i,r){const o=e.source.queryId;if(o!==null){const u=s.views.get(o);return te(u!=null,"SyncTree gave us an op for an invalid query."),SS(u,e,i,r)}else{let u=[];for(const f of s.views.values())u=u.concat(SS(f,e,i,r));return u}}function Hb(s,e,i,r,o){const u=e._queryIdentifier,f=s.views.get(u);if(!f){let m=Dh(i,o?r:null),p=!1;m?p=!0:r instanceof pe?(m=Km(i,r),p=!1):(m=pe.EMPTY_NODE,p=!1);const _=Wh(new ar(m,p,!1),new ar(r,o,!1));return new WI(e,_)}return f}function rO(s,e,i,r,o,u){const f=Hb(s,e,r,o,u);return s.views.has(e._queryIdentifier)||s.views.set(e._queryIdentifier,f),eO(f,i),tO(f,i)}function aO(s,e,i,r){const o=e._queryIdentifier,u=[];let f=[];const m=lr(s);if(o==="default")for(const[p,_]of s.views.entries())f=f.concat(vS(_,i,r)),yS(_)&&(s.views.delete(p),_.query._queryParams.loadsAllData()||u.push(_.query));else{const p=s.views.get(o);p&&(f=f.concat(vS(p,i,r)),yS(p)&&(s.views.delete(o),p.query._queryParams.loadsAllData()||u.push(p.query)))}return m&&!lr(s)&&u.push(new(iO())(e._repo,e._path)),{removed:u,events:f}}function Bb(s){const e=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function tr(s,e){let i=null;for(const r of s.views.values())i=i||$I(r,e);return i}function Vb(s,e){if(e._queryParams.loadsAllData())return Zh(s);{const r=e._queryIdentifier;return s.views.get(r)}}function qb(s,e){return Vb(s,e)!=null}function lr(s){return Zh(s)!=null}function Zh(s){for(const e of s.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let jh;function lO(s){te(!jh,"__referenceConstructor has already been defined"),jh=s}function oO(){return te(jh,"Reference.ts has not been loaded"),jh}let uO=1;class ES{constructor(e){this.listenProvider_=e,this.syncPointTree_=new et(null),this.pendingWriteTree_=PI(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Fb(s,e,i,r,o){return AI(s.pendingWriteTree_,e,i,r,o),o?El(s,new $r(Fm(),e,i)):[]}function cO(s,e,i,r){xI(s.pendingWriteTree_,e,i,r);const o=et.fromObject(i);return El(s,new cl(Fm(),e,o))}function Js(s,e,i=!1){const r=NI(s.pendingWriteTree_,e);if(RI(s.pendingWriteTree_,e)){let u=new et(null);return r.snap!=null?u=u.set(He(),!0):Kt(r.children,f=>{u=u.set(new Je(f),!0)}),El(s,new Ih(r.path,u,i))}else return[]}function bu(s,e,i){return El(s,new $r(Gm(),e,i))}function hO(s,e,i){const r=et.fromObject(i);return El(s,new cl(Gm(),e,r))}function fO(s,e){return El(s,new ru(Gm(),e))}function dO(s,e,i){const r=Zm(s,i);if(r){const o=$m(r),u=o.path,f=o.queryId,m=tn(u,e),p=new ru(Ym(f),m);return eg(s,u,p)}else return[]}function Uh(s,e,i,r,o=!1){const u=e._path,f=s.syncPointTree_.get(u);let m=[];if(f&&(e._queryIdentifier==="default"||qb(f,e))){const p=aO(f,e,i,r);sO(f)&&(s.syncPointTree_=s.syncPointTree_.remove(u));const _=p.removed;if(m=p.events,!o){const b=_.findIndex(C=>C._queryParams.loadsAllData())!==-1,E=s.syncPointTree_.findOnPath(u,(C,U)=>lr(U));if(b&&!E){const C=s.syncPointTree_.subtree(u);if(!C.isEmpty()){const U=gO(C);for(let z=0;z<U.length;++z){const Q=U[z],Z=Q.query,$=Xb(s,Q);s.listenProvider_.startListening(Yo(Z),au(s,Z),$.hashFn,$.onComplete)}}}!E&&_.length>0&&!r&&(b?s.listenProvider_.stopListening(Yo(e),null):_.forEach(C=>{const U=s.queryToTagMap.get($h(C));s.listenProvider_.stopListening(Yo(C),U)}))}_O(s,_)}return m}function Gb(s,e,i,r){const o=Zm(s,r);if(o!=null){const u=$m(o),f=u.path,m=u.queryId,p=tn(f,e),_=new $r(Ym(m),p,i);return eg(s,f,_)}else return[]}function pO(s,e,i,r){const o=Zm(s,r);if(o){const u=$m(o),f=u.path,m=u.queryId,p=tn(f,e),_=et.fromObject(i),b=new cl(Ym(m),p,_);return eg(s,f,b)}else return[]}function tm(s,e,i,r=!1){const o=e._path;let u=null,f=!1;s.syncPointTree_.foreachOnPath(o,(C,U)=>{const z=tn(C,o);u=u||tr(U,z),f=f||lr(U)});let m=s.syncPointTree_.get(o);m?(f=f||lr(m),u=u||tr(m,He())):(m=new zb,s.syncPointTree_=s.syncPointTree_.set(o,m));let p;u!=null?p=!0:(p=!1,u=pe.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((U,z)=>{const Q=tr(z,He());Q&&(u=u.updateImmediateChild(U,Q))}));const _=qb(m,e);if(!_&&!e._queryParams.loadsAllData()){const C=$h(e);te(!s.queryToTagMap.has(C),"View does not exist, but we have a tag");const U=yO();s.queryToTagMap.set(C,U),s.tagToQueryMap.set(U,C)}const b=Jh(s.pendingWriteTree_,o);let E=rO(m,e,i,b,u,p);if(!_&&!f&&!r){const C=Vb(m,e);E=E.concat(vO(s,e,C))}return E}function Jm(s,e,i){const o=s.pendingWriteTree_,u=s.syncPointTree_.findOnPath(e,(f,m)=>{const p=tn(f,e),_=tr(m,p);if(_)return _});return Mb(o,e,u,i,!0)}function mO(s,e){const i=e._path;let r=null;s.syncPointTree_.foreachOnPath(i,(_,b)=>{const E=tn(_,i);r=r||tr(b,E)});let o=s.syncPointTree_.get(i);o?r=r||tr(o,He()):(o=new zb,s.syncPointTree_=s.syncPointTree_.set(i,o));const u=r!=null,f=u?new ar(r,!0,!1):null,m=Jh(s.pendingWriteTree_,e._path),p=Hb(o,e,m,u?f.getNode():pe.EMPTY_NODE,u);return ZI(p)}function El(s,e){return Yb(e,s.syncPointTree_,null,Jh(s.pendingWriteTree_,He()))}function Yb(s,e,i,r){if(xe(s.path))return Kb(s,e,i,r);{const o=e.get(He());i==null&&o!=null&&(i=tr(o,He()));let u=[];const f=Te(s.path),m=s.operationForChild(f),p=e.children.get(f);if(p&&m){const _=i?i.getImmediateChild(f):null,b=kb(r,f);u=u.concat(Yb(m,p,_,b))}return o&&(u=u.concat(Wm(o,s,r,i))),u}}function Kb(s,e,i,r){const o=e.get(He());i==null&&o!=null&&(i=tr(o,He()));let u=[];return e.children.inorderTraversal((f,m)=>{const p=i?i.getImmediateChild(f):null,_=kb(r,f),b=s.operationForChild(f);b&&(u=u.concat(Kb(b,m,p,_)))}),o&&(u=u.concat(Wm(o,s,r,i))),u}function Xb(s,e){const i=e.query,r=au(s,i);return{hashFn:()=>(JI(e)||pe.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?dO(s,i._path,r):fO(s,i._path);{const u=f2(o,i);return Uh(s,i,null,u)}}}}function au(s,e){const i=$h(e);return s.queryToTagMap.get(i)}function $h(s){return s._path.toString()+"$"+s._queryIdentifier}function Zm(s,e){return s.tagToQueryMap.get(e)}function $m(s){const e=s.indexOf("$");return te(e!==-1&&e<s.length-1,"Bad queryKey."),{queryId:s.substr(e+1),path:new Je(s.substr(0,e))}}function eg(s,e,i){const r=s.syncPointTree_.get(e);te(r,"Missing sync point for query tag that we're tracking");const o=Jh(s.pendingWriteTree_,e);return Wm(r,i,o,null)}function gO(s){return s.fold((e,i,r)=>{if(i&&lr(i))return[Zh(i)];{let o=[];return i&&(o=Bb(i)),Kt(r,(u,f)=>{o=o.concat(f)}),o}})}function Yo(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(oO())(s._repo,s._path):s}function _O(s,e){for(let i=0;i<e.length;++i){const r=e[i];if(!r._queryParams.loadsAllData()){const o=$h(r),u=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(u)}}}function yO(){return uO++}function vO(s,e,i){const r=e._path,o=au(s,e),u=Xb(s,i),f=s.listenProvider_.startListening(Yo(e),o,u.hashFn,u.onComplete),m=s.syncPointTree_.subtree(r);if(o)te(!lr(m.value),"If we're adding a query, it shouldn't be shadowed");else{const p=m.fold((_,b,E)=>{if(!xe(_)&&b&&lr(b))return[Zh(b).query];{let C=[];return b&&(C=C.concat(Bb(b).map(U=>U.query))),Kt(E,(U,z)=>{C=C.concat(z)}),C}});for(let _=0;_<p.length;++_){const b=p[_];s.listenProvider_.stopListening(Yo(b),au(s,b))}}return f}class tg{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new tg(i)}node(){return this.node_}}class ng{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=ht(this.path_,e);return new ng(this.syncTree_,i)}node(){return Jm(this.syncTree_,this.path_)}}const SO=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},bS=function(s,e,i){if(!s||typeof s!="object")return s;if(te(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return EO(s[".sv"],e,i);if(typeof s[".sv"]=="object")return bO(s[".sv"],e);te(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},EO=function(s,e,i){if(s==="timestamp")return i.timestamp;te(!1,"Unexpected server value: "+s)},bO=function(s,e,i){s.hasOwnProperty("increment")||te(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const r=s.increment;typeof r!="number"&&te(!1,"Unexpected increment value: "+r);const o=e.node();if(te(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const f=o.getValue();return typeof f!="number"?r:f+r},Qb=function(s,e,i,r){return ig(e,new ng(i,s),r)},Wb=function(s,e,i){return ig(s,new tg(e),i)};function ig(s,e,i){const r=s.getPriority().val(),o=bS(r,e.getImmediateChild(".priority"),i);let u;if(s.isLeafNode()){const f=s,m=bS(f.getValue(),e,i);return m!==f.getValue()||o!==f.getPriority().val()?new Pt(m,Mt(o)):s}else{const f=s;return u=f,o!==f.getPriority().val()&&(u=u.updatePriority(new Pt(o))),f.forEachChild(ft,(m,p)=>{const _=ig(p,e.getImmediateChild(m),i);_!==p&&(u=u.updateImmediateChild(m,_))}),u}}class sg{constructor(e="",i=null,r={children:{},childCount:0}){this.name=e,this.parent=i,this.node=r}}function rg(s,e){let i=e instanceof Je?e:new Je(e),r=s,o=Te(i);for(;o!==null;){const u=al(r.node.children,o)||{children:{},childCount:0};r=new sg(o,r,u),i=tt(i),o=Te(i)}return r}function bl(s){return s.node.value}function Jb(s,e){s.node.value=e,nm(s)}function Zb(s){return s.node.childCount>0}function TO(s){return bl(s)===void 0&&!Zb(s)}function ef(s,e){Kt(s.node.children,(i,r)=>{e(new sg(i,s,r))})}function $b(s,e,i,r){i&&e(s),ef(s,o=>{$b(o,e,!0)})}function wO(s,e,i){let r=s.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Tu(s){return new Je(s.parent===null?s.name:Tu(s.parent)+"/"+s.name)}function nm(s){s.parent!==null&&CO(s.parent,s.name,s)}function CO(s,e,i){const r=TO(i),o=ki(s.node.children,e);r&&o?(delete s.node.children[e],s.node.childCount--,nm(s)):!r&&!o&&(s.node.children[e]=i.node,s.node.childCount++,nm(s))}const AO=/[\[\].#$\/\u0000-\u001F\u007F]/,xO=/[\[\].#$\u0000-\u001F\u007F]/,Op=10*1024*1024,ag=function(s){return typeof s=="string"&&s.length!==0&&!AO.test(s)},eT=function(s){return typeof s=="string"&&s.length!==0&&!xO.test(s)},NO=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),eT(s)},RO=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!Mm(s)||s&&typeof s=="object"&&ki(s,".sv")},tT=function(s,e,i,r){r&&e===void 0||tf(Vh(s,"value"),e,i)},tf=function(s,e,i){const r=i instanceof Je?new Y2(i,s):i;if(e===void 0)throw new Error(s+"contains undefined "+Vr(r));if(typeof e=="function")throw new Error(s+"contains a function "+Vr(r)+" with contents = "+e.toString());if(Mm(e))throw new Error(s+"contains "+e.toString()+" "+Vr(r));if(typeof e=="string"&&e.length>Op/3&&qh(e)>Op)throw new Error(s+"contains a string greater than "+Op+" utf8 bytes "+Vr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(Kt(e,(f,m)=>{if(f===".value")o=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!ag(f)))throw new Error(s+" contains an invalid key ("+f+") "+Vr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);K2(r,f),tf(s,m,r),X2(r)}),o&&u)throw new Error(s+' contains ".value" child '+Vr(r)+" in addition to actual children.")}},IO=function(s,e){let i,r;for(i=0;i<e.length;i++){r=e[i];const u=tu(r);for(let f=0;f<u.length;f++)if(!(u[f]===".priority"&&f===u.length-1)){if(!ag(u[f]))throw new Error(s+"contains an invalid key ("+u[f]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(G2);let o=null;for(i=0;i<e.length;i++){if(r=e[i],o!==null&&Pn(o,r))throw new Error(s+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}},OO=function(s,e,i,r){const o=Vh(s,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const u=[];Kt(e,(f,m)=>{const p=new Je(f);if(tf(o,m,ht(i,p)),Pm(p)===".priority"&&!RO(m))throw new Error(o+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(p)}),IO(o,u)},nT=function(s,e,i,r){if(!eT(i))throw new Error(Vh(s,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},DO=function(s,e,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),nT(s,e,i)},lg=function(s,e){if(Te(e)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},MO=function(s,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ag(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!NO(i))throw new Error(Vh(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class kO{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function nf(s,e){let i=null;for(let r=0;r<e.length;r++){const o=e[r],u=o.getPath();i!==null&&!zm(u,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&s.eventLists_.push(i)}function iT(s,e,i){nf(s,i),sT(s,r=>zm(r,e))}function Hn(s,e,i){nf(s,i),sT(s,r=>Pn(r,e)||Pn(e,r))}function sT(s,e){s.recursionDepth_++;let i=!0;for(let r=0;r<s.eventLists_.length;r++){const o=s.eventLists_[r];if(o){const u=o.path;e(u)?(LO(s.eventLists_[r]),s.eventLists_[r]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function LO(s){for(let e=0;e<s.events.length;e++){const i=s.events[e];if(i!==null){s.events[e]=null;const r=i.getEventRunner();Vo&&Yt("event: "+i.toString()),Sl(r)}}}const jO="repo_interrupt",UO=25;class PO{constructor(e,i,r,o){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new kO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Rh(),this.transactionQueueTree_=new sg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function zO(s,e,i){if(s.stats_=jm(s.repoInfo_),s.forceRestClient_||g2())s.server_=new Nh(s.repoInfo_,(r,o,u,f)=>{TS(s,r,o,u,f)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>wS(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{kt(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}s.persistentConnection_=new as(s.repoInfo_,e,(r,o,u,f)=>{TS(s,r,o,u,f)},r=>{wS(s,r)},r=>{HO(s,r)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(r=>{s.server_.refreshAuthToken(r)}),s.appCheckProvider_.addTokenChangeListener(r=>{s.server_.refreshAppCheckToken(r.token)}),s.statsReporter_=E2(s.repoInfo_,()=>new SI(s.stats_,s.server_)),s.infoData_=new mI,s.infoSyncTree_=new ES({startListening:(r,o,u,f)=>{let m=[];const p=s.infoData_.getNode(r._path);return p.isEmpty()||(m=bu(s.infoSyncTree_,r._path,p),setTimeout(()=>{f("ok")},0)),m},stopListening:()=>{}}),og(s,"connected",!1),s.serverSyncTree_=new ES({startListening:(r,o,u,f)=>(s.server_.listen(r,u,o,(m,p)=>{const _=f(m,p);Hn(s.eventQueue_,r._path,_)}),[]),stopListening:(r,o)=>{s.server_.unlisten(r,o)}})}function rT(s){const i=s.infoData_.getNode(new Je(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function sf(s){return SO({timestamp:rT(s)})}function TS(s,e,i,r,o){s.dataUpdateCount++;const u=new Je(e);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(e,i):i;let f=[];if(o)if(r){const p=_h(i,_=>Mt(_));f=pO(s.serverSyncTree_,u,p,o)}else{const p=Mt(i);f=Gb(s.serverSyncTree_,u,p,o)}else if(r){const p=_h(i,_=>Mt(_));f=hO(s.serverSyncTree_,u,p)}else{const p=Mt(i);f=bu(s.serverSyncTree_,u,p)}let m=u;f.length>0&&(m=fl(s,u)),Hn(s.eventQueue_,m,f)}function wS(s,e){og(s,"connected",e),e===!1&&FO(s)}function HO(s,e){Kt(e,(i,r)=>{og(s,i,r)})}function og(s,e,i){const r=new Je("/.info/"+e),o=Mt(i);s.infoData_.updateSnapshot(r,o);const u=bu(s.infoSyncTree_,r,o);Hn(s.eventQueue_,r,u)}function ug(s){return s.nextWriteId_++}function BO(s,e,i){const r=mO(s.serverSyncTree_,e);return r!=null?Promise.resolve(r):s.server_.get(e).then(o=>{const u=Mt(o).withIndex(e._queryParams.getIndex());tm(s.serverSyncTree_,e,i,!0);let f;if(e._queryParams.loadsAllData())f=bu(s.serverSyncTree_,e._path,u);else{const m=au(s.serverSyncTree_,e);f=Gb(s.serverSyncTree_,e._path,u,m)}return Hn(s.eventQueue_,e._path,f),Uh(s.serverSyncTree_,e,i,null,!0),u},o=>(wu(s,"get for query "+kt(e)+" failed: "+o),Promise.reject(new Error(o))))}function VO(s,e,i,r,o){wu(s,"set",{path:e.toString(),value:i,priority:r});const u=sf(s),f=Mt(i,r),m=Jm(s.serverSyncTree_,e),p=Wb(f,m,u),_=ug(s),b=Fb(s.serverSyncTree_,e,p,_,!0);nf(s.eventQueue_,b),s.server_.put(e.toString(),f.val(!0),(C,U)=>{const z=C==="ok";z||nn("set at "+e+" failed: "+C);const Q=Js(s.serverSyncTree_,_,!z);Hn(s.eventQueue_,e,Q),im(s,o,C,U)});const E=hg(s,e);fl(s,E),Hn(s.eventQueue_,E,[])}function qO(s,e,i,r){wu(s,"update",{path:e.toString(),value:i});let o=!0;const u=sf(s),f={};if(Kt(i,(m,p)=>{o=!1,f[m]=Qb(ht(e,m),Mt(p),s.serverSyncTree_,u)}),o)Yt("update() called with empty data.  Don't do anything."),im(s,r,"ok",void 0);else{const m=ug(s),p=cO(s.serverSyncTree_,e,f,m);nf(s.eventQueue_,p),s.server_.merge(e.toString(),i,(_,b)=>{const E=_==="ok";E||nn("update at "+e+" failed: "+_);const C=Js(s.serverSyncTree_,m,!E),U=C.length>0?fl(s,e):e;Hn(s.eventQueue_,U,C),im(s,r,_,b)}),Kt(i,_=>{const b=hg(s,ht(e,_));fl(s,b)}),Hn(s.eventQueue_,e,[])}}function FO(s){wu(s,"onDisconnectEvents");const e=sf(s),i=Rh();Qp(s.onDisconnect_,He(),(o,u)=>{const f=Qb(o,u,s.serverSyncTree_,e);Rb(i,o,f)});let r=[];Qp(i,He(),(o,u)=>{r=r.concat(bu(s.serverSyncTree_,o,u));const f=hg(s,o);fl(s,f)}),s.onDisconnect_=Rh(),Hn(s.eventQueue_,He(),r)}function GO(s,e,i){let r;Te(e._path)===".info"?r=tm(s.infoSyncTree_,e,i):r=tm(s.serverSyncTree_,e,i),iT(s.eventQueue_,e._path,r)}function YO(s,e,i){let r;Te(e._path)===".info"?r=Uh(s.infoSyncTree_,e,i):r=Uh(s.serverSyncTree_,e,i),iT(s.eventQueue_,e._path,r)}function KO(s){s.persistentConnection_&&s.persistentConnection_.interrupt(jO)}function wu(s,...e){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),Yt(i,...e)}function im(s,e,i,r){e&&Sl(()=>{if(i==="ok")e(null);else{const o=(i||"error").toUpperCase();let u=o;r&&(u+=": "+r);const f=new Error(u);f.code=o,e(f)}})}function aT(s,e,i){return Jm(s.serverSyncTree_,e,i)||pe.EMPTY_NODE}function cg(s,e=s.transactionQueueTree_){if(e||rf(s,e),bl(e)){const i=oT(s,e);te(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&XO(s,Tu(e),i)}else Zb(e)&&ef(e,i=>{cg(s,i)})}function XO(s,e,i){const r=i.map(_=>_.currentWriteId),o=aT(s,e,r);let u=o;const f=o.hash();for(let _=0;_<i.length;_++){const b=i[_];te(b.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const E=tn(e,b.path);u=u.updateChild(E,b.currentOutputSnapshotRaw)}const m=u.val(!0),p=e;s.server_.put(p.toString(),m,_=>{wu(s,"transaction put response",{path:p.toString(),status:_});let b=[];if(_==="ok"){const E=[];for(let C=0;C<i.length;C++)i[C].status=2,b=b.concat(Js(s.serverSyncTree_,i[C].currentWriteId)),i[C].onComplete&&E.push(()=>i[C].onComplete(null,!0,i[C].currentOutputSnapshotResolved)),i[C].unwatcher();rf(s,rg(s.transactionQueueTree_,e)),cg(s,s.transactionQueueTree_),Hn(s.eventQueue_,e,b);for(let C=0;C<E.length;C++)Sl(E[C])}else{if(_==="datastale")for(let E=0;E<i.length;E++)i[E].status===3?i[E].status=4:i[E].status=0;else{nn("transaction at "+p.toString()+" failed: "+_);for(let E=0;E<i.length;E++)i[E].status=4,i[E].abortReason=_}fl(s,e)}},f)}function fl(s,e){const i=lT(s,e),r=Tu(i),o=oT(s,i);return QO(s,o,r),r}function QO(s,e,i){if(e.length===0)return;const r=[];let o=[];const f=e.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<e.length;m++){const p=e[m],_=tn(i,p.path);let b=!1,E;if(te(_!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)b=!0,E=p.abortReason,o=o.concat(Js(s.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=UO)b=!0,E="maxretry",o=o.concat(Js(s.serverSyncTree_,p.currentWriteId,!0));else{const C=aT(s,p.path,f);p.currentInputSnapshot=C;const U=e[m].update(C.val());if(U!==void 0){tf("transaction failed: Data returned ",U,p.path);let z=Mt(U);typeof U=="object"&&U!=null&&ki(U,".priority")||(z=z.updatePriority(C.getPriority()));const Z=p.currentWriteId,$=sf(s),ee=Wb(z,C,$);p.currentOutputSnapshotRaw=z,p.currentOutputSnapshotResolved=ee,p.currentWriteId=ug(s),f.splice(f.indexOf(Z),1),o=o.concat(Fb(s.serverSyncTree_,p.path,ee,p.currentWriteId,p.applyLocally)),o=o.concat(Js(s.serverSyncTree_,Z,!0))}else b=!0,E="nodata",o=o.concat(Js(s.serverSyncTree_,p.currentWriteId,!0))}Hn(s.eventQueue_,i,o),o=[],b&&(e[m].status=2,(function(C){setTimeout(C,Math.floor(0))})(e[m].unwatcher),e[m].onComplete&&(E==="nodata"?r.push(()=>e[m].onComplete(null,!1,e[m].currentInputSnapshot)):r.push(()=>e[m].onComplete(new Error(E),!1,null))))}rf(s,s.transactionQueueTree_);for(let m=0;m<r.length;m++)Sl(r[m]);cg(s,s.transactionQueueTree_)}function lT(s,e){let i,r=s.transactionQueueTree_;for(i=Te(e);i!==null&&bl(r)===void 0;)r=rg(r,i),e=tt(e),i=Te(e);return r}function oT(s,e){const i=[];return uT(s,e,i),i.sort((r,o)=>r.order-o.order),i}function uT(s,e,i){const r=bl(e);if(r)for(let o=0;o<r.length;o++)i.push(r[o]);ef(e,o=>{uT(s,o,i)})}function rf(s,e){const i=bl(e);if(i){let r=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[r]=i[o],r++);i.length=r,Jb(e,i.length>0?i:void 0)}ef(e,r=>{rf(s,r)})}function hg(s,e){const i=Tu(lT(s,e)),r=rg(s.transactionQueueTree_,e);return wO(r,o=>{Dp(s,o)}),Dp(s,r),$b(r,o=>{Dp(s,o)}),i}function Dp(s,e){const i=bl(e);if(i){const r=[];let o=[],u=-1;for(let f=0;f<i.length;f++)i[f].status===3||(i[f].status===1?(te(u===f-1,"All SENT items should be at beginning of queue."),u=f,i[f].status=3,i[f].abortReason="set"):(te(i[f].status===0,"Unexpected transaction status in abort"),i[f].unwatcher(),o=o.concat(Js(s.serverSyncTree_,i[f].currentWriteId,!0)),i[f].onComplete&&r.push(i[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?Jb(e,void 0):i.length=u+1,Hn(s.eventQueue_,Tu(e),o);for(let f=0;f<r.length;f++)Sl(r[f])}}function WO(s){let e="";const i=s.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let o=i[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function JO(s){const e={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):nn(`Invalid query segment '${i}' in query '${s}'`)}return e}const CS=function(s,e){const i=ZO(s),r=i.namespace;i.domain==="firebase.com"&&cs(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&cs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||l2();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new fb(i.host,i.secure,r,o,e,"",r!==i.subdomain),path:new Je(i.pathString)}},ZO=function(s){let e="",i="",r="",o="",u="",f=!0,m="https",p=443;if(typeof s=="string"){let _=s.indexOf("//");_>=0&&(m=s.substring(0,_-1),s=s.substring(_+2));let b=s.indexOf("/");b===-1&&(b=s.length);let E=s.indexOf("?");E===-1&&(E=s.length),e=s.substring(0,Math.min(b,E)),b<E&&(o=WO(s.substring(b,E)));const C=JO(s.substring(Math.min(s.length,E)));_=e.indexOf(":"),_>=0?(f=m==="https"||m==="wss",p=parseInt(e.substring(_+1),10)):_=e.length;const U=e.slice(0,_);if(U.toLowerCase()==="localhost")i="localhost";else if(U.split(".").length<=2)i=U;else{const z=e.indexOf(".");r=e.substring(0,z).toLowerCase(),i=e.substring(z+1),u=r}"ns"in C&&(u=C.ns)}return{host:e,port:p,domain:i,subdomain:r,secure:f,scheme:m,pathString:o,namespace:u}};const AS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",$O=(function(){let s=0;const e=[];return function(i){const r=i===s;s=i;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=AS.charAt(i%64),i=Math.floor(i/64);te(i===0,"Cannot push at time == 0");let f=u.join("");if(r){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)f+=AS.charAt(e[o]);return te(f.length===20,"nextPushId: Length should be 20."),f}})();class eD{constructor(e,i,r,o){this.eventType=e,this.eventRegistration=i,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+kt(this.snapshot.exportVal())}}class tD{constructor(e,i,r){this.eventRegistration=e,this.error=i,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class cT{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return te(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class fg{constructor(e,i,r,o){this._repo=e,this._path=i,this._queryParams=r,this._orderByCalled=o}get key(){return xe(this._path)?null:Pm(this._path)}get ref(){return new fs(this._repo,this._path)}get _queryIdentifier(){const e=hS(this._queryParams),i=km(e);return i==="{}"?"default":i}get _queryObject(){return hS(this._queryParams)}isEqual(e){if(e=rn(e),!(e instanceof fg))return!1;const i=this._repo===e._repo,r=zm(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return i&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+F2(this._path)}}class fs extends fg{constructor(e,i){super(e,i,new qm,!1)}get parent(){const e=Eb(this._path);return e===null?null:new fs(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class lu{constructor(e,i,r){this._node=e,this.ref=i,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new Je(e),r=ou(this.ref,e);return new lu(this._node.getChild(i),r,ft)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new lu(o,ou(this.ref,r),ft)))}hasChild(e){const i=new Je(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ie(s,e){return s=rn(s),s._checkNotDeleted("ref"),e!==void 0?ou(s._root,e):s._root}function ou(s,e){return s=rn(s),Te(s._path)===null?DO("child","path",e):nT("child","path",e),new fs(s._repo,ht(s._path,e))}function af(s,e){s=rn(s),lg("push",s._path),tT("push",e,s._path,!0);const i=rT(s._repo),r=$O(i),o=ou(s,r),u=ou(s,r);let f;return e!=null?f=lf(u,e).then(()=>u):f=Promise.resolve(u),o.then=f.then.bind(f),o.catch=f.then.bind(f,void 0),o}function nD(s){return lg("remove",s._path),lf(s,null)}function lf(s,e){s=rn(s),lg("set",s._path),tT("set",e,s._path,!1);const i=new hu;return VO(s._repo,s._path,e,null,i.wrapCallback(()=>{})),i.promise}function Ph(s,e){OO("update",e,s._path);const i=new hu;return qO(s._repo,s._path,e,i.wrapCallback(()=>{})),i.promise}function dg(s){s=rn(s);const e=new cT(()=>{}),i=new of(e);return BO(s._repo,s,i).then(r=>new lu(r,new fs(s._repo,s._path),s._queryParams.getIndex()))}class of{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const r=i._queryParams.getIndex();return new eD("value",this,new lu(e.snapshotNode,new fs(i._repo,i._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new tD(this,e,i):null}matches(e){return e instanceof of?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function iD(s,e,i,r,o){const u=new cT(i,void 0),f=new of(u);return GO(s._repo,s,f),()=>YO(s._repo,s,f)}function dt(s,e,i,r){return iD(s,"value",e)}nO(fs);lO(fs);const sD="FIREBASE_DATABASE_EMULATOR_HOST",sm={};let rD=!1;function aD(s,e,i,r){const o=e.lastIndexOf(":"),u=e.substring(0,o),f=na(u);s.repoInfo_=new fb(e,f,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(s.authTokenProvider_=r)}function lD(s,e,i,r,o){let u=r||s.options.databaseURL;u===void 0&&(s.options.projectId||cs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Yt("Using default host for project ",s.options.projectId),u=`${s.options.projectId}-default-rtdb.firebaseio.com`);let f=CS(u,o),m=f.repoInfo,p;typeof process<"u"&&K0&&(p=K0[sD]),p?(u=`http://${p}?ns=${m.namespace}`,f=CS(u,o),m=f.repoInfo):f.repoInfo.secure;const _=new y2(s.name,s.options,e);MO("Invalid Firebase Database URL",f),xe(f.path)||cs("Database URL must point to the root of a Firebase Database (not including a child path).");const b=uD(m,s,_,new _2(s,i));return new cD(b,s)}function oD(s,e){const i=sm[e];(!i||i[s.key]!==s)&&cs(`Database ${e}(${s.repoInfo_}) has already been deleted.`),KO(s),delete i[s.key]}function uD(s,e,i,r){let o=sm[e.name];o||(o={},sm[e.name]=o);let u=o[s.toURLString()];return u&&cs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new PO(s,rD,i,r),o[s.toURLString()]=u,u}class cD{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(zO(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new fs(this._repo,He())),this._rootInternal}_delete(){return this._rootInternal!==null&&(oD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&cs("Cannot call "+e+" on a deleted database.")}}function hD(s=vm(),e){const i=Gh(s,"database").getImmediate({identifier:e});if(!i._instanceStarted){const r=ZS("database");r&&fD(i,...r)}return i}function fD(s,e,i,r={}){s=rn(s),s._checkNotDeleted("useEmulator");const o=`${e}:${i}`,u=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&nr(r,u.repoInfo_.emulatorOptions))return;cs("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&cs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new dh(dh.OWNER);else if(r.mockUserToken){const m=typeof r.mockUserToken=="string"?r.mockUserToken:tE(r.mockUserToken,s.app.options.projectId);f=new dh(m)}na(e)&&(mm(e),gm("Database",!0)),aD(u,o,r,f)}function dD(s){t2(ia),Xr(new ir("database",(e,{instanceIdentifier:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return lD(r,o,u,i)},"PUBLIC").setMultipleInstances(!0)),Ii(X0,Q0,s),Ii(X0,Q0,"esm2020")}as.prototype.simpleListen=function(s,e){this.sendRequest("q",{p:s},e)};as.prototype.echo=function(s,e){this.sendRequest("echo",{d:s},e)};dD();const pD={apiKey:"AIzaSyB6F-A2T33-gNVoUWv1NukzmlxmUa0cTuo",authDomain:"student-teacher-appointm-8a5e0.firebaseapp.com",databaseURL:"https://student-teacher-appointm-8a5e0-default-rtdb.firebaseio.com",projectId:"student-teacher-appointm-8a5e0",storageBucket:"student-teacher-appointm-8a5e0.firebasestorage.app",messagingSenderId:"765976583466",appId:"1:765976583466:web:c9f4ec60ad1e19b3d5d253",measurementId:"G-C75916ZMR6"},pg=l0().length?l0()[0]:aE(pD);WR(pg);const Oe=hD(pg),zh=vR(pg),mD=()=>{const s=ta(),[e,i]=M.useState("student"),[r,o]=M.useState(""),[u,f]=M.useState(""),[m,p]=M.useState(""),_={email:"admin@gmail.com",password:"admin123"},b=async E=>{E.preventDefault(),p("");try{if(e==="admin")if(r===_.email&&u===_.password){localStorage.clear(),localStorage.setItem("role","admin"),s("/admin/dashboard");return}else{p("Invalid admin credentials.");return}const U=(await rN(zh,r,u)).user.uid,z=e==="student"?`Students/${U}`:`Teachers/${U}`,Q=await dg(Ie(Oe,z));if(!Q.exists()){p(`${e} record not found in database.`);return}const Z=Q.val();if(e==="student"&&Z.status!=="approved"){p("Your account is not approved by admin yet.");return}localStorage.clear(),localStorage.setItem("role",e),e==="student"&&(localStorage.setItem("studentId",U),s("/student/dashboard")),e==="teacher"&&(localStorage.setItem("teacherId",U),s("/teachers/appointments"))}catch(C){console.error(C),p("Invalid email or password.")}};return S.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-br from-blue-200 to-blue-500 px-4",children:S.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-2xl shadow-lg",children:[S.jsx("h1",{className:"text-3xl font-bold text-center text-blue-700 mb-6",children:"Login Portal"}),m&&S.jsx("p",{className:"text-red-600 bg-red-100 p-2 rounded mb-3 text-center",children:m}),S.jsxs("form",{onSubmit:b,className:"space-y-5",children:[S.jsxs("select",{value:e,onChange:E=>i(E.target.value),className:"w-full p-3 border rounded-lg",children:[S.jsx("option",{value:"student",children:"Student"}),S.jsx("option",{value:"teacher",children:"Teacher"}),S.jsx("option",{value:"admin",children:"Admin"})]}),S.jsx("input",{type:"email",placeholder:"Email",className:"w-full p-3 border rounded-lg",value:r,onChange:E=>o(E.target.value)}),S.jsx("input",{type:"password",placeholder:"Password",className:"w-full p-3 border rounded-lg",value:u,onChange:E=>f(E.target.value)}),S.jsx("button",{className:"w-full bg-blue-600 text-white py-3 rounded-lg",children:"Login"})]}),S.jsxs("p",{className:"text-center mt-4",children:["New Student?"," ",S.jsx("span",{onClick:()=>s("/student/register"),className:"text-blue-700 font-semibold cursor-pointer",children:"Register Here"})]})]})})},gD=()=>{const s=ta(),e=localStorage.getItem("role"),i=()=>{localStorage.clear(),s("/")};return e?S.jsxs("nav",{className:"bg-blue-700 text-white px-6 py-4 flex justify-between items-center",children:[S.jsx("h1",{className:"text-xl font-bold",children:"StudentTeacher System"}),S.jsxs("div",{className:"flex gap-4 items-center",children:[e==="admin"&&S.jsxs(S.Fragment,{children:[S.jsx($t,{to:"/admin/dashboard",children:"Dashboard"}),S.jsx($t,{to:"/admin/approve-students",children:"Approve Students"}),S.jsx($t,{to:"/teachers/add",children:"Add Teacher"}),S.jsx($t,{to:"/teachers/list",children:"Teacher List"})]}),e==="student"&&S.jsxs(S.Fragment,{children:[S.jsx($t,{to:"/student/search-teacher",children:"Search Teacher"}),S.jsx($t,{to:"/student/book-appointment",children:"Book Appointment"}),S.jsx($t,{to:"/student/send-message",children:"Send Message"})]}),e==="teacher"&&S.jsxs(S.Fragment,{children:[S.jsx($t,{to:"/teacher/schedule",children:"Schedule Appointment"}),S.jsx($t,{to:"/teachers/appointments",children:"Appointments"}),S.jsx($t,{to:"/teachers/view-messages",children:"Messages"})]}),S.jsx("button",{onClick:i,className:"ml-4 bg-red-500 px-4 py-1 rounded hover:bg-red-600",children:"Logout"})]})]}):null},_D=()=>{const[s,e]=M.useState([]);M.useEffect(()=>{const r=Ie(Oe,"Students");dt(r,o=>{const u=o.val();if(u){const f=Object.keys(u).map(m=>({id:m,...u[m]})).filter(m=>m.status==="pending");e(f)}else e([])})},[]);const i=r=>{Ph(Ie(Oe,"Students/"+r),{status:"approved"}),alert("Student Approved Successfully!")};return S.jsxs("div",{className:"max-w-4xl mx-auto mt-10",children:[S.jsx("h2",{className:"text-3xl font-bold text-center mb-6",children:"Approve Student Registrations"}),s.length===0?S.jsx("p",{className:"text-center text-xl text-gray-600",children:"No pending students."}):S.jsxs("table",{className:"w-full border border-gray-300",children:[S.jsx("thead",{children:S.jsxs("tr",{className:"bg-blue-600 text-white",children:[S.jsx("th",{className:"p-2",children:"Name"}),S.jsx("th",{className:"p-2",children:"Course"}),S.jsx("th",{className:"p-2",children:"Email"}),S.jsx("th",{className:"p-2",children:"Action"})]})}),S.jsx("tbody",{children:s.map(r=>S.jsxs("tr",{className:"border",children:[S.jsx("td",{className:"p-2",children:r.name}),S.jsx("td",{className:"p-2",children:r.course}),S.jsx("td",{className:"p-2",children:r.email}),S.jsx("td",{className:"p-2",children:S.jsx("button",{className:"px-4 py-1 bg-green-600 text-white rounded hover:bg-green-700",onClick:()=>i(r.id),children:"Approve"})})]},r.id))})]})]})},dl=(s,e={})=>{const i={timestamp:new Date().toISOString(),action:s,details:e};console.log("APP LOG:",i);try{const r=Ie(Oe,"Logs");af(r,i)}catch(r){console.error("Error saving log:",r)}},yD=()=>{const[s,e]=M.useState([]),[i,r]=M.useState({}),[o,u]=M.useState({});M.useEffect(()=>{const b=Ie(Oe,"Appointments");dt(b,E=>{const C=E.val()||{},U=Object.keys(C).map(z=>({id:z,...C[z]}));e(U)})},[]),M.useEffect(()=>{const b=Ie(Oe,"Students");dt(b,E=>{r(E.val()||{})})},[]),M.useEffect(()=>{const b=Ie(Oe,"Teachers");dt(b,E=>{u(E.val()||{})})},[]);const f=b=>{Ph(Ie(Oe,"Appointments/"+b),{status:"approved"}),dl("Appointment Approved",{appointmentId:b}),alert("Appointment approved!")},m=b=>{confirm("Are you sure you want to cancel?")&&(Ph(Ie(Oe,"Appointments/"+b),{status:"cancelled"}),dl("Appointment Cancelled",{appointmentId:b}),alert("Appointment cancelled!"))},p=b=>i[b]?.name||"Unknown",_=b=>o[b]?.name||"Unknown";return S.jsxs("div",{className:"max-w-5xl mx-auto mt-10 p-6 bg-white shadow-xl rounded-xl",children:[S.jsx("h2",{className:"text-3xl font-bold text-center text-blue-700 mb-6",children:"Manage Appointments"}),S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"w-full border border-gray-300",children:[S.jsx("thead",{children:S.jsxs("tr",{className:"bg-blue-600 text-white",children:[S.jsx("th",{className:"px-4 py-2",children:"Student"}),S.jsx("th",{className:"px-4 py-2",children:"Teacher"}),S.jsx("th",{className:"px-4 py-2",children:"Date"}),S.jsx("th",{className:"px-4 py-2",children:"Time"}),S.jsx("th",{className:"px-4 py-2",children:"Status"}),S.jsx("th",{className:"px-4 py-2",children:"Actions"})]})}),S.jsx("tbody",{children:s.length>0?s.map(b=>S.jsxs("tr",{className:"border text-center",children:[S.jsx("td",{className:"px-4 py-2",children:p(b.studentId)}),S.jsx("td",{className:"px-4 py-2",children:_(b.teacherId)}),S.jsx("td",{className:"px-4 py-2",children:b.date}),S.jsx("td",{className:"px-4 py-2",children:b.timeSlot}),S.jsxs("td",{className:"px-4 py-2",children:[b.status==="pending"&&S.jsx("span",{className:"px-2 py-1 bg-yellow-300 rounded-lg",children:"Pending"}),b.status==="approved"&&S.jsx("span",{className:"px-2 py-1 bg-green-400 text-white rounded-lg",children:"Approved"}),b.status==="cancelled"&&S.jsx("span",{className:"px-2 py-1 bg-red-500 text-white rounded-lg",children:"Cancelled"})]}),S.jsxs("td",{className:"px-4 py-2 space-x-2",children:[b.status==="pending"&&S.jsxs(S.Fragment,{children:[S.jsx("button",{className:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700",onClick:()=>f(b.id),children:"Approve"}),S.jsx("button",{className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",onClick:()=>m(b.id),children:"Cancel"})]}),b.status!=="pending"&&S.jsx("span",{className:"text-gray-500 italic",children:"No actions"})]})]},b.id)):S.jsx("tr",{children:S.jsx("td",{colSpan:"6",className:"text-center py-4 text-gray-500",children:"No appointments found."})})})]})})]})},vD=()=>{const s=ta(),[e,i]=M.useState(null),[r,o]=M.useState(!0),u=localStorage.getItem("studentId");return M.useEffect(()=>{(async()=>{if(!u){o(!1);return}try{const m=await dg(Ie(Oe,"Students/"+u));m.exists()?i(m.val()):console.warn("Student data not found")}catch(m){console.error("Error fetching student:",m)}o(!1)})()},[u,s]),r?S.jsx("p",{className:"text-center mt-20 text-xl text-gray-600",children:"Loading Dashboard..."}):e?S.jsxs("div",{className:"max-w-7xl mx-auto px-6 mt-8",children:[S.jsxs("div",{className:"bg-blue-600 text-white p-6 rounded-xl shadow mb-8",children:[S.jsxs("h1",{className:"text-3xl font-bold",children:["Welcome, ",e.name," "]}),S.jsx("p",{className:"mt-1 text-blue-100",children:"Manage your appointments and teachers easily"})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[S.jsx("h2",{className:"text-xl font-semibold mb-3",children:"My Profile"}),S.jsxs("p",{children:[S.jsx("b",{children:"Email:"})," ",e.email]}),S.jsxs("p",{children:[S.jsx("b",{children:"Department:"})," ",e.department]}),S.jsxs("p",{className:"mt-2",children:[S.jsx("b",{children:"Status:"})," ",S.jsx("span",{className:"text-green-600 font-semibold",children:e.status})]})]}),S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[S.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Search Teacher"}),S.jsx($t,{to:"/student/search-teacher",className:"text-blue-600",children:"Search Now "})]}),S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[S.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Book Appointment"}),S.jsx($t,{to:"/student/book-appointment",className:"text-blue-600",children:"Book Now "})]}),S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[S.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Send Message"}),S.jsx($t,{to:"/student/send-message",className:"text-blue-600",children:"Send Message "})]})]})]}):S.jsx("p",{className:"text-center mt-20 text-red-500",children:"Student data not found. Please login again."})},xS=()=>{const[s,e]=M.useState([]),[i,r]=M.useState(null),[o,u]=M.useState(!0);M.useEffect(()=>{const p=Ie(Oe,"Teachers");dt(p,_=>{const b=_.val();if(b){const E=Object.keys(b).map(C=>({id:C,...b[C]}));e(E)}else e([]);u(!1)})},[]);const f=p=>{confirm("Are you sure you want to delete?")&&(nD(Ie(Oe,"Teachers/"+p)),alert("Teacher deleted successfully!"))},m=()=>{Ph(Ie(Oe,"Teachers/"+i.id),{name:i.name,department:i.department,subject:i.subject,email:i.email}),r(null),alert("Teacher updated successfully!")};return S.jsxs("div",{className:"max-w-5xl mx-auto mt-10",children:[S.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Manage Teachers"}),o?S.jsx("p",{className:"text-center text-xl",children:"Loading..."}):S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"w-full border border-gray-300",children:[S.jsx("thead",{children:S.jsxs("tr",{className:"bg-blue-600 text-white",children:[S.jsx("th",{className:"px-4 py-2",children:"Name"}),S.jsx("th",{className:"px-4 py-2",children:"Department"}),S.jsx("th",{className:"px-4 py-2",children:"Subject"}),S.jsx("th",{className:"px-4 py-2",children:"Email"}),S.jsx("th",{className:"px-4 py-2",children:"Actions"})]})}),S.jsx("tbody",{children:s.map(p=>S.jsxs("tr",{className:"border border-gray-300",children:[S.jsx("td",{className:"px-4 py-2",children:p.name}),S.jsx("td",{className:"px-4 py-2",children:p.department}),S.jsx("td",{className:"px-4 py-2",children:p.subject}),S.jsx("td",{className:"px-4 py-2",children:p.email}),S.jsxs("td",{className:"px-4 py-2 space-x-3",children:[S.jsx("button",{className:"px-3 py-1 bg-green-500 text-white rounded-md hover:bg-green-600",onClick:()=>r(p),children:"Update"}),S.jsx("button",{className:"px-3 py-1 bg-red-500 text-white rounded-md hover:bg-red-600",onClick:()=>f(p.id),children:"Delete"})]})]},p.id))})]})}),i&&S.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center",children:S.jsxs("div",{className:"bg-white p-6 rounded-xl w-96 shadow-xl",children:[S.jsx("h2",{className:"text-xl font-bold mb-4",children:"Update Teacher"}),S.jsx("input",{className:"w-full p-2 border rounded mb-3",value:i.name,onChange:p=>r({...i,name:p.target.value}),placeholder:"Name"}),S.jsx("input",{className:"w-full p-2 border rounded mb-3",value:i.department,onChange:p=>r({...i,department:p.target.value}),placeholder:"Department"}),S.jsx("input",{className:"w-full p-2 border rounded mb-3",value:i.subject,onChange:p=>r({...i,subject:p.target.value}),placeholder:"Subject"}),S.jsx("input",{className:"w-full p-2 border rounded mb-3",value:i.email,onChange:p=>r({...i,email:p.target.value}),placeholder:"Email"}),S.jsxs("div",{className:"flex justify-between mt-4",children:[S.jsx("button",{className:"px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500",onClick:()=>r(null),children:"Cancel"}),S.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:m,children:"Save Changes"})]})]})})]})},SD=()=>{const[s,e]=M.useState([]),[i,r]=M.useState({}),[o,u]=M.useState({});M.useEffect(()=>{const p=Ie(Oe,"Students");dt(p,_=>r(_.val()||{}))},[]),M.useEffect(()=>{const p=Ie(Oe,"Teachers");dt(p,_=>u(_.val()||{}))},[]),M.useEffect(()=>{const p=Ie(Oe,"Appointments");dt(p,_=>{const b=_.val()||{},E=Object.keys(b).map(C=>({id:C,...b[C]}));e(E)})},[]);const f=p=>i[p]?.name||"Unknown",m=p=>o[p]?.name||"Unknown";return S.jsxs("div",{className:"max-w-6xl mx-auto mt-10 bg-white shadow-xl p-8 rounded-xl",children:[S.jsx("h2",{className:"text-3xl font-bold text-center text-blue-700 mb-6",children:"All Appointments"}),S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"w-full border border-gray-300",children:[S.jsx("thead",{children:S.jsxs("tr",{className:"bg-blue-600 text-white",children:[S.jsx("th",{className:"px-4 py-2",children:"Student"}),S.jsx("th",{className:"px-4 py-2",children:"Teacher"}),S.jsx("th",{className:"px-4 py-2",children:"Date"}),S.jsx("th",{className:"px-4 py-2",children:"Time"}),S.jsx("th",{className:"px-4 py-2",children:"Status"})]})}),S.jsx("tbody",{children:s.length>0?s.map(p=>S.jsxs("tr",{className:"border text-center",children:[S.jsx("td",{className:"px-4 py-2",children:f(p.studentId)}),S.jsx("td",{className:"px-4 py-2",children:m(p.teacherId)}),S.jsx("td",{className:"px-4 py-2",children:p.date}),S.jsx("td",{className:"px-4 py-2",children:p.timeSlot}),S.jsxs("td",{className:"px-4 py-2",children:[p.status==="pending"&&S.jsx("span",{className:"bg-yellow-300 px-3 py-1 rounded text-black",children:"Pending"}),p.status==="approved"&&S.jsx("span",{className:"bg-green-500 px-3 py-1 rounded text-white",children:"Approved"}),p.status==="cancelled"&&S.jsx("span",{className:"bg-red-500 px-3 py-1 rounded text-white",children:"Cancelled"})]})]},p.id)):S.jsx("tr",{children:S.jsx("td",{colSpan:"5",className:"text-center py-4 text-gray-500",children:"No appointments found."})})})]})})]})},dn=({children:s,role:e})=>{const i=localStorage.getItem("role");return i?e&&i!==e?S.jsx(Jv,{to:"/",replace:!0}):s:S.jsx(Jv,{to:"/",replace:!0})},ED=()=>{const[s,e]=M.useState({email:"",password:""}),[i,r]=M.useState(""),[o,u]=M.useState(!1),f=ta(),m=_=>{e({...s,[_.target.name]:_.target.value})},p=async _=>{_.preventDefault(),u(!0),r("");try{const b=Ie(Oe,"AdminCredentials"),E=await dg(b);if(!E.exists()){r("Admin credentials not found in database."),u(!1);return}const C=E.val(),U=C.email,z=C.password;s.email===U&&s.password===z?(localStorage.setItem("adminLoggedIn","true"),logAction("Admin Logged In",{email:s.email}),f("/admin/dashboard")):r("Invalid email or password.")}catch(b){console.error(b),r("Login failed. Try again.")}u(!1)};return S.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gray-100 p-5",children:S.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md",children:[S.jsx("h2",{className:"text-3xl font-bold text-center mb-6 text-blue-700",children:"Admin Login"}),i&&S.jsx("p",{className:"text-red-500 text-center font-medium mb-3",children:i}),S.jsxs("form",{onSubmit:p,className:"space-y-5",children:[S.jsxs("div",{children:[S.jsx("label",{className:"font-semibold",children:"Email"}),S.jsx("input",{type:"email",name:"email",placeholder:"Enter admin email",value:s.email,onChange:m,className:"w-full p-3 border rounded-lg mt-1 focus:ring-2 focus:ring-blue-600"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"font-semibold",children:"Password"}),S.jsx("input",{type:"password",name:"password",placeholder:"Enter admin password",value:s.password,onChange:m,className:"w-full p-3 border rounded-lg mt-1 focus:ring-2 focus:ring-blue-600"})]}),S.jsx("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 text-white py-3 rounded-lg mt-3 hover:bg-blue-700 transition",children:o?"Logging in...":"Login"})]})]})})},bD=()=>{const[s,e]=M.useState({totalStudents:0,approvedStudents:0,pendingStudents:0,totalTeachers:0,totalAppointments:0});M.useEffect(()=>{dl("Admin opened Dashboard");const r=Ie(Oe,"Students");dt(r,f=>{const m=f.val()||{},p=Object.keys(m).length,_=Object.values(m).filter(E=>E.status==="approved").length,b=Object.values(m).filter(E=>E.status==="pending").length;e(E=>({...E,totalStudents:p,approvedStudents:_,pendingStudents:b}))});const o=Ie(Oe,"Teachers");dt(o,f=>{const m=f.val()||{};e(p=>({...p,totalTeachers:Object.keys(m).length}))});const u=Ie(Oe,"Appointments");dt(u,f=>{const m=f.val()||{};e(p=>({...p,totalAppointments:Object.keys(m).length}))})},[]);const i="bg-white p-6 rounded-xl shadow-md border hover:shadow-lg transition cursor-pointer";return S.jsxs("div",{className:"p-8 min-h-screen bg-gray-100",children:[S.jsx("h1",{className:"text-4xl font-bold text-center mb-10 text-blue-700",children:"Admin Dashboard"}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[S.jsxs("div",{className:i,children:[S.jsx("h2",{className:"text-gray-700 text-xl font-semibold",children:"Total Students"}),S.jsx("p",{className:"text-4xl font-bold text-blue-600 mt-3",children:s.totalStudents})]}),S.jsxs("div",{className:i,children:[S.jsx("h2",{className:"text-gray-700 text-xl font-semibold",children:"Approved Students"}),S.jsx("p",{className:"text-4xl font-bold text-green-600 mt-3",children:s.approvedStudents})]}),S.jsxs("div",{className:i,children:[S.jsx("h2",{className:"text-gray-700 text-xl font-semibold",children:"Pending Students"}),S.jsx("p",{className:"text-4xl font-bold text-yellow-500 mt-3",children:s.pendingStudents})]}),S.jsxs("div",{className:i,children:[S.jsx("h2",{className:"text-gray-700 text-xl font-semibold",children:"Total Teachers"}),S.jsx("p",{className:"text-4xl font-bold text-purple-600 mt-3",children:s.totalTeachers})]}),S.jsxs("div",{className:i,children:[S.jsx("h2",{className:"text-gray-700 text-xl font-semibold",children:"Total Appointments"}),S.jsx("p",{className:"text-4xl font-bold text-red-500 mt-3",children:s.totalAppointments})]})]})]})},TD=()=>{const[s,e]=M.useState([]),[i,r]=M.useState([]),[o,u]=M.useState([]);M.useEffect(()=>{const p=Ie(Oe,"Messages");dt(p,E=>{const C=E.val()||{},U=Object.keys(C).map(z=>({id:z,...C[z]}));e(U)});const _=Ie(Oe,"Students");dt(_,E=>{const C=E.val()||{};r(C)});const b=Ie(Oe,"Teachers");dt(b,E=>{const C=E.val()||{};u(C)})},[]);const f=p=>i[p]?.name||"Unknown",m=p=>o[p]?.name||"Unknown";return S.jsxs("div",{className:"p-8 bg-gray-100 min-h-screen",children:[S.jsx("h1",{className:"text-3xl font-bold text-blue-700 mb-6 text-center",children:"Student Messages"}),S.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6",children:[S.jsxs("table",{className:"w-full border",children:[S.jsx("thead",{children:S.jsxs("tr",{className:"bg-blue-600 text-white",children:[S.jsx("th",{className:"p-2",children:"Student"}),S.jsx("th",{className:"p-2",children:"Teacher"}),S.jsx("th",{className:"p-2",children:"Message"}),S.jsx("th",{className:"p-2",children:"Time"})]})}),S.jsx("tbody",{children:s.map(p=>S.jsxs("tr",{className:"border text-center",children:[S.jsx("td",{className:"p-2",children:f(p.studentId)}),S.jsx("td",{className:"p-2",children:m(p.teacherId)}),S.jsx("td",{className:"p-2",children:p.message}),S.jsx("td",{className:"p-2",children:new Date(p.timestamp).toLocaleString()})]},p.id))})]}),s.length===0&&S.jsx("p",{className:"text-center mt-4 text-gray-500",children:"No messages found."})]})]})},wD=()=>{const[s,e]=M.useState({name:"",department:"",subject:"",email:"",password:""}),[i,r]=M.useState(!1),[o,u]=M.useState(""),[f,m]=M.useState(""),p=["Computer Science","Mathematics","Physics","Chemistry","Biology","English","Commerce","Arts"],_=C=>{e({...s,[C.target.name]:C.target.value})},b=()=>{e({name:"",department:"",subject:"",email:"",password:""})},E=async C=>{C.preventDefault(),r(!0),m(""),u("");try{const z=(await ME(zh,s.email,s.password)).user.uid;await lf(Ie(Oe,`Teachers/${z}`),{name:s.name,department:s.department,subject:s.subject,email:s.email,role:"teacher",createdAt:new Date().toISOString()}),await oN(zh),u("Teacher added successfully!"),b()}catch(U){console.error(U),m(U.message)}r(!1)};return S.jsxs("div",{className:"max-w-xl mx-auto bg-white shadow-xl rounded-xl p-8 mt-10",children:[S.jsx("h2",{className:"text-3xl font-bold text-center mb-6 text-blue-700",children:"Add New Teacher"}),f&&S.jsx("p",{className:"text-red-600 text-center",children:f}),o&&S.jsx("p",{className:"text-green-600 text-center",children:o}),S.jsxs("form",{onSubmit:E,className:"space-y-4",children:[S.jsx("input",{name:"name",placeholder:"Name",onChange:_,className:"w-full p-2 border"}),S.jsxs("select",{name:"department",onChange:_,className:"w-full p-2 border",children:[S.jsx("option",{value:"",children:"Select Department"}),p.map(C=>S.jsx("option",{children:C},C))]}),S.jsx("input",{name:"subject",placeholder:"Subject",onChange:_,className:"w-full p-2 border"}),S.jsx("input",{name:"email",placeholder:"Email",onChange:_,className:"w-full p-2 border"}),S.jsx("input",{name:"password",placeholder:"Password",type:"password",onChange:_,className:"w-full p-2 border"}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 bg-gray-300",children:"Reset"}),S.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white",children:i?"Saving...":"Add Teacher"})]})]})]})},CD=()=>{const[s,e]=M.useState([]),[i,r]=M.useState({}),[o,u]=M.useState({});M.useEffect(()=>{const p=Ie(Oe,"Students");dt(p,_=>{r(_.val()||{})})},[]),M.useEffect(()=>{const p=Ie(Oe,"Teachers");dt(p,_=>{u(_.val()||{})})},[]),M.useEffect(()=>{const p=Ie(Oe,"Messages");dt(p,_=>{const b=_.val()||{},E=Object.keys(b).map(C=>({id:C,...b[C]}));e(E.reverse())})},[]);const f=p=>i[p]?.name||"Unknown Student",m=p=>o[p]?.name||"Unknown Teacher";return S.jsxs("div",{className:"max-w-5xl mx-auto mt-10 bg-white shadow-xl rounded-xl p-8",children:[S.jsx("h1",{className:"text-3xl font-bold text-center text-blue-700 mb-6",children:"Student Messages"}),S.jsx("div",{className:"space-y-5",children:s.length>0?s.map(p=>S.jsxs("div",{className:"border p-5 rounded-xl shadow-sm bg-gray-50",children:[S.jsxs("h3",{className:"text-lg font-semibold text-blue-700",children:["From: ",f(p.studentId)]}),S.jsxs("p",{className:"text-gray-700 mt-1",children:[S.jsx("b",{children:"To:"})," ",m(p.teacherId)]}),S.jsx("p",{className:"mt-3 bg-white p-3 border rounded-lg shadow-inner",children:p.message}),S.jsx("p",{className:"text-sm text-gray-500 mt-2",children:new Date(p.timestamp).toLocaleString()})]},p.id)):S.jsx("p",{className:"text-center text-gray-500",children:"No messages found."})})]})},NS=()=>{const[s,e]=M.useState({name:"",email:"",password:""}),[i,r]=M.useState(!1),[o,u]=M.useState(""),[f,m]=M.useState(""),p=E=>{e({...s,[E.target.name]:E.target.value})},_=()=>s.name.trim()?s.email.includes("@")?s.password.length<6?"Password must be at least 6 characters.":null:"Enter a valid email.":"Please enter your name.",b=async E=>{E.preventDefault(),m(""),u("");const C=_();if(C){m(C);return}r(!0);try{const z=(await ME(zh,s.email,s.password)).user.uid;await lf(Ie(Oe,"Students/"+z),{name:s.name,email:s.email,status:"pending",createdAt:new Date().toISOString()}),u("Registration successful! Please wait for admin approval."),e({name:"",email:"",password:""}),setTimeout(()=>u(""),3e3)}catch(U){console.error(U),m("Registration failed. Try again.")}r(!1)};return S.jsxs("div",{className:"max-w-lg mx-auto bg-white shadow-xl p-8 rounded-xl mt-10",children:[S.jsx("h2",{className:"text-3xl text-center text-blue-700 font-bold mb-6",children:"Student Registration"}),f&&S.jsx("p",{className:"text-red-500 text-center mb-3",children:f}),o&&S.jsx("p",{className:"text-green-600 text-center mb-3",children:o}),S.jsxs("form",{onSubmit:b,className:"space-y-5",children:[S.jsxs("div",{children:[S.jsx("label",{className:"font-semibold",children:"Full Name"}),S.jsx("input",{type:"text",name:"name",placeholder:"Enter name",value:s.name,onChange:p,className:"w-full p-3 border rounded-lg mt-1"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"font-semibold",children:"Email Address"}),S.jsx("input",{type:"email",name:"email",placeholder:"Enter email",value:s.email,onChange:p,className:"w-full p-3 border rounded-lg mt-1"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"font-semibold",children:"Password"}),S.jsx("input",{type:"password",name:"password",placeholder:"Create password",value:s.password,onChange:p,className:"w-full p-3 border rounded-lg mt-1"})]}),S.jsx("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition",children:i?"Registering...":"Register"})]})]})},AD=()=>{const s=localStorage.getItem("studentId"),[e,i]=M.useState([]),[r,o]=M.useState(""),[u,f]=M.useState(""),[m,p]=M.useState(""),[_,b]=M.useState(!1),[E,C]=M.useState(""),[U,z]=M.useState(""),Q=["10:00 AM","11:00 AM","12:00 PM","02:00 PM","03:00 PM","04:00 PM"];M.useEffect(()=>{const $=Ie(Oe,"Teachers");dt($,ee=>{const re=ee.val();if(re){const oe=Object.keys(re).map(me=>({id:me,...re[me]}));i(oe)}})},[]);const Z=async $=>{if($.preventDefault(),z(""),C(""),!r||!u||!m)return z("Please fill all fields.");b(!0);try{const ee=Ie(Oe,"Appointments");await af(ee,{studentId:s,teacherId:r,date:u,timeSlot:m,status:"pending",createdAt:new Date().toISOString()}),dl("Appointment Booked",{studentId:s,teacherId:r,date:u}),C("Appointment Booked Successfully!"),o(""),f(""),p(""),setTimeout(()=>C(""),2e3)}catch(ee){console.error(ee),z("Failed to book appointment.")}b(!1)};return S.jsxs("div",{className:"max-w-xl mx-auto mt-10 bg-white p-8 rounded-xl shadow-lg",children:[S.jsx("h2",{className:"text-3xl font-bold text-center mb-5 text-blue-700",children:"Book Appointment"}),U&&S.jsx("p",{className:"text-red-500 text-center mb-4",children:U}),E&&S.jsx("p",{className:"text-green-600 text-center mb-4",children:E}),S.jsxs("form",{onSubmit:Z,className:"space-y-5",children:[S.jsxs("div",{children:[S.jsx("label",{className:"font-semibold",children:"Select Teacher"}),S.jsxs("select",{className:"w-full p-3 border rounded-lg mt-1",value:r,onChange:$=>o($.target.value),children:[S.jsx("option",{value:"",children:"Choose Teacher"}),e.map($=>S.jsxs("option",{value:$.id,children:[$.name,"  ",$.department]},$.id))]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"font-semibold",children:"Select Date"}),S.jsx("input",{type:"date",className:"w-full p-3 border rounded-lg mt-1",value:u,onChange:$=>f($.target.value)})]}),S.jsxs("div",{children:[S.jsx("label",{className:"font-semibold",children:"Select Time"}),S.jsxs("select",{className:"w-full p-3 border rounded-lg mt-1",value:m,onChange:$=>p($.target.value),children:[S.jsx("option",{value:"",children:"Choose Time Slot"}),Q.map(($,ee)=>S.jsx("option",{value:$,children:$},ee))]})]}),S.jsx("button",{type:"submit",disabled:_,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition",children:_?"Booking...":"Book Appointment"})]})]})},xD=()=>{const[s,e]=M.useState([]),[i,r]=M.useState([]),[o,u]=M.useState(""),[f,m]=M.useState("");return M.useEffect(()=>{const p=Ie(Oe,"Teachers");dt(p,_=>{const b=_.val();if(b){const E=Object.keys(b).map(C=>({id:C,...b[C]}));e(E),r(E)}})},[]),M.useEffect(()=>{let p=s;o.trim()!==""&&(p=p.filter(_=>_.name.toLowerCase().includes(o.toLowerCase())||_.subject.toLowerCase().includes(o.toLowerCase()))),f&&(p=p.filter(_=>_.department===f)),r(p)},[o,f,s]),S.jsxs("div",{className:"max-w-6xl mx-auto p-6 mt-10",children:[S.jsx("h1",{className:"text-3xl font-bold text-center text-blue-700 mb-6",children:"Search Teacher"}),S.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[S.jsx("input",{type:"text",placeholder:"Search by name or subject",className:"w-full p-3 border rounded-lg shadow-sm",value:o,onChange:p=>u(p.target.value)}),S.jsxs("select",{className:"w-full md:w-64 p-3 border rounded-lg shadow-sm bg-white",value:f,onChange:p=>m(p.target.value),children:[S.jsx("option",{value:"",children:"All Departments"}),S.jsx("option",{value:"Computer Science",children:"Computer Science"}),S.jsx("option",{value:"Mathematics",children:"Mathematics"}),S.jsx("option",{value:"Physics",children:"Physics"}),S.jsx("option",{value:"Chemistry",children:"Chemistry"}),S.jsx("option",{value:"Biology",children:"Biology"}),S.jsx("option",{value:"English",children:"English"})]})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.length>0?i.map(p=>S.jsxs("div",{className:"bg-white p-5 rounded-xl shadow hover:shadow-lg transition",children:[S.jsx("h2",{className:"text-xl font-bold text-blue-600",children:p.name}),S.jsxs("p",{className:"text-gray-700 mt-1",children:[S.jsx("b",{children:"Department:"})," ",p.department]}),S.jsxs("p",{className:"text-gray-700",children:[S.jsx("b",{children:"Subject:"})," ",p.subject]}),S.jsxs("p",{className:"text-gray-700",children:[S.jsx("b",{children:"Email:"})," ",p.email]}),S.jsx("button",{className:"mt-4 w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition",onClick:()=>alert(`You selected: ${p.name}`),children:"View Details"})]},p.id)):S.jsx("p",{className:"text-center text-gray-500 col-span-full",children:"No teachers found."})})]})},ND=()=>{const[s,e]=M.useState([]),[i,r]=M.useState(""),[o,u]=M.useState(""),[f,m]=M.useState(""),[p,_]=M.useState(""),[b,E]=M.useState(!1),C=localStorage.getItem("studentId");M.useEffect(()=>{const z=Ie(Oe,"Teachers");dt(z,Q=>{const Z=Q.val();if(Z){const $=Object.keys(Z).map(ee=>({id:ee,...Z[ee]}));e($)}})},[]);const U=async z=>{if(z.preventDefault(),_(""),m(""),!i||!o.trim())return _("Please select teacher and write a message.");E(!0);try{const Q=Ie(Oe,"Messages");await af(Q,{studentId:C,teacherId:i,message:o,timestamp:new Date().toISOString()}),dl("Message Sent",{studentId:C,teacherId:i}),m("Message sent successfully!"),u(""),r(""),setTimeout(()=>m(""),2e3)}catch(Q){console.error(Q),_("Failed to send message.")}E(!1)};return S.jsxs("div",{className:"max-w-xl mx-auto mt-10 bg-white shadow-lg rounded-xl p-8",children:[S.jsx("h2",{className:"text-3xl font-bold text-center text-blue-700 mb-6",children:"Send Message"}),p&&S.jsx("p",{className:"text-red-500 text-center mb-3",children:p}),f&&S.jsx("p",{className:"text-green-600 text-center mb-3",children:f}),S.jsxs("form",{onSubmit:U,className:"space-y-5",children:[S.jsxs("div",{children:[S.jsx("label",{className:"font-semibold",children:"Select Teacher"}),S.jsxs("select",{value:i,onChange:z=>r(z.target.value),className:"w-full p-3 border rounded-lg mt-1",children:[S.jsx("option",{value:"",children:"Choose Teacher"}),s.map(z=>S.jsxs("option",{value:z.id,children:[z.name,"  ",z.department]},z.id))]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"font-semibold",children:"Message"}),S.jsx("textarea",{rows:5,placeholder:"Write your message here...",className:"w-full p-3 border rounded-lg mt-1",value:o,onChange:z=>u(z.target.value)})]}),S.jsx("button",{type:"submit",disabled:b,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition",children:b?"Sending...":"Send Message"})]})]})},RD=()=>{const[s,e]=M.useState([]),[i,r]=M.useState([]),[o,u]=M.useState(""),[f,m]=M.useState(""),[p,_]=M.useState(""),[b,E]=M.useState(""),[C,U]=M.useState(""),[z,Q]=M.useState(""),[Z,$]=M.useState(!1),ee=["10:00 AM","11:00 AM","12:00 PM","02:00 PM","03:00 PM","04:00 PM"];M.useEffect(()=>{const oe=Ie(Oe,"Students");dt(oe,me=>{const ye=me.val();if(ye){const I=Object.keys(ye).map(A=>({id:A,...ye[A]})).filter(A=>A.status==="approved");e(I)}})},[]),M.useEffect(()=>{const oe=Ie(Oe,"Teachers");dt(oe,me=>{const ye=me.val();if(ye){const I=Object.keys(ye).map(A=>({id:A,...ye[A]}));r(I)}})},[]);const re=async oe=>{if(oe.preventDefault(),Q(""),U(""),!o||!f||!p||!b)return Q("Please fill all fields.");$(!0);try{const me=Ie(Oe,"Appointments");await af(me,{studentId:o,teacherId:f,date:p,timeSlot:b,status:"approved",createdBy:"admin",createdAt:new Date().toISOString()}),dl("Admin Scheduled Appointment",{studentId:o,teacherId:f,date:p,timeSlot:b}),U("Appointment Scheduled Successfully!"),u(""),m(""),_(""),E(""),setTimeout(()=>U(""),2500)}catch(me){console.error(me),Q("Failed to schedule appointment.")}$(!1)};return S.jsxs("div",{className:"max-w-xl mx-auto mt-10 bg-white shadow-lg p-8 rounded-xl",children:[S.jsx("h2",{className:"text-3xl font-bold text-center text-blue-700 mb-6",children:"Schedule Appointment (Admin)"}),z&&S.jsx("p",{className:"text-red-500 text-center mb-3",children:z}),C&&S.jsx("p",{className:"text-green-600 text-center mb-3",children:C}),S.jsxs("form",{onSubmit:re,className:"space-y-5",children:[S.jsxs("div",{children:[S.jsx("label",{className:"font-semibold",children:"Select Student"}),S.jsxs("select",{className:"w-full p-3 border rounded-lg mt-1",value:o,onChange:oe=>u(oe.target.value),children:[S.jsx("option",{value:"",children:"Choose Student"}),s.map(oe=>S.jsxs("option",{value:oe.id,children:[oe.name,"  ",oe.email]},oe.id))]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"font-semibold",children:"Select Teacher"}),S.jsxs("select",{className:"w-full p-3 border rounded-lg mt-1",value:f,onChange:oe=>m(oe.target.value),children:[S.jsx("option",{value:"",children:"Choose Teacher"}),i.map(oe=>S.jsxs("option",{value:oe.id,children:[oe.name,"  ",oe.department]},oe.id))]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"font-semibold",children:"Select Date"}),S.jsx("input",{type:"date",className:"w-full p-3 border rounded-lg mt-1",value:p,onChange:oe=>_(oe.target.value)})]}),S.jsxs("div",{children:[S.jsx("label",{className:"font-semibold",children:"Select Time Slot"}),S.jsxs("select",{className:"w-full p-3 border rounded-lg mt-1",value:b,onChange:oe=>E(oe.target.value),children:[S.jsx("option",{value:"",children:"Choose Time Slot"}),ee.map((oe,me)=>S.jsx("option",{value:oe,children:oe},me))]})]}),S.jsx("button",{type:"submit",disabled:Z,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition",children:Z?"Scheduling...":"Schedule Appointment"})]})]})},ID=()=>{const s=ta();return S.jsxs("div",{className:"h-screen w-full flex flex-col justify-center items-center bg-gray-100 px-4",children:[S.jsx("h1",{className:"text-7xl font-extrabold text-blue-600",children:"404"}),S.jsx("p",{className:"text-2xl text-gray-700 mt-4 font-semibold",children:"Page Not Found"}),S.jsx("p",{className:"text-gray-500 mt-2 text-center max-w-xl",children:"The page you are looking for doesn't exist or has been moved."}),S.jsxs("div",{className:"flex space-x-4 mt-6",children:[S.jsx("button",{onClick:()=>s("/"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Go Home"}),S.jsx("button",{onClick:()=>s(-1),className:"px-6 py-2 bg-gray-400 text-white rounded-lg hover:bg-gray-500 transition",children:"Go Back"})]})]})},OD=()=>S.jsxs(Kw,{base:"/StudentTeacher-Booking/ ",children:[S.jsx(xt,{path:"/",element:S.jsx(mD,{})}),S.jsx(xt,{path:"/student/register",element:S.jsx(NS,{})}),S.jsx(xt,{path:"/RegisterStudent",element:S.jsx(NS,{})}),S.jsx(xt,{path:"/admin/login",element:S.jsx(ED,{})}),S.jsx(xt,{path:"/admin/dashboard",element:S.jsx(dn,{role:"admin",children:S.jsx(bD,{})})}),S.jsx(xt,{path:"/admin/approve-students",element:S.jsx(dn,{role:"admin",children:S.jsx(_D,{})})}),S.jsx(xt,{path:"/admin/messages",element:S.jsx(dn,{role:"admin",children:S.jsx(TD,{})})}),S.jsx(xt,{path:"/admin/Teachers",element:S.jsx(dn,{role:"admin",children:S.jsx(xS,{})})}),S.jsx(xt,{path:"/teachers/add",element:S.jsx(dn,{role:"admin",children:S.jsx(wD,{})})}),S.jsx(xt,{path:"/teachers/list",element:S.jsx(dn,{role:"admin",children:S.jsx(xS,{})})}),S.jsx(xt,{path:"/student/dashboard",element:S.jsx(dn,{role:"student",children:S.jsx(vD,{})})}),S.jsx(xt,{path:"/student/book-appointment",element:S.jsx(dn,{role:"student",children:S.jsx(AD,{})})}),S.jsx(xt,{path:"/student/search-teacher",element:S.jsx(dn,{role:"student",children:S.jsx(xD,{})})}),S.jsx(xt,{path:"/student/send-message",element:S.jsx(dn,{role:"student",children:S.jsx(ND,{})})}),S.jsx(xt,{path:"/teachers/view-messages",element:S.jsx(dn,{role:"teacher",children:S.jsx(CD,{})})}),S.jsx(xt,{path:"/teachers/appointments",element:S.jsx(dn,{role:"teacher",children:S.jsx(SD,{})})}),S.jsx(xt,{path:"/teacher/schedule",element:S.jsx(dn,{role:"teacher",children:S.jsx(RD,{})})}),S.jsx(xt,{path:"/appointments/list",element:S.jsx(dn,{role:"admin",children:S.jsx(yD,{})})}),S.jsx(xt,{path:"*",element:S.jsx(ID,{})})]});function DD(){return S.jsxs(S.Fragment,{children:[S.jsx(gD,{}),S.jsx(OD,{})]})}W1.createRoot(document.getElementById("root")).render(S.jsx(_C,{children:S.jsx(DD,{})}));
